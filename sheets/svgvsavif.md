---
tags: [technology comparison]
title: SVG vs AVIF
---
# SVG vs AVIF

首先位图和矢量格式是两个阵营，接下来是对比。

## 支持

根据avif的官方文档说明：

>作为矢量图形的主要格式，SVG 受到移动和桌面上所有主要 Web 浏览器的支持。所有主流浏览器都支持动画 SVG 图像和 SMIL 语言。SVG 是 Web 开发不可或缺的一部分，其普遍支持也就不足为奇了。尽管 AVIF 还很年轻，但其市场占有率却取得了令人印象深刻的增长，并且自版本 93 以来就得到了世界上最受欢迎的浏览器 Google Chrome 的全面支持。Opera 也完全支持 AVIF。2021 年 7 月，Firefox 在 Firefox 92 更新中全面支持静态和排序的 AVIF 图像。Safari 和 Microsoft Edge 尚未支持该格式，但我们预计它们很快也会跟进。

谷歌给的答案是全球用户Chrome占51.5%，Microsoft Edge + Safari占21.5%（2023年9月16日数据，选取最近1个月）那一个普通的国内站点呢（用户偏程序员）？直接拉站点的后台数据：最近访问1400条有450条是Microsoft Edge + Safari，占比约28%。

所以Safari占比根据你是国内还是国外的站点和站点性质，在21.5%~28%之间波动。

## 压缩

根据avif的官方文档说明：

>是最接近矢量图形的位图格式。AVIF 的无损压缩击败了 PNG 等格式，可提供较小的文件大小和相同的质量。在引入 AVIF 之前，位图图形的行业标准是 PNG（便携式网络图形）。可以减小 SVG 图像的大小。作为一种基于 XML 的格式，SVG 文件往往包含许多重复的文本片段。这非常适合无损压缩。使用 gzip 算法，可以删除这些碎片，从而将文件大小减少多达 50%。

测试之后发现，官网说的对。

一张176KB的png
转化为avif并压缩后是24kb
转化为svg并压缩后是44kb

## 综合加载速度是多少？

根据avif的官方文档说明：

>解码 SVG 图像时，计算机不必处理整个像素网格并绘制线条。因此，SVG 文件的编码和解码速度很快，许多 Web 管理员使用 SVG 图形而不是 PNG（和 AVIF）来缩短页面加载时间。相比之下，由于 AVIF 的复杂性，它的使用速度较慢。该格式拥有平庸的单核编码和解码速度。然而，AVIF 确实支持并行化。这使得图像编码器能够利用多线程硬件并利用多个 CPU 内核来解码和编码 AVIF 图像。由于计算机硬件倾向于更高的核心和线程数量，我们预计 AVIF 的缓慢速度会随着时间的推移而得到改善。然而，很明显，对于大多数图像，SVG 比 AVIF 更快。

测试之后发现，官网说的对。

将avif再转成base64，将svg复制到网页中。

svg连下载带加载需要7毫秒
avif连下载带加载需要9毫秒

## 图片展示效果

根据avif的官方文档说明：
> SVG 和 AVIF 是完全不同的图像存储方法，并且有各自的优点和缺点。要决定使用哪种格式，您必须确定要导出的图像的复杂性。图像越详细，就越难将其追踪为矢量图形。您无法将照片表示为 SVG，甚至像照片一样的图片也很难作为矢量进行追踪。AVIF 代表着光栅图形向前迈出的重要一步。在 AVIF 出现之前，与优化的 SVG 图形相比，PNG 文件非常庞大。因此，那些希望减少带宽限制和页面加载的人使用 SVG 图形。由于 AVIF 的无损压缩效率更高，情况发生了变化。对于复杂的图形，AVIF 是无与伦比的。但对于徽标和文本艺术等简单图形，SVG 是一种难以击败的图像格式。

测试之后发现，官网说的对。

对于经典图形譬如各种简洁的Logo，SVG加载快，效果好，可缩放，支持好。SVG完胜。
对于复杂的图像譬如人像、复杂的风景图等，avif的效果更好，其他SVG胜。

## 总结

AVIF 给了一个新的选择，但这个选择目前来说：未来可期。

如果你的站点面向的用户几乎都是谷歌浏览器、并且你的图片是风景、人像、漫画为主。不妨尝试下AVIF。

目前市场也是这么认为的，数据来源w3techs：

SVG 占比 54.1%
AVIF 占比 0.1%
