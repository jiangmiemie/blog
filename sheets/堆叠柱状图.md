---
tags: [python,pyecharts]
---

``` python

'''
绘制柱状堆叠图
'''

from pyecharts import options as opts#导入模块
from pyecharts.charts import Bar

x_attr = ["2018", "2019", "2020", "2021"] #x轴
data1 = [2.691, 4.282, 12.88, 11.43] #第1季度
data2 = [9.157, 9.028, 11.46,9.507]#第2季度
data3 = [4.282, 9.484, 11.91, 16.97]#第3季度
data4 = [16.72, 22.46,26.85, 0]#第4季度

bar=(
    Bar()
        .add_xaxis(x_attr) #设置x轴
        .add_yaxis("第1季度", data1, stack="stack1") #叠加Y轴：数据名称、数据、是否叠加
        .add_yaxis("第2季度", data2, stack="stack1") #叠加Y轴：数据名称、数据、是否叠加
        .add_yaxis("第3季度", data3, stack="stack1") #叠加Y轴：数据名称、数据、是否叠加
        .add_yaxis("第4季度", data4, stack="stack1") #叠加Y轴：数据名称、数据、是否叠加
        .set_series_opts(label_opts=opts.LabelOpts(is_show=False)) #是否直接显示数值：否
        .set_global_opts(title_opts=opts.TitleOpts(title="宁德时代扣非净利润季度报表", 
        subtitle="2017-2021年"))#主标题，副标题
    )

bar.render_notebook()

```
