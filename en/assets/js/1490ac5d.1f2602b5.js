"use strict";(self.webpackChunkjiangmiemie=self.webpackChunkjiangmiemie||[]).push([[2877],{2905:(i,t,e)=>{e.r(t),e.d(t,{SettingsContext:()=>y,default:()=>R,useSettings:()=>W});var h=e(2614),n=e(83),d=e(7372),a=e(7294),l=e(6249),s=e(5261),r=e(3916),g=e(3685),o=e(5644),u=e(7458),c=e(6886),w=e(629),x=e(5929),m=e(6263),p=e(5729),j=e(3841),v=e(913),f=(e(4886),e(7188),e(9193),e(5893));const S=[{id:"2021071",width:1934,height:2579,title:"\u6df1\u5733",description:"\u6df1\u5733\u7684\u590f\u5929"},{id:"2021072",width:1080,height:1077,title:"\u6df1\u5733",description:"\u5858\u6717\u5c71\u7684\u82b1"},{id:"2021073",width:4032,height:3024,title:"\u6df1\u5733",description:"\u5858\u6717\u5c71\u7684\u5c71\u9876"},{id:"2021074",width:4032,height:3024,title:"\u6df1\u5733",description:"\u5858\u6717\u5c71\u7684\u4ead\u5b50"},{id:"2021075",width:3464,height:3464,title:"\u6df1\u5733",description:"\u5858\u6717\u5c71\u7684\u6808\u9053"},{id:"2021076",width:4524,height:2112,title:"\u5e7f\u5dde",description:"\u4e1c\u5b9d\u5927\u53a6\u7684\u53cc\u5f69\u8679"},{id:"2021077",width:1920,height:923,title:"\u6df1\u5733",description:"\u6df1\u5733\u7684\u4e3b\u5e72\u9053"},{id:"2021078",width:5792,height:4344,title:"\u4e0a\u6d77",description:"\u4e0a\u6d77\u7684\u9c7c\u9cde\u4e91"},{id:"2021079",width:1440,height:1080,title:"\u6df1\u5733",description:"\u5357\u5c71\u533a\u7684\u5821\u5792\u4e91"},{id:"2022081",width:1422,height:799},{id:"2022082",width:2738,height:1280},{id:"2022083",width:1664,height:935},{id:"2022084",width:1664,height:935},{id:"2022085",width:1920,height:1080},{id:"20230705092828",width:4032,height:2268},{id:"20230705092938",width:1920,height:1080},{id:"20230705092949",width:3188,height:1792},{id:"20230705093600",width:2268,height:1168},{id:"20230705093711",width:4032,height:2268},{id:"20230705093721",width:4032,height:2268},{id:"20230705094040",width:3979,height:2236},{id:"20230705094046",width:2160,height:2430},{id:"20230705094050",width:1080,height:607},{id:"2023071",width:2268,height:4032},{id:"202308171",width:1664,height:935},{id:"202308172",width:1664,height:935},{id:"202308173",width:1664,height:935},{id:"202311291",width:2160,height:7014},{id:"202311292",width:2160,height:11824},{id:"ForestPark1",width:1080,height:1080},{id:"ForestPark2",width:1080,height:1860},{id:"ForestPark3",width:1920,height:1080},{id:"ForestPark4",width:1918,height:1080},{id:"ForestPark5",width:1706,height:960},{id:"ForestPark6",width:1920,height:1080},{id:"ForestPark7",width:1920,height:1080},{id:"nanxiangtown1",width:4032,height:2268},{id:"nanxiangtown2",width:4032,height:2268},{id:"nanxiangtown3",width:3676,height:2070},{id:"nanxiangtown4",width:4032,height:2268},{id:"Shanghai_Wildlife_Park1",width:2160,height:9712},{id:"Shanghai_Wildlife_Park2",width:2160,height:7284},{id:"Shanghai_Wildlife_Park3",width:2160,height:3641},{id:"Shanghai_Wildlife_Park4",width:2160,height:4855},{id:"Shanghai_Wildlife_Park5",width:2160,height:7285},{id:"Shanghai_Wildlife_Park6",width:2160,height:7284},{id:"Shanghai_Wildlife_Park7",width:2160,height:6069},{id:"Shanghai_Wildlife_Park8",width:2160,height:4856}],P=new Set(S.map((i=>i.title))).add("\u5168\u9009"),b=Array.from(P).map((i=>({value:i||"\u5176\u4ed6",title:i||"\u5176\u4ed6"}))),k=S.map((i=>{return{src:(t=i.id,e=i.width,h=i.height,`/gallery/${t}-${e}-${h}.jpg`),width:i.width,height:i.height,title:i.title,description:(i.description||"")+`\n${i.width} x ${i.height}`};var t,e,h})),C=a.useEffect;function Z(i){let{children:t}=i;return(0,f.jsx)(c.ZP,{item:!0,xs:12,sm:8,lg:6,children:t})}function _(i){let{name:t,min:e,max:h,step:n,value:d,onChange:l,disabled:s}=i;const[r,g]=(0,a.useState)(!1);return(0,f.jsxs)(v.Z,{margin:"none",fullWidth:!0,children:[(0,f.jsx)(j.Z,{shrink:!0,variant:"standard",focused:r,children:t}),(0,f.jsx)(x.ZP,{min:e,max:h,step:n,value:d,disabled:s,size:"small",valueLabelDisplay:"auto",marks:[{value:e,label:`${e}`},{value:h,label:`${h}`}],onChange:(i,t,e)=>l(i,"number"==typeof t?t:t[0],e),onFocus:()=>g(!0),onBlur:()=>g(!1),sx:{mt:2}})]})}const y=(0,a.createContext)(null);function W(){const i=(0,a.useContext)(y);if(!i)throw new Error("useSettings must be used within a SettingsContext");return i}function F(i){let{children:t}=i;const[e,h]=(0,a.useState)("masonry"),[n,d]=(0,a.useState)(k.length),[l,s]=(0,a.useState)(200),[r,g]=(0,a.useState)(5),[o,u]=(0,a.useState)(30),[x,j]=(0,a.useState)(30),[v,S]=(0,a.useState)(100),[P,W]=(0,a.useState)("\u5176\u4ed6");C((()=>{const i=window.innerWidth;g(i<480?2:i<900?3:5),u(i<480?10:i<900?20:30),j(i<480?10:i<900?20:30),s(i<480?100:i<900?150:200)}),[]);const F=(0,a.useMemo)((()=>({photos:"\u5176\u4ed6"===P?k.filter((i=>void 0===i.title||null===i.title)).slice(0,n):"\u5168\u9009"===P?k.slice(0,n):k.filter((i=>i.title===P)).slice(0,n),layout:e,targetRowHeight:l,columns:r,spacing:o,padding:x,width:v})),[e,n,l,r,o,x,v,P]);return(0,f.jsxs)(y.Provider,{value:F,children:[(0,f.jsx)(w.Z,{variant:"outlined",sx:{mb:4,p:2,textAlign:"left"},children:(0,f.jsxs)(c.ZP,{container:!0,columns:24,rowSpacing:2,columnSpacing:4,children:[(0,f.jsx)(Z,{children:(0,f.jsx)(p.Z,{select:!0,fullWidth:!0,label:"Layout",variant:"standard",margin:"none",value:e,onChange:i=>h(i.target.value),children:[{value:"rows",title:"Rows"},{value:"columns",title:"Columns"},{value:"masonry",title:"Masonry"}].map((i=>{let{value:t,title:e}=i;return(0,f.jsx)(m.Z,{value:t,children:e},t)}))})}),(0,f.jsx)(Z,{children:(0,f.jsx)(_,{name:"Photos",min:1,max:k.length,value:n,onChange:(i,t)=>d(t)})}),(0,f.jsx)(Z,{children:(0,f.jsx)(_,{name:"Spacing",min:0,max:50,value:o,onChange:(i,t)=>u(t)})}),(0,f.jsx)(Z,{children:(0,f.jsx)(_,{name:"Padding",min:0,max:50,value:x,onChange:(i,t)=>j(t)})}),(0,f.jsx)(Z,{children:(0,f.jsx)(_,{name:"Row height",min:50,max:500,step:5,value:l,disabled:"rows"!==e,onChange:(i,t)=>s(t)})}),(0,f.jsx)(Z,{children:(0,f.jsx)(_,{name:"Columns",min:1,max:10,value:r,disabled:"rows"===e,onChange:(i,t)=>g(t)})}),(0,f.jsx)(Z,{children:(0,f.jsx)(_,{name:"Width (%)",min:10,max:100,step:5,value:v,onChange:(i,t)=>S(t)})}),(0,f.jsx)(Z,{children:(0,f.jsx)(p.Z,{select:!0,fullWidth:!0,label:"Tag",variant:"standard",margin:"none",value:P,onChange:i=>W(i.target.value),children:b.map((i=>{let{value:t,title:e}=i;return(0,f.jsx)(m.Z,{value:t,children:e},t)}))})})]})}),t]})}function $(){const{photos:i,layout:t,columns:e,targetRowHeight:d,spacing:c,padding:w,width:x}=W(),[m,p]=(0,a.useState)(-1),j=a.useCallback((i=>{let{imageProps:{alt:t,style:e,...h}}=i;return(0,f.jsx)("img",{alt:t,style:{...e,borderRadius:w>2?"4px":0,boxShadow:c>0?"0px 3px 3px -2px rgb(0 0 0 / 20%), 0px 3px 4px 0px rgb(0 0 0 / 14%), 0px 1px 8px 0px rgb(0 0 0 / 12%)":"none",transition:"box-shadow 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms"},...h})}),[c,w]);return(0,f.jsxs)(h.Z,{sx:{width:`${x}%`,mx:"auto"},children:[(0,f.jsx)(n.H,{photos:i,layout:t,columns:e,spacing:c,padding:w,targetRowHeight:d,renderPhoto:j,onClick:i=>{let{index:t}=i;return p(t)}}),(0,f.jsx)(l.ZP,{slides:i,open:m>=0,index:m,close:()=>p(-1),plugins:[s.Z,r.Z,g.Z,o.Z,u.Z]})]})}function R(){return(0,f.jsx)(d.Z,{children:(0,f.jsx)(F,{children:(0,f.jsx)($,{})})})}}}]);