"use strict";(self.webpackChunkjiangmiemie=self.webpackChunkjiangmiemie||[]).push([[6980],{3905:(e,a,t)=>{t.d(a,{Zo:()=>u,kt:()=>f});var l=t(7294);function r(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function k(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);a&&(l=l.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,l)}return t}function n(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?k(Object(t),!0).forEach((function(a){r(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):k(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}function i(e,a){if(null==e)return{};var t,l,r=function(e,a){if(null==e)return{};var t,l,r={},k=Object.keys(e);for(l=0;l<k.length;l++)t=k[l],a.indexOf(t)>=0||(r[t]=e[t]);return r}(e,a);if(Object.getOwnPropertySymbols){var k=Object.getOwnPropertySymbols(e);for(l=0;l<k.length;l++)t=k[l],a.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var p=l.createContext({}),o=function(e){var a=l.useContext(p),t=a;return e&&(t="function"==typeof e?e(a):n(n({},a),e)),t},u=function(e){var a=o(e.components);return l.createElement(p.Provider,{value:a},e.children)},m="mdxType",c={inlineCode:"code",wrapper:function(e){var a=e.children;return l.createElement(l.Fragment,{},a)}},N=l.forwardRef((function(e,a){var t=e.components,r=e.mdxType,k=e.originalType,p=e.parentName,u=i(e,["components","mdxType","originalType","parentName"]),m=o(t),N=r,f=m["".concat(p,".").concat(N)]||m[N]||c[N]||k;return t?l.createElement(f,n(n({ref:a},u),{},{components:t})):l.createElement(f,n({ref:a},u))}));function f(e,a){var t=arguments,r=a&&a.mdxType;if("string"==typeof e||r){var k=t.length,n=new Array(k);n[0]=N;var i={};for(var p in a)hasOwnProperty.call(a,p)&&(i[p]=a[p]);i.originalType=e,i[m]="string"==typeof e?e:r,n[1]=i;for(var o=2;o<k;o++)n[o]=t[o];return l.createElement.apply(null,n)}return l.createElement.apply(null,t)}N.displayName="MDXCreateElement"},5190:(e,a,t)=>{t.r(a),t.d(a,{assets:()=>p,contentTitle:()=>n,default:()=>c,frontMatter:()=>k,metadata:()=>i,toc:()=>o});var l=t(7462),r=(t(7294),t(3905));const k={sidebar_position:1,title:"\u6d88\u606f\u961f\u5217\u6982\u8ff0"},n="\u6d88\u606f\u961f\u5217",i={unversionedId:"09\u6d88\u606f\u961f\u5217/index",id:"09\u6d88\u606f\u961f\u5217/index",title:"\u6d88\u606f\u961f\u5217\u6982\u8ff0",description:"* \u6d88\u606f\u961f\u5217\u2014\u2014\u7528\u4e8e\u5b58\u653e\u6d88\u606f\u7684\u7ec4\u4ef6",source:"@site/docs/09\u6d88\u606f\u961f\u5217/index.md",sourceDirName:"09\u6d88\u606f\u961f\u5217",slug:"/09\u6d88\u606f\u961f\u5217/",permalink:"/docs/09\u6d88\u606f\u961f\u5217/",draft:!1,editUrl:"https://github.com/jiangmiemie/blog/blob/master/docs/09\u6d88\u606f\u961f\u5217/index.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1,title:"\u6d88\u606f\u961f\u5217\u6982\u8ff0"},sidebar:"tutorialSidebar",previous:{title:"\u9006\u5411\u6d4b\u8bd5\u6982\u8ff0",permalink:"/docs/08\u9006\u5411\u6d4b\u8bd5/"},next:{title:"\u865a\u62df\u5bb9\u5668\u6982\u8ff0",permalink:"/docs/10\u865a\u62df\u5bb9\u5668/"}},p={},o=[{value:"kafka",id:"kafka",level:2},{value:"Kafka\u7684\u5e94\u7528\u573a\u666f",id:"kafka\u7684\u5e94\u7528\u573a\u666f",level:3},{value:"Kafka\u6d88\u606f\u961f\u5217\u7684\u4e24\u79cd\u6a21\u578b",id:"kafka\u6d88\u606f\u961f\u5217\u7684\u4e24\u79cd\u6a21\u578b",level:3},{value:"Kafka\u4e2d\u7684\u91cd\u8981\u6982\u5ff5",id:"kafka\u4e2d\u7684\u91cd\u8981\u6982\u5ff5",level:3},{value:"\u6d88\u8d39\u8005\u7ec4",id:"\u6d88\u8d39\u8005\u7ec4",level:4},{value:"Kafka\u96c6\u7fa4\u642d\u5efa",id:"kafka\u96c6\u7fa4\u642d\u5efa",level:3},{value:"Kafka\u7684\u751f\u4ea7\u8005/\u6d88\u8d39\u8005/\u5de5\u5177",id:"kafka\u7684\u751f\u4ea7\u8005\u6d88\u8d39\u8005\u5de5\u5177",level:4},{value:"\u672c\u5730\u5b89\u88c5\u4e0e\u542f\u52a8\uff08\u57fa\u4e8eDocker\uff09",id:"\u672c\u5730\u5b89\u88c5\u4e0e\u542f\u52a8\u57fa\u4e8edocker",level:4},{value:"1.\u4e0b\u8f7dzookeeper\u955c\u50cf\u4e0ekafka\u955c\u50cf",id:"1\u4e0b\u8f7dzookeeper\u955c\u50cf\u4e0ekafka\u955c\u50cf",level:5},{value:"2.\u672c\u5730\u542f\u52a8zookeeper",id:"2\u672c\u5730\u542f\u52a8zookeeper",level:5},{value:"3. \u672c\u5730\u542f\u52a8kafka",id:"3-\u672c\u5730\u542f\u52a8kafka",level:5},{value:"4. \u8fdb\u5165kafka bash",id:"4-\u8fdb\u5165kafka-bash",level:5},{value:"5. \u521b\u5efaTopic\uff0c\u5206\u533a\u4e3a2\uff0cTopic name\u4e3a&#39;kafka_demo&#39;",id:"5-\u521b\u5efatopic\u5206\u533a\u4e3a2topic-name\u4e3akafka_demo",level:5},{value:"6. \u67e5\u770b\u5f53\u524d\u6240\u6709topic",id:"6-\u67e5\u770b\u5f53\u524d\u6240\u6709topic",level:5},{value:"7. \u672c\u5730\u5b89\u88c5kafka-python",id:"7-\u672c\u5730\u5b89\u88c5kafka-python",level:5},{value:"Docker\u4e2dkafka\u7684topic\u589e\u5220\u6539\u67e5\u547d\u4ee4\u6c47\u603b",id:"docker\u4e2dkafka\u7684topic\u589e\u5220\u6539\u67e5\u547d\u4ee4\u6c47\u603b",level:5},{value:"Kafka\u5e42\u7b49\u6027",id:"kafka\u5e42\u7b49\u6027",level:3},{value:"Kafka\u4e2d\u7684\u5206\u533a\u526f\u672c\u673a\u5236",id:"kafka\u4e2d\u7684\u5206\u533a\u526f\u672c\u673a\u5236",level:3},{value:"\u751f\u4ea7\u8005\u7684\u5206\u533a\u5199\u5165\u7b56\u7565",id:"\u751f\u4ea7\u8005\u7684\u5206\u533a\u5199\u5165\u7b56\u7565",level:4},{value:"\u6d88\u8d39\u7ec4Consumer Group Rebalance\u673a\u5236",id:"\u6d88\u8d39\u7ec4consumer-group-rebalance\u673a\u5236",level:4},{value:"\u6d88\u8d39\u8005\u7684\u5206\u533a\u5206\u914d\u7b56\u7565",id:"\u6d88\u8d39\u8005\u7684\u5206\u533a\u5206\u914d\u7b56\u7565",level:4},{value:"\u526f\u672c\u7684ACK\u673a\u5236",id:"\u526f\u672c\u7684ack\u673a\u5236",level:4},{value:"\u9ad8\u7ea7API\uff08High-Level API\uff09\u3001\u4f4e\u7ea7API\uff08Low-Level API\uff09",id:"\u9ad8\u7ea7apihigh-level-api\u4f4e\u7ea7apilow-level-api",level:4},{value:"Kafka\u539f\u7406",id:"kafka\u539f\u7406",level:3},{value:"leader\u548cfollower",id:"leader\u548cfollower",level:4},{value:"ARISROSR",id:"arisrosr",level:4},{value:"leader\u9009\u4e3e",id:"leader\u9009\u4e3e",level:4},{value:"Kafka\u8bfb\u5199\u6d41\u7a0b",id:"kafka\u8bfb\u5199\u6d41\u7a0b",level:4},{value:"Kafka\u7684\u7269\u7406\u5b58\u50a8",id:"kafka\u7684\u7269\u7406\u5b58\u50a8",level:4},{value:"\u6d88\u606f\u4f20\u9012\u7684\u8bed\u4e49\u6027",id:"\u6d88\u606f\u4f20\u9012\u7684\u8bed\u4e49\u6027",level:4},{value:"Kafka\u7684\u6d88\u606f\u4e0d\u4e22\u5931",id:"kafka\u7684\u6d88\u606f\u4e0d\u4e22\u5931",level:4},{value:"\u6570\u636e\u79ef\u538b",id:"\u6570\u636e\u79ef\u538b",level:4},{value:"\u6570\u636e\u6e05\u7406&amp;\u914d\u989d\u9650\u901f",id:"\u6570\u636e\u6e05\u7406\u914d\u989d\u9650\u901f",level:4},{value:"RabbitMQ",id:"rabbitmq",level:2}],u={toc:o},m="wrapper";function c(e){let{components:a,...t}=e;return(0,r.kt)(m,(0,l.Z)({},u,t,{components:a,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"\u6d88\u606f\u961f\u5217"},"\u6d88\u606f\u961f\u5217"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u6d88\u606f\u961f\u5217\u2014\u2014\u7528\u4e8e\u5b58\u653e\u6d88\u606f\u7684\u7ec4\u4ef6"),(0,r.kt)("li",{parentName:"ul"},"\u7a0b\u5e8f\u5458\u53ef\u4ee5\u5c06\u6d88\u606f\u653e\u5165\u5230\u961f\u5217\u4e2d\uff0c\u4e5f\u53ef\u4ee5\u4ece\u6d88\u606f\u961f\u5217\u4e2d\u83b7\u53d6\u6d88\u606f"),(0,r.kt)("li",{parentName:"ul"},"\u5f88\u591a\u65f6\u5019\u6d88\u606f\u961f\u5217\u4e0d\u662f\u4e00\u4e2a\u6c38\u4e45\u6027\u7684\u5b58\u50a8\uff0c\u662f\u4f5c\u4e3a\u4e34\u65f6\u5b58\u50a8\u5b58\u5728\u7684\uff08\u8bbe\u5b9a\u4e00\u4e2a\u671f\u9650\uff1a\u8bbe\u7f6e\u6d88\u606f\u5728MQ\u4e2d\u4fdd\u5b5810\u5929\uff09"),(0,r.kt)("li",{parentName:"ul"},"\u6d88\u606f\u961f\u5217\u4e2d\u95f4\u4ef6\uff1a\u6d88\u606f\u961f\u5217\u7684\u7ec4\u4ef6\uff0c\u4f8b\u5982\uff1aKafka\u3001Active MQ\u3001RabbitMQ\u3001RocketMQ\u3001ZeroMQ")),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},(0,r.kt)("strong",{parentName:"p"},"Kafka"),"\u548c",(0,r.kt)("strong",{parentName:"p"},"Mysql"),"\u76f8\u6bd4\uff0c\u90fd\u662f\u9700\u8981"),(0,r.kt)("ul",{parentName:"blockquote"},(0,r.kt)("li",{parentName:"ul"},"\u5148\u4e0b\u8f7d\u5b89\u88c5\u5bf9\u5e94\u7684\u5305"),(0,r.kt)("li",{parentName:"ul"},"\u63a5\u7740\u53ef\u4ee5\u76f4\u63a5\u547d\u4ee4\u884c\u8c03\u7528"),(0,r.kt)("li",{parentName:"ul"},"\u4e5f\u53ef\u4ee5\u901a\u8fc7python\u3001java\u8fd9\u6837\u7684\u7f16\u7a0b\u8bed\u8a00\u6765\u8c03\u7528"),(0,r.kt)("li",{parentName:"ul"},"\u90fd\u5b58\u5728\u5730\u5740\u63a5\u53e3\u7684\u6982\u5ff5\uff0clocalhost:9092\u6307\u7684\u662f\u672c\u673a\u5730\u5740\u76849092\u7aef\u53e3"),(0,r.kt)("li",{parentName:"ul"},"\u5982\u679c\u4f60\u60f3\u8c03\u7528Docker\u91cc\u7684\u7aef\u53e3\uff0c\u8981\u63d0\u524d\u901a\u8fc7--expose \u66b4\u9732\u51fa\u8fd9\u4e2a\u7aef\u53e3"),(0,r.kt)("li",{parentName:"ul"},"\u5982\u679c\u4f60\u60f3\u8c03\u7528\u670d\u52a1\u5668\u7684kafka\u6216\u8005mysql\uff0c\u5f97\u586b\u670d\u52a1\u5668\u7684ip+\u7aef\u53e3"))),(0,r.kt)("h2",{id:"kafka"},"kafka"),(0,r.kt)("h3",{id:"kafka\u7684\u5e94\u7528\u573a\u666f"},"Kafka\u7684\u5e94\u7528\u573a\u666f"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u5f02\u6b65\u5904\u7406"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u53ef\u4ee5\u5c06\u4e00\u4e9b\u6bd4\u8f83\u8017\u65f6\u7684\u64cd\u4f5c\u653e\u5728\u5176\u4ed6\u7cfb\u7edf\u4e2d\uff0c\u901a\u8fc7\u6d88\u606f\u961f\u5217\u5c06\u9700\u8981\u8fdb\u884c\u5904\u7406\u7684\u6d88\u606f\u8fdb\u884c\u5b58\u50a8\uff0c\u5176\u4ed6\u7cfb\u7edf\u53ef\u4ee5\u6d88\u8d39\u6d88\u606f\u961f\u5217\u4e2d\u7684\u6570\u636e"),(0,r.kt)("li",{parentName:"ul"},"\u6bd4\u8f83\u5e38\u89c1\u7684\uff1a\u53d1\u9001\u77ed\u4fe1\u9a8c\u8bc1\u7801\u3001\u53d1\u9001\u90ae\u4ef6"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u7cfb\u7edf\u89e3\u8026"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u539f\u5148\u4e00\u4e2a\u5fae\u670d\u52a1\u662f\u901a\u8fc7\u63a5\u53e3\uff08HTTP\uff09\u8c03\u7528\u53e6\u4e00\u4e2a\u5fae\u670d\u52a1\uff0c\u8fd9\u65f6\u5019\u8026\u5408\u5f88\u4e25\u91cd\uff0c\u53ea\u8981\u63a5\u53e3\u53d1\u751f\u53d8\u5316\u5c31\u4f1a\u5bfc\u81f4\u7cfb\u7edf\u4e0d\u53ef\u7528"),(0,r.kt)("li",{parentName:"ul"},"\u4f7f\u7528\u6d88\u606f\u961f\u5217\u53ef\u4ee5\u5c06\u7cfb\u7edf\u8fdb\u884c\u89e3\u8026\u5408\uff0c\u73b0\u5728\u7b2c\u4e00\u4e2a\u5fae\u670d\u52a1\u53ef\u4ee5\u5c06\u6d88\u606f\u653e\u5165\u5230\u6d88\u606f\u961f\u5217\u4e2d\uff0c\u53e6\u4e00\u4e2a\u5fae\u670d\u52a1\u53ef\u4ee5\u4ece\u6d88\u606f\u961f\u5217\u4e2d\u628a\u6d88\u606f\u53d6\u51fa\u6765\u8fdb\u884c\u5904\u7406\u3002\u8fdb\u884c\u7cfb\u7edf\u89e3\u8026"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u6d41\u91cf\u524a\u5cf0"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u56e0\u4e3a\u6d88\u606f\u961f\u5217\u662f\u4f4e\u5ef6\u8fdf\u3001\u9ad8\u53ef\u9760\u3001\u9ad8\u541e\u5410\u7684\uff0c\u53ef\u4ee5\u5e94\u5bf9\u5927\u91cf\u5e76\u53d1"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u65e5\u5fd7\u5904\u7406"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u53ef\u4ee5\u4f7f\u7528\u6d88\u606f\u961f\u5217\u4f5c\u4e3a\u4e34\u65f6\u5b58\u50a8\uff0c\u6216\u8005\u4e00\u79cd\u901a\u4fe1\u7ba1\u9053")))),(0,r.kt)("h3",{id:"kafka\u6d88\u606f\u961f\u5217\u7684\u4e24\u79cd\u6a21\u578b"},"Kafka\u6d88\u606f\u961f\u5217\u7684\u4e24\u79cd\u6a21\u578b"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u751f\u4ea7\u8005\u3001\u6d88\u8d39\u8005\u6a21\u578b",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u751f\u4ea7\u8005\u8d1f\u8d23\u5c06\u6d88\u606f\u751f\u4ea7\u5230MQ\u4e2d"),(0,r.kt)("li",{parentName:"ul"},"\u6d88\u8d39\u8005\u8d1f\u8d23\u4eceMQ\u4e2d\u83b7\u53d6\u6d88\u606f"),(0,r.kt)("li",{parentName:"ul"},"\u751f\u4ea7\u8005\u548c\u6d88\u8d39\u8005\u662f\u89e3\u8026\u7684\uff0c\u53ef\u80fd\u662f\u751f\u4ea7\u8005\u4e00\u4e2a\u7a0b\u5e8f\u3001\u6d88\u8d39\u8005\u662f\u53e6\u5916\u4e00\u4e2a\u7a0b\u5e8f"))),(0,r.kt)("li",{parentName:"ul"},"\u6d88\u606f\u961f\u5217\u7684\u6a21\u5f0f",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u70b9\u5bf9\u70b9\uff1a\u4e00\u4e2a\u6d88\u8d39\u8005\u6d88\u8d39\u4e00\u4e2a\u6d88\u606f"),(0,r.kt)("li",{parentName:"ul"},"\u53d1\u5e03\u8ba2\u9605\uff1a\u591a\u4e2a\u6d88\u8d39\u8005\u53ef\u4ee5\u6d88\u8d39\u4e00\u4e2a\u6d88\u606f")))),(0,r.kt)("h3",{id:"kafka\u4e2d\u7684\u91cd\u8981\u6982\u5ff5"},"Kafka\u4e2d\u7684\u91cd\u8981\u6982\u5ff5"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"broker",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"Kafka\u670d\u52a1\u5668\u8fdb\u7a0b\uff0c\u751f\u4ea7\u8005\u3001\u6d88\u8d39\u8005\u90fd\u8981\u8fde\u63a5broker"),(0,r.kt)("li",{parentName:"ul"},"\u4e00\u4e2a\u96c6\u7fa4\u7531\u591a\u4e2abroker\u7ec4\u6210\uff0c\u529f\u80fd\u5b9e\u73b0Kafka\u96c6\u7fa4\u7684\u8d1f\u8f7d\u5747\u8861\u3001\u5bb9\u9519"))),(0,r.kt)("li",{parentName:"ul"},"producer\uff1a\u751f\u4ea7\u8005\uff0c\u7528\u4e8e\u751f\u4ea7\u6570\u636e\uff0c\u53ef\u5c06\u751f\u4ea7\u540e\u7684\u6d88\u606f\u9001\u5165\u6307\u5b9a\u7684Topic\uff1b"),(0,r.kt)("li",{parentName:"ul"},"consumer\uff1a\u6d88\u8d39\u8005\uff0c\u83b7\u53d6\u6570\u636e\uff0c\u53ef\u6d88\u8d39\u6307\u5b9a\u7684Topic\uff1b"),(0,r.kt)("li",{parentName:"ul"},"topic\uff1a\u4e00\u7ec4\u6d88\u606f\u6570\u636e\u7684\u6807\u8bb0\u7b26\uff0c\u4e00\u4e2aKafka\u96c6\u7fa4\u4e2d\uff0c\u53ef\u4ee5\u5305\u542b\u591a\u4e2atopic\u3002\u4e00\u4e2atopic\u53ef\u4ee5\u5305\u542b\u591a\u4e2a\u5206\u533a",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u662f\u4e00\u4e2a\u903b\u8f91\u7ed3\u6784\uff0c\u751f\u4ea7\u3001\u6d88\u8d39\u6d88\u606f\u90fd\u9700\u8981\u6307\u5b9atopic"))),(0,r.kt)("li",{parentName:"ul"},"partition\uff1a\u5206\u533a\uff0cKafka\u96c6\u7fa4\u7684\u5206\u5e03\u5f0f\u5c31\u662f\u7531\u5206\u533a\u6765\u5b9e\u73b0\u7684\u3002\u4e00\u4e2atopic\u4e2d\u7684\u6d88\u606f\u53ef\u4ee5\u5206\u5e03\u5728topic\u4e2d\u7684\u4e0d\u540cpartition\u4e2d\uff0c\u4e3a\u4e86\u4fdd\u8bc1kafka\u7684\u541e\u5410\u91cf\uff0c\u4e00\u4e2aTopic\u53ef\u4ee5\u8bbe\u7f6e\u591a\u4e2a\u5206\u533a\u3002\u540c\u4e00\u5206\u533a\u53ea\u80fd\u88ab\u4e00\u4e2a\u6d88\u8d39\u8005\u8ba2\u9605\u3002"),(0,r.kt)("li",{parentName:"ul"},"replica\uff1a\u526f\u672c\uff0c\u5b9e\u73b0Kafkaf\u96c6\u7fa4\u7684\u5bb9\u9519\uff0c\u5b9e\u73b0partition\u7684\u5bb9\u9519\u3002\u4e00\u4e2atopic\u81f3\u5c11\u5e94\u8be5\u5305\u542b\u5927\u4e8e1\u4e2a\u7684\u526f\u672c"),(0,r.kt)("li",{parentName:"ul"},"consumer group\uff1a\u6d88\u8d39\u8005\u7ec4\uff0c\u4e00\u4e2a\u6d88\u8d39\u8005\u7ec4\u4e2d\u7684\u6d88\u8d39\u8005\u53ef\u4ee5\u5171\u540c\u6d88\u8d39topic\u4e2d\u7684\u5206\u533a\u6570\u636e\u3002\u6bcf\u4e00\u4e2a\u6d88\u8d39\u8005\u7ec4\u90fd\u4e00\u4e2a\u552f\u4e00\u7684\u540d\u5b57\u3002\u914d\u7f6egroup.id\u4e00\u6837\u7684\u6d88\u8d39\u8005\u662f\u5c5e\u4e8e\u540c\u4e00\u4e2a\u7ec4\u4e2d\uff0c\u540c\u4e00\u4e2agroup\u53ef\u4ee5\u6709\u591a\u4e2a\u6d88\u8d39\u8005\uff0c\u4e00\u6761\u6d88\u606f\u5728\u4e00\u4e2agroup\u4e2d\uff0c\u53ea\u4f1a\u88ab\u4e00\u4e2a\u6d88\u8d39\u8005\u83b7\u53d6\uff1b"),(0,r.kt)("li",{parentName:"ul"},"offset\uff1a\u504f\u79fb\u91cf\u3002\u76f8\u5bf9\u6d88\u8d39\u8005\u3001partition\u6765\u8bf4\uff0c\u53ef\u4ee5\u901a\u8fc7offset\u6765\u62c9\u53d6\u6570\u636e")),(0,r.kt)("h4",{id:"\u6d88\u8d39\u8005\u7ec4"},"\u6d88\u8d39\u8005\u7ec4"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u4e00\u4e2a\u6d88\u8d39\u8005\u7ec4\u4e2d\u53ef\u4ee5\u5305\u542b\u591a\u4e2a\u6d88\u8d39\u8005\uff0c\u5171\u540c\u6765\u6d88\u8d39topic\u4e2d\u7684\u6570\u636e"),(0,r.kt)("li",{parentName:"ul"},"\u4e00\u4e2atopic\u4e2d\u5982\u679c\u53ea\u6709\u4e00\u4e2a\u5206\u533a\uff0c\u90a3\u4e48\u8fd9\u4e2a\u5206\u533a\u53ea\u80fd\u88ab\u67d0\u4e2a\u7ec4\u4e2d\u7684\u4e00\u4e2a\u6d88\u8d39\u8005\u6d88\u8d39"),(0,r.kt)("li",{parentName:"ul"},"\u6709\u591a\u5c11\u4e2a\u5206\u533a\uff0c\u90a3\u4e48\u5c31\u53ef\u4ee5\u88ab\u540c\u4e00\u4e2a\u7ec4\u5185\u7684\u591a\u5c11\u4e2a\u6d88\u8d39\u8005\u6d88\u8d39")),(0,r.kt)("h3",{id:"kafka\u96c6\u7fa4\u642d\u5efa"},"Kafka\u96c6\u7fa4\u642d\u5efa"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Kafka\u96c6\u7fa4\u662f\u5fc5\u987b\u8981\u6709ZooKeeper\u7684")),(0,r.kt)("p",null,"\u6ce8\u610f\uff1a"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u6bcf\u4e00\u4e2aKafka\u7684\u8282\u70b9\u90fd\u9700\u8981\u4fee\u6539",(0,r.kt)("strong",{parentName:"li"},"broker. id"),"\uff08\u6bcf\u4e2a\u8282\u70b9\u7684\u6807\u8bc6\uff0c\u4e0d\u80fd\u91cd\u590d\uff09"),(0,r.kt)("li",{parentName:"ul"},"log.dir\u6570\u636e\u5b58\u50a8\u76ee\u5f55\u9700\u8981\u914d\u7f6e")),(0,r.kt)("h4",{id:"kafka\u7684\u751f\u4ea7\u8005\u6d88\u8d39\u8005\u5de5\u5177"},"Kafka\u7684\u751f\u4ea7\u8005/\u6d88\u8d39\u8005/\u5de5\u5177"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u5b89\u88c5Kafka\u96c6\u7fa4\uff0c\u53ef\u4ee5\u6d4b\u8bd5\u4ee5\u4e0b",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u521b\u5efa\u4e00\u4e2atopic\u4e3b\u9898\uff08\u6d88\u606f\u90fd\u662f\u5b58\u653e\u5728topic\u4e2d\uff0c\u7c7b\u4f3cmysql\u5efa\u8868\u7684\u8fc7\u7a0b\uff09"),(0,r.kt)("li",{parentName:"ul"},"\u57fa\u4e8ekafka\u7684\u5185\u7f6e\u6d4b\u8bd5\u751f\u4ea7\u8005\u811a\u672c\u6765\u8bfb\u53d6\u6807\u51c6\u8f93\u5165\uff08\u952e\u76d8\u8f93\u5165\uff09\u7684\u6570\u636e\uff0c\u5e76\u653e\u5165\u5230topic\u4e2d"),(0,r.kt)("li",{parentName:"ul"},"\u57fa\u4e8ekafka\u7684\u5185\u7f6e\u6d4b\u8bd5\u6d88\u8d39\u8005\u811a\u672c\u6765\u6d88\u8d39topic\u4e2d\u7684\u6570\u636e"))),(0,r.kt)("li",{parentName:"ul"},"\u63a8\u8350\u5927\u5bb6\u5f00\u53d1\u7684\u4f7f\u7528Kafka Tool",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u6d4f\u89c8Kafka\u96c6\u7fa4\u8282\u70b9\u3001\u591a\u5c11\u4e2atopic\u3001\u591a\u5c11\u4e2a\u5206\u533a"),(0,r.kt)("li",{parentName:"ul"},"\u521b\u5efatopic/\u5220\u9664topic"),(0,r.kt)("li",{parentName:"ul"},"\u6d4f\u89c8ZooKeeper\u4e2d\u7684\u6570\u636e")))),(0,r.kt)("h4",{id:"\u672c\u5730\u5b89\u88c5\u4e0e\u542f\u52a8\u57fa\u4e8edocker"},"\u672c\u5730\u5b89\u88c5\u4e0e\u542f\u52a8\uff08\u57fa\u4e8eDocker\uff09"),(0,r.kt)("h5",{id:"1\u4e0b\u8f7dzookeeper\u955c\u50cf\u4e0ekafka\u955c\u50cf"},"1.\u4e0b\u8f7dzookeeper\u955c\u50cf\u4e0ekafka\u955c\u50cf"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-language"},"docker pull wurstmeister/zookeeper\ndocker pull wurstmeister/kafka\n")),(0,r.kt)("h5",{id:"2\u672c\u5730\u542f\u52a8zookeeper"},"2.\u672c\u5730\u542f\u52a8zookeeper"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-language"},"docker run -d --name zookeeper -p 2181:2181 -t wurstmeister/zookeeper  \n")),(0,r.kt)("h5",{id:"3-\u672c\u5730\u542f\u52a8kafka"},"3. \u672c\u5730\u542f\u52a8kafka"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-language"},"docker run -d --name kafka --publish 9092:9092 --link zookeeper --env KAFKA_ZOOKEEPER_CONNECT=zookeeper:2181 --env KAFKA_ADVERTISED_HOST_NAME=localhost --env KAFKA_ADVERTISED_PORT=9092  wurstmeister/kafka:latest\n")),(0,r.kt)("p",null,"\u6ce8\u610f\uff1a\u4e0a\u8ff0\u4ee3\u7801\uff0c\u5c06kafka\u542f\u52a8\u57289092\u7aef\u53e3"),(0,r.kt)("h5",{id:"4-\u8fdb\u5165kafka-bash"},"4. \u8fdb\u5165kafka bash"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-language"},"docker exec -it kafka bash\ncd /opt/kafka/bin\n")),(0,r.kt)("h5",{id:"5-\u521b\u5efatopic\u5206\u533a\u4e3a2topic-name\u4e3akafka_demo"},"5. \u521b\u5efaTopic\uff0c\u5206\u533a\u4e3a2\uff0cTopic name\u4e3a'kafka_demo'"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-language"},"kafka-topics.sh --create --zookeeper zookeeper:2181 --replication-factor 1 --partitions 2 --topic kafka_demo\n")),(0,r.kt)("h5",{id:"6-\u67e5\u770b\u5f53\u524d\u6240\u6709topic"},"6. \u67e5\u770b\u5f53\u524d\u6240\u6709topic"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-language"},"kafka-topics.sh --zookeeper zookeeper:2181 --list\n")),(0,r.kt)("h5",{id:"7-\u672c\u5730\u5b89\u88c5kafka-python"},"7. \u672c\u5730\u5b89\u88c5kafka-python"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-language"},"pip install kafka-python\n")),(0,r.kt)("h5",{id:"docker\u4e2dkafka\u7684topic\u589e\u5220\u6539\u67e5\u547d\u4ee4\u6c47\u603b"},"Docker\u4e2dkafka\u7684topic\u589e\u5220\u6539\u67e5\u547d\u4ee4\u6c47\u603b"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u589e")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-language"},"\u521b\u5efaTopic\uff1a\n\u5206\u533a\u4e3a2\uff0cTopic name\u4e3a'kafka_demo'\n\nkafka-topics.sh --create --zookeeper zookeeper:2181 --replication-factor 1 --partitions 2 --topic kafka_demo\n\n\u589e\u52a0\u5206\u533a\uff1a\n\u901a\u8fc7--alter\u4fee\u6539\u4e3b\u9898\u7684\u5206\u533a\u6570\uff0c\u589e\u52a0\u5206\u533a\u3002\u901a\u8fc7\u547d\u4ee4\u884c\u5de5\u5177\u64cd\u4f5c\uff0c\u4e3b\u9898\u7684\u5206\u533a\u53ea\u80fd\u589e\u52a0\uff0c\u4e0d\u80fd\u51cf\u5c11\u3002\u5426\u5219\u62a5\u9519\u3002\n\nkafka-topics.sh --zookeeper  zookeeper:2181 --alter --topic myTop1 -- partitions 2\n")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u5220")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-language"},"\u5220\u9664\uff1a\n\u540d\u4e3akafka_demo\u7684\u4e3b\u9898\n\nkafka-topics.sh  --delete --zookeeper  zookeeper:2181   --topic  kafka_demo\n")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u6539")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-language"},"kafka-topics.sh --zookeeper zookeeper:2181 --create --topic topic_test_01 --partitions 2 --replication-factor 1\n\nkafka-topics.sh --zookeeper zookeeper:2181 --alter --topic topic_test_01 --config max.message.bytes=1048576\n\nkafka-topics.sh --zookeeper zookeeper:2181 --describe --topic topic_test_01\n\nkafka-topics.sh --zookeeper zookeeper:2181 --alter --topic topic_test_01 --config segment.bytes=10485760\n\nkafka-topics.sh --zookeeper zookeeper:2181 --alter --delete-config max.message.bytes --topic topic_test_01\n")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u67e5")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-language"},"\u67e5\u770b\n\u5f53\u524d\u6240\u6709topic\n\nkafka-topics.sh --zookeeper zookeeper:2181 --list\n\n\u67e5\u770b\n\u5f53\u524d\u6240\u6709topic\u8be6\u60c5\n\nkafka-topics.sh --zookeeper zookeeper:2181 --describe\n")),(0,r.kt)("h3",{id:"kafka\u5e42\u7b49\u6027"},"Kafka\u5e42\u7b49\u6027"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u751f\u4ea7\u8005\u6d88\u606f\u91cd\u590d\u95ee\u9898"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"Kafka\u751f\u4ea7\u8005\u751f\u4ea7\u6d88\u606f\u5230partition\uff0c\u5982\u679c\u76f4\u63a5\u53d1\u9001\u6d88\u606f\uff0ckafka\u4f1a\u5c06\u6d88\u606f\u4fdd\u5b58\u5230\u5206\u533a\u4e2d\uff0c\u4f46Kafka\u4f1a\u8fd4\u56de\u4e00\u4e2aack\u7ed9\u751f\u4ea7\u8005\uff0c\u8868\u793a\u5f53\u524d\u64cd\u4f5c\u662f\u5426\u6210\u529f\uff0c\u662f\u5426\u5df2\u7ecf\u4fdd\u5b58\u4e86\u8fd9\u6761\u6d88\u606f\u3002\u5982\u679cack\u54cd\u5e94\u7684\u8fc7\u7a0b\u5931\u8d25\u4e86\uff0c\u6b64\u65f6\u751f\u4ea7\u8005\u4f1a\u91cd\u8bd5\uff0c\u7ee7\u7eed\u53d1\u9001\u6ca1\u6709\u53d1\u9001\u6210\u529f\u7684\u6d88\u606f\uff0cKafka\u53c8\u4f1a\u4fdd\u5b58\u4e00\u6761\u4e00\u6a21\u4e00\u6837\u7684\u6d88\u606f"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u5728Kafka\u4e2d\u53ef\u4ee5\u5f00\u542f\u5e42\u7b49\u6027"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u5f53Kafka\u7684\u751f\u4ea7\u8005\u751f\u4ea7\u6d88\u606f\u65f6\uff0c\u4f1a\u589e\u52a0\u4e00\u4e2apid\uff08\u751f\u4ea7\u8005\u7684\u552f\u4e00\u7f16\u53f7\uff09\u548csequence number\uff08\u9488\u5bf9\u6d88\u606f\u7684\u4e00\u4e2a\u9012\u589e\u5e8f\u5217\uff09"),(0,r.kt)("li",{parentName:"ul"},"\u53d1\u9001\u6d88\u606f\uff0c\u4f1a\u8fde\u7740pid\u548csequence number\u4e00\u5757\u53d1\u9001"),(0,r.kt)("li",{parentName:"ul"},"kafka\u63a5\u6536\u5230\u6d88\u606f\uff0c\u4f1a\u5c06\u6d88\u606f\u548cpid\u3001sequence number\u4e00\u5e76\u4fdd\u5b58\u4e0b\u6765"),(0,r.kt)("li",{parentName:"ul"},"\u5982\u679cack\u54cd\u5e94\u5931\u8d25\uff0c\u751f\u4ea7\u8005\u91cd\u8bd5\uff0c\u518d\u6b21\u53d1\u9001\u6d88\u606f\u65f6\uff0cKafka\u4f1a\u6839\u636epid\u3001sequence number\u662f\u5426\u9700\u8981\u518d\u4fdd\u5b58\u4e00\u6761\u6d88\u606f"),(0,r.kt)("li",{parentName:"ul"},"\u5224\u65ad\u6761\u4ef6\uff1a\u751f\u4ea7\u8005\u53d1\u9001\u8fc7\u6765\u7684sequence number \u662f\u5426\u5c0f\u4e8e\u7b49\u4e8e partition\u4e2d\u6d88\u606f\u5bf9\u5e94\u7684sequence")))),(0,r.kt)("h3",{id:"kafka\u4e2d\u7684\u5206\u533a\u526f\u672c\u673a\u5236"},"Kafka\u4e2d\u7684\u5206\u533a\u526f\u672c\u673a\u5236"),(0,r.kt)("h4",{id:"\u751f\u4ea7\u8005\u7684\u5206\u533a\u5199\u5165\u7b56\u7565"},"\u751f\u4ea7\u8005\u7684\u5206\u533a\u5199\u5165\u7b56\u7565"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u8f6e\u8be2\uff08\u6309\u7167\u6d88\u606f\u5c3d\u91cf\u4fdd\u8bc1\u6bcf\u4e2a\u5206\u533a\u7684\u8d1f\u8f7d\uff09\u7b56\u7565\uff0c\u6d88\u606f\u4f1a\u5747\u5300\u5730\u5206\u5e03\u5230\u6bcf\u4e2apartition",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u5199\u5165\u6d88\u606f\u7684\u65f6\u5019\uff0ckey\u4e3anull\u7684\u65f6\u5019\uff0c\u9ed8\u8ba4\u4f7f\u7528\u7684\u662f\u8f6e\u8be2\u7b56\u7565"))),(0,r.kt)("li",{parentName:"ul"},"\u968f\u673a\u7b56\u7565\uff08\u4e0d\u4f7f\u7528\uff09"),(0,r.kt)("li",{parentName:"ul"},"\u6309key\u5199\u5165\u7b56\u7565\uff0ckey.hash() % \u5206\u533a\u7684\u6570\u91cf"),(0,r.kt)("li",{parentName:"ul"},"\u81ea\u5b9a\u4e49\u5206\u533a\u7b56\u7565\uff08\u7c7b\u4f3c\u4e8eMapReduce\u6307\u5b9a\u5206\u533a\uff09")),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"\u4e71\u5e8f\u95ee\u9898"),(0,r.kt)("ul",{parentName:"blockquote"},(0,r.kt)("li",{parentName:"ul"},"\u5728Kafka\u4e2d\u751f\u4ea7\u8005\u662f\u6709\u5199\u5165\u7b56\u7565\uff0c\u5982\u679ctopic\u6709\u591a\u4e2a\u5206\u533a\uff0c\u5c31\u4f1a\u5c06\u6570\u636e\u5206\u6563\u5728\u4e0d\u540c\u7684partition\u4e2d\u5b58\u50a8"),(0,r.kt)("li",{parentName:"ul"},"\u5f53partition\u6570\u91cf\u5927\u4e8e1\u7684\u65f6\u5019\uff0c\u6570\u636e\uff08\u6d88\u606f\uff09\u4f1a\u6253\u6563\u5206\u5e03\u5728\u4e0d\u540c\u7684partition\u4e2d"),(0,r.kt)("li",{parentName:"ul"},"\u5982\u679c\u53ea\u6709\u4e00\u4e2a\u5206\u533a\uff0c\u6d88\u606f\u662f\u6709\u5e8f\u7684"))),(0,r.kt)("h4",{id:"\u6d88\u8d39\u7ec4consumer-group-rebalance\u673a\u5236"},"\u6d88\u8d39\u7ec4Consumer Group Rebalance\u673a\u5236"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u518d\u5747\u8861\uff1a\u5728\u67d0\u4e9b\u60c5\u51b5\u4e0b\uff0c\u6d88\u8d39\u8005\u7ec4\u4e2d\u7684\u6d88\u8d39\u8005\u6d88\u8d39\u7684\u5206\u533a\u4f1a\u4ea7\u751f\u53d8\u5316\uff0c\u4f1a\u5bfc\u81f4\u6d88\u8d39\u8005\u5206\u914d\u4e0d\u5747\u5300\uff08\u4f8b\u5982\uff1a\u6709\u4e24\u4e2a\u6d88\u8d39\u8005\u6d88\u8d393\u4e2a\uff0c\u56e0\u4e3a\u67d0\u4e2apartition\u5d29\u6e83\u4e86\uff0c\u8fd8\u6709\u4e00\u4e2a\u6d88\u8d39\u8005\u5f53\u524d\u6ca1\u6709\u5206\u533a\u8981\u524a\u5cf0\uff09\uff0cKafka Consumer Group\u5c31\u4f1a\u542f\u7528rebalance\u673a\u5236\uff0c\u91cd\u65b0\u5e73\u8861\u8fd9\u4e2aConsumer Group\u5185\u7684\u6d88\u8d39\u8005\u6d88\u8d39\u7684\u5206\u533a\u5206\u914d\u3002"),(0,r.kt)("li",{parentName:"ul"},"\u89e6\u53d1\u65f6\u673a",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u6d88\u8d39\u8005\u6570\u91cf\u53d1\u751f\u53d8\u5316",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u67d0\u4e2a\u6d88\u8d39\u8005crash"),(0,r.kt)("li",{parentName:"ul"},"\u65b0\u589e\u6d88\u8d39\u8005"))),(0,r.kt)("li",{parentName:"ul"},"topic\u7684\u6570\u91cf\u53d1\u751f\u53d8\u5316",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u67d0\u4e2atopic\u88ab\u5220\u9664"))),(0,r.kt)("li",{parentName:"ul"},"partition\u7684\u6570\u91cf\u53d1\u751f\u53d8\u5316",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u5220\u9664partition"),(0,r.kt)("li",{parentName:"ul"},"\u65b0\u589epartition"))))),(0,r.kt)("li",{parentName:"ul"},"\u4e0d\u826f\u5f71\u54cd",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u53d1\u751frebalance\uff0c\u6240\u6709\u7684consumer\u5c06\u4e0d\u518d\u5de5\u4f5c\uff0c\u5171\u540c\u6765\u53c2\u4e0e\u518d\u5747\u8861\uff0c\u76f4\u5230\u6bcf\u4e2a\u6d88\u8d39\u8005\u90fd\u5df2\u7ecf\u88ab\u6210\u529f\u5206\u914d\u6240\u9700\u8981\u6d88\u8d39\u7684\u5206\u533a\u4e3a\u6b62\uff08rebalance\u7ed3\u675f\uff09")))),(0,r.kt)("h4",{id:"\u6d88\u8d39\u8005\u7684\u5206\u533a\u5206\u914d\u7b56\u7565"},"\u6d88\u8d39\u8005\u7684\u5206\u533a\u5206\u914d\u7b56\u7565"),(0,r.kt)("p",null,"\u5206\u533a\u5206\u914d\u7b56\u7565\uff1a\u4fdd\u969c\u6bcf\u4e2a\u6d88\u8d39\u8005\u5c3d\u91cf\u80fd\u591f\u5747\u8861\u5730\u6d88\u8d39\u5206\u533a\u7684\u6570\u636e\uff0c\u4e0d\u80fd\u51fa\u73b0\u67d0\u4e2a\u6d88\u8d39\u8005\u6d88\u8d39\u5206\u533a\u7684\u6570\u91cf\u7279\u522b\u591a\uff0c\u67d0\u4e2a\u6d88\u8d39\u8005\u6d88\u8d39\u7684\u5206\u533a\u7279\u522b\u5c11"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Range\u5206\u914d\u7b56\u7565\uff08\u8303\u56f4\u5206\u914d\u7b56\u7565\uff09\uff1aKafka\u9ed8\u8ba4\u7684\u5206\u914d\u7b56\u7565",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"n\uff1a\u5206\u533a\u7684\u6570\u91cf / \u6d88\u8d39\u8005\u6570\u91cf"),(0,r.kt)("li",{parentName:"ul"},"m\uff1a\u5206\u533a\u7684\u6570\u91cf % \u6d88\u8d39\u8005\u6570\u91cf"),(0,r.kt)("li",{parentName:"ul"},"\u524dm\u4e2a\u6d88\u8d39\u8005\u6d88\u8d39n+1\u4e2a\u5206\u533a"),(0,r.kt)("li",{parentName:"ul"},"\u5269\u4f59\u7684\u6d88\u8d39\u8005\u6d88\u8d39n\u4e2a\u5206\u533a"))),(0,r.kt)("li",{parentName:"ul"},"RoundRobin\u5206\u914d\u7b56\u7565\uff08\u8f6e\u8be2\u5206\u914d\u7b56\u7565\uff09",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u6d88\u8d39\u8005\u6328\u4e2a\u5206\u914d\u6d88\u8d39\u7684\u5206\u533a"))),(0,r.kt)("li",{parentName:"ul"},"Striky\u7c98\u6027\u5206\u914d\u7b56\u7565",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u5728\u6ca1\u6709\u53d1\u751frebalance\u8ddf\u8f6e\u8be2\u5206\u914d\u7b56\u7565\u662f\u4e00\u81f4\u7684"),(0,r.kt)("li",{parentName:"ul"},"\u53d1\u751f\u4e86rebalance\uff0c\u8f6e\u8be2\u5206\u914d\u7b56\u7565\uff0c\u91cd\u65b0\u8d70\u4e00\u904d\u8f6e\u8be2\u5206\u914d\u7684\u8fc7\u7a0b\u3002\u800c\u7c98\u6027\u4f1a\u4fdd\u8bc1\u8ddf\u4e0a\u4e00\u6b21\u7684\u5c3d\u91cf\u4e00\u81f4\uff0c\u53ea\u662f\u5c06\u65b0\u7684\u9700\u8981\u5206\u914d\u7684\u5206\u533a\uff0c\u5747\u5300\u7684\u5206\u914d\u5230\u73b0\u6709\u53ef\u7528\u7684\u6d88\u8d39\u8005\u4e2d\u5373\u53ef"),(0,r.kt)("li",{parentName:"ul"},"\u51cf\u5c11\u4e0a\u4e0b\u6587\u7684\u5207\u6362")))),(0,r.kt)("h4",{id:"\u526f\u672c\u7684ack\u673a\u5236"},"\u526f\u672c\u7684ACK\u673a\u5236"),(0,r.kt)("p",null,"producer\u662f\u4e0d\u65ad\u5730\u5f80Kafka\u4e2d\u5199\u5165\u6570\u636e\uff0c\u5199\u5165\u6570\u636e\u4f1a\u6709\u4e00\u4e2a\u8fd4\u56de\u7ed3\u679c\uff0c\u8868\u793a\u662f\u5426\u5199\u5165\u6210\u529f\u3002\u8fd9\u91cc\u5bf9\u5e94\u6709\u4e00\u4e2aACKs\u7684\u914d\u7f6e\u3002"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"acks = 0\uff1a\u751f\u4ea7\u8005\u53ea\u7ba1\u5199\u5165\uff0c\u4e0d\u7ba1\u662f\u5426\u5199\u5165\u6210\u529f\uff0c\u53ef\u80fd\u4f1a\u6570\u636e\u4e22\u5931\u3002\u6027\u80fd\u662f\u6700\u597d\u7684"),(0,r.kt)("li",{parentName:"ul"},"acks = 1\uff1a\u751f\u4ea7\u8005\u4f1a\u7b49\u5230leader\u5206\u533a\u5199\u5165\u6210\u529f\u540e\uff0c\u8fd4\u56de\u6210\u529f\uff0c\u63a5\u7740\u53d1\u9001\u4e0b\u4e00\u6761"),(0,r.kt)("li",{parentName:"ul"},"acks = -1/all\uff1a\u786e\u4fdd\u6d88\u606f\u5199\u5165\u5230leader\u5206\u533a\u3001\u8fd8\u786e\u4fdd\u6d88\u606f\u5199\u5165\u5230\u5bf9\u5e94\u526f\u672c\u90fd\u6210\u529f\u540e\uff0c\u63a5\u7740\u53d1\u9001\u4e0b\u4e00\u6761\uff0c\u6027\u80fd\u662f\u6700\u5dee\u7684")),(0,r.kt)("p",null,"\u6839\u636e\u4e1a\u52a1\u60c5\u51b5\u6765\u9009\u62e9ack\u673a\u5236\uff0c\u662f\u8981\u6c42\u6027\u80fd\u6700\u9ad8\uff0c\u4e00\u90e8\u5206\u6570\u636e\u4e22\u5931\u5f71\u54cd\u4e0d\u5927\uff0c\u53ef\u4ee5\u9009\u62e90/1\u3002\u5982\u679c\u8981\u6c42\u6570\u636e\u4e00\u5b9a\u4e0d\u80fd\u4e22\u5931\uff0c\u5c31\u5f97\u914d\u7f6e\u4e3a-1/all\u3002"),(0,r.kt)("p",null,"\u5206\u533a\u4e2d\u662f\u6709leader\u548cfollower\u7684\u6982\u5ff5\uff0c\u4e3a\u4e86\u786e\u4fdd\u6d88\u8d39\u8005\u6d88\u8d39\u7684\u6570\u636e\u662f\u4e00\u81f4\u7684\uff0c\u53ea\u80fd\u4ece\u5206\u533aleader\u53bb\u8bfb\u5199\u6d88\u606f\uff0cfollower\u505a\u7684\u4e8b\u60c5\u5c31\u662f\u540c\u6b65\u6570\u636e\uff0cBackup\u3002"),(0,r.kt)("h4",{id:"\u9ad8\u7ea7apihigh-level-api\u4f4e\u7ea7apilow-level-api"},"\u9ad8\u7ea7API\uff08High-Level API\uff09\u3001\u4f4e\u7ea7API\uff08Low-Level API\uff09"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u9ad8\u7ea7API\u5c31\u662f\u76f4\u63a5\u8ba9Kafka\u5e2e\u52a9\u7ba1\u7406\u3001\u5904\u7406\u5206\u914d\u3001\u6570\u636e",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"offset\u5b58\u50a8\u5728ZK\u4e2d"),(0,r.kt)("li",{parentName:"ul"},"\u7531kafka\u7684rebalance\u6765\u63a7\u5236\u6d88\u8d39\u8005\u5206\u914d\u7684\u5206\u533a"),(0,r.kt)("li",{parentName:"ul"},"\u5f00\u53d1\u8d77\u6765\u6bd4\u8f83\u7b80\u5355\uff0c\u65e0\u9700\u5f00\u53d1\u8005\u5173\u6ce8\u5e95\u5c42\u7ec6\u8282"),(0,r.kt)("li",{parentName:"ul"},"\u65e0\u6cd5\u505a\u5230\u7ec6\u7c92\u5ea6\u7684\u63a7\u5236"))),(0,r.kt)("li",{parentName:"ul"},"\u4f4e\u7ea7API\uff1a\u7531\u7f16\u5199\u7684\u7a0b\u5e8f\u81ea\u5df1\u63a7\u5236\u903b\u8f91",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u81ea\u5df1\u6765\u7ba1\u7406Offset\uff0c\u53ef\u4ee5\u5c06offset\u5b58\u50a8\u5728ZK\u3001MySQL\u3001Redis\u3001HBase\u3001Flink\u7684\u72b6\u6001\u5b58\u50a8"),(0,r.kt)("li",{parentName:"ul"},"\u6307\u5b9a\u6d88\u8d39\u8005\u62c9\u53d6\u67d0\u4e2a\u5206\u533a\u7684\u6570\u636e"),(0,r.kt)("li",{parentName:"ul"},"\u53ef\u4ee5\u505a\u5230\u7ec6\u7c92\u5ea6\u7684\u63a7\u5236"),(0,r.kt)("li",{parentName:"ul"},"\u539f\u6709\u7684Kafka\u7684\u7b56\u7565\u4f1a\u5931\u6548\uff0c\u9700\u8981\u6211\u4eec\u81ea\u5df1\u6765\u5b9e\u73b0\u6d88\u8d39\u673a\u5236")))),(0,r.kt)("h3",{id:"kafka\u539f\u7406"},"Kafka\u539f\u7406"),(0,r.kt)("h4",{id:"leader\u548cfollower"},"leader\u548cfollower"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Kafka\u4e2d\u7684leader\u548cfollower\u662f\u76f8\u5bf9\u5206\u533a\u6709\u610f\u4e49\uff0c\u4e0d\u662f\u76f8\u5bf9broker"),(0,r.kt)("li",{parentName:"ul"},"Kafka\u5728\u521b\u5efatopic\u7684\u65f6\u5019\uff0c\u4f1a\u5c3d\u91cf\u5206\u914d\u5206\u533a\u7684leader\u5728\u4e0d\u540c\u7684broker\u4e2d\uff0c\u5176\u5b9e\u5c31\u662f\u8d1f\u8f7d\u5747\u8861"),(0,r.kt)("li",{parentName:"ul"},"leader\u804c\u8d23\uff1a\u8bfb\u5199\u6570\u636e"),(0,r.kt)("li",{parentName:"ul"},"follower\u804c\u8d23\uff1a\u540c\u6b65\u6570\u636e\u3001\u53c2\u4e0e\u9009\u4e3e\uff08leader crash\u4e4b\u540e\uff0c\u4f1a\u9009\u4e3e\u4e00\u4e2afollower\u91cd\u65b0\u6210\u4e3a\u5206\u533a\u7684leader"),(0,r.kt)("li",{parentName:"ul"},"\u6ce8\u610f\u548cZooKeeper\u533a\u5206",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"ZK\u7684leader\u8d1f\u8d23\u8bfb\u3001\u5199\uff0cfollower\u53ef\u4ee5\u8bfb\u53d6"),(0,r.kt)("li",{parentName:"ul"},"Kafka\u7684leader\u8d1f\u8d23\u8bfb\u5199\u3001follower\u4e0d\u80fd\u8bfb\u5199\u6570\u636e\uff08\u786e\u4fdd\u6bcf\u4e2a\u6d88\u8d39\u8005\u6d88\u8d39\u7684\u6570\u636e\u662f\u4e00\u81f4\u7684\uff09\uff0cKafka\u4e00\u4e2atopic\u6709\u591a\u4e2a\u5206\u533aleader\uff0c\u4e00\u6837\u53ef\u4ee5\u5b9e\u73b0\u6570\u636e\u64cd\u4f5c\u7684\u8d1f\u8f7d\u5747\u8861")))),(0,r.kt)("h4",{id:"arisrosr"},"AR\\ISR\\OSR"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"AR\u8868\u793a\u4e00\u4e2atopic\u4e0b\u7684\u6240\u6709\u526f\u672c"),(0,r.kt)("li",{parentName:"ul"},"ISR\uff1aIn Sync Replicas\uff0c\u6b63\u5728\u540c\u6b65\u7684\u526f\u672c\uff08\u53ef\u4ee5\u7406\u89e3\u4e3a\u5f53\u524d\u6709\u51e0\u4e2afollower\u662f\u5b58\u6d3b\u7684\uff09"),(0,r.kt)("li",{parentName:"ul"},"OSR\uff1aOut of Sync Replicas\uff0c\u4e0d\u518d\u540c\u6b65\u7684\u526f\u672c"),(0,r.kt)("li",{parentName:"ul"},"AR = ISR + OSR")),(0,r.kt)("h4",{id:"leader\u9009\u4e3e"},"leader\u9009\u4e3e"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Controller\uff1acontroller\u662fkafka\u96c6\u7fa4\u7684\u8001\u5927\uff0c\u662f\u9488\u5bf9Broker\u7684\u4e00\u4e2a\u89d2\u8272"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"Controller\u662f\u9ad8\u53ef\u7528\u7684\uff0c\u662f\u7528\u8fc7ZK\u6765\u8fdb\u884c\u9009\u4e3e"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Leader\uff1a\u662f\u9488\u5bf9partition\u7684\u4e00\u4e2a\u89d2\u8272"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"Leader\u662f\u901a\u8fc7ISR\u6765\u8fdb\u884c\u5feb\u901f\u9009\u4e3e"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u5982\u679cKafka\u662f\u57fa\u4e8eZK\u6765\u8fdb\u884c\u9009\u4e3e\uff0cZK\u7684\u538b\u529b\u53ef\u80fd\u4f1a\u6bd4\u8f83\u5927\u3002\u4f8b\u5982\uff1a\u67d0\u4e2a\u8282\u70b9\u5d29\u6e83\uff0c\u8fd9\u4e2a\u8282\u70b9\u4e0a\u4e0d\u4ec5\u4ec5\u53ea\u6709\u4e00\u4e2aleader\uff0c\u662f\u6709\u4e0d\u5c11\u7684leader\u9700\u8981\u9009\u4e3e\u3002\u901a\u8fc7ISR\u5feb\u901f\u8fdb\u884c\u9009\u4e3e\u3002")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"leader\u7684\u8d1f\u8f7d\u5747\u8861"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u5982\u679c\u67d0\u4e2abroker crash\u4e4b\u540e\uff0c\u5c31\u53ef\u80fd\u4f1a\u5bfc\u81f4partition\u7684leader\u5206\u5e03\u4e0d\u5747\u5300\uff0c\u5c31\u662f\u4e00\u4e2abroker\u4e0a\u5b58\u5728\u4e00\u4e2atopic\u4e0b\u4e0d\u540cpartition\u7684leader"),(0,r.kt)("li",{parentName:"ul"},"\u901a\u8fc7\u4ee5\u4e0b\u6307\u4ee4\uff0c\u53ef\u4ee5\u5c06leader\u5206\u914d\u5230\u4f18\u5148\u7684leader\u5bf9\u5e94\u7684broker\uff0c\u786e\u4fddleader\u662f\u5747\u5300\u5206\u914d\u7684")),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"bin/kafka-leader-election.sh --bootstrap-server node1.itcast.cn:9092 --topic test --partition=2 --election-type preferred\n")))),(0,r.kt)("h4",{id:"kafka\u8bfb\u5199\u6d41\u7a0b"},"Kafka\u8bfb\u5199\u6d41\u7a0b"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u5199\u6d41\u7a0b",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u901a\u8fc7ZooKeeper\u627epartition\u5bf9\u5e94\u7684leader\uff0cleader\u662f\u8d1f\u8d23\u5199\u7684"),(0,r.kt)("li",{parentName:"ul"},"producer\u5f00\u59cb\u5199\u5165\u6570\u636e"),(0,r.kt)("li",{parentName:"ul"},"ISR\u91cc\u9762\u7684follower\u5f00\u59cb\u540c\u6b65\u6570\u636e\uff0c\u5e76\u8fd4\u56de\u7ed9leader ACK"),(0,r.kt)("li",{parentName:"ul"},"\u8fd4\u56de\u7ed9producer ACK"))),(0,r.kt)("li",{parentName:"ul"},"\u8bfb\u6d41\u7a0b",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u901a\u8fc7ZooKeeper\u627epartition\u5bf9\u5e94\u7684leader\uff0cleader\u662f\u8d1f\u8d23\u8bfb\u7684"),(0,r.kt)("li",{parentName:"ul"},"\u901a\u8fc7ZooKeeper\u627e\u5230\u6d88\u8d39\u8005\u5bf9\u5e94\u7684offset"),(0,r.kt)("li",{parentName:"ul"},"\u7136\u540e\u5f00\u59cb\u4eceoffset\u5f80\u540e\u987a\u5e8f\u62c9\u53d6\u6570\u636e"),(0,r.kt)("li",{parentName:"ul"},"\u63d0\u4ea4offset\uff08\u81ea\u52a8\u63d0\u4ea4\u2014\u2014\u6bcf\u9694\u591a\u5c11\u79d2\u63d0\u4ea4\u4e00\u6b21offset\u3001\u624b\u52a8\u63d0\u4ea4\u2014\u2014\u653e\u5165\u5230\u4e8b\u52a1\u4e2d\u63d0\u4ea4\uff09")))),(0,r.kt)("h4",{id:"kafka\u7684\u7269\u7406\u5b58\u50a8"},"Kafka\u7684\u7269\u7406\u5b58\u50a8"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Kafka\u7684\u6570\u636e\u7ec4\u7ec7\u7ed3\u6784",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"topic"),(0,r.kt)("li",{parentName:"ul"},"partition"),(0,r.kt)("li",{parentName:"ul"},"segment",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},".log\u6570\u636e\u6587\u4ef6"),(0,r.kt)("li",{parentName:"ul"},".index\uff08\u7a00\u758f\u7d22\u5f15\uff09"),(0,r.kt)("li",{parentName:"ul"},".timeindex\uff08\u6839\u636e\u65f6\u95f4\u505a\u7684\u7d22\u5f15\uff09"))))),(0,r.kt)("li",{parentName:"ul"},"\u6df1\u5165\u4e86\u89e3\u8bfb\u6570\u636e\u7684\u6d41\u7a0b",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u6d88\u8d39\u8005\u7684offset\u662f\u4e00\u4e2a\u9488\u5bf9partition\u5168\u5c40offset"),(0,r.kt)("li",{parentName:"ul"},"\u53ef\u4ee5\u6839\u636e\u8fd9\u4e2aoffset\u627e\u5230segment\u6bb5"),(0,r.kt)("li",{parentName:"ul"},"\u63a5\u7740\u9700\u8981\u5c06\u5168\u5c40\u7684offset\u8f6c\u6362\u6210segment\u7684\u5c40\u90e8offset"),(0,r.kt)("li",{parentName:"ul"},"\u6839\u636e\u5c40\u90e8\u7684offset\uff0c\u5c31\u53ef\u4ee5\u4ece\uff08.index\u7a00\u758f\u7d22\u5f15\uff09\u627e\u5230\u5bf9\u5e94\u7684\u6570\u636e\u4f4d\u7f6e"),(0,r.kt)("li",{parentName:"ul"},"\u5f00\u59cb\u987a\u5e8f\u8bfb\u53d6")))),(0,r.kt)("h4",{id:"\u6d88\u606f\u4f20\u9012\u7684\u8bed\u4e49\u6027"},"\u6d88\u606f\u4f20\u9012\u7684\u8bed\u4e49\u6027"),(0,r.kt)("p",null,"Flink\u91cc\u9762\u6709\u5bf9\u5e94\u7684\u6bcf\u79cd\u4e0d\u540c\u673a\u5236\u7684\u4fdd\u8bc1\uff0c\u63d0\u4f9bExactly-Once\u4fdd\u969c\uff08\u4e8c\u9636\u6bb5\u4e8b\u52a1\u63d0\u4ea4\u65b9\u5f0f\uff09"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"At-most once\uff1a\u6700\u591a\u4e00\u6b21\uff08\u53ea\u7ba1\u628a\u6570\u636e\u6d88\u8d39\u5230\uff0c\u4e0d\u7ba1\u6709\u6ca1\u6709\u6210\u529f\uff0c\u53ef\u80fd\u4f1a\u6709\u6570\u636e\u4e22\u5931\uff09"),(0,r.kt)("li",{parentName:"ul"},"At-least once\uff1a\u6700\u5c11\u4e00\u6b21\uff08\u6709\u53ef\u80fd\u4f1a\u51fa\u73b0\u91cd\u590d\u6d88\u8d39\uff09"),(0,r.kt)("li",{parentName:"ul"},"Exactly-Once\uff1a\u4ec5\u6709\u4e00\u6b21\uff08\u4e8b\u52a1\u6027\u6027\u7684\u4fdd\u969c\uff0c\u4fdd\u8bc1\u6d88\u606f\u6709\u4e14\u4ec5\u88ab\u5904\u7406\u4e00\u6b21\uff09")),(0,r.kt)("h4",{id:"kafka\u7684\u6d88\u606f\u4e0d\u4e22\u5931"},"Kafka\u7684\u6d88\u606f\u4e0d\u4e22\u5931"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"broker\u6d88\u606f\u4e0d\u4e22\u5931\uff1a\u56e0\u4e3a\u6709\u526f\u672crelicas\u7684\u5b58\u5728\uff0c\u4f1a\u4e0d\u65ad\u5730\u4eceleader\u4e2d\u540c\u6b65\u526f\u672c\uff0c\u6240\u4ee5\uff0c\u4e00\u4e2abroker crash\uff0c\u4e0d\u4f1a\u5bfc\u81f4\u6570\u636e\u4e22\u5931\uff0c\u9664\u975e\u662f\u53ea\u6709\u4e00\u4e2a\u526f\u672c\u3002"),(0,r.kt)("li",{parentName:"ul"},"\u751f\u4ea7\u8005\u6d88\u606f\u4e0d\u4e22\u5931\uff1aACK\u673a\u5236\uff08\u914d\u7f6e\u6210ALL/-1\uff09\u3001\u914d\u7f6e0\u6216\u80051\u6709\u53ef\u80fd\u4f1a\u5b58\u5728\u4e22\u5931"),(0,r.kt)("li",{parentName:"ul"},"\u6d88\u8d39\u8005\u6d88\u8d39\u4e0d\u4e22\u5931\uff1a\u91cd\u70b9\u63a7\u5236offset",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"At-least once\uff1a\u4e00\u79cd\u6570\u636e\u53ef\u80fd\u4f1a\u91cd\u590d\u6d88\u8d39"),(0,r.kt)("li",{parentName:"ul"},"Exactly-Once\uff1a\u4ec5\u88ab\u4e00\u6b21\u6d88\u8d39")))),(0,r.kt)("h4",{id:"\u6570\u636e\u79ef\u538b"},"\u6570\u636e\u79ef\u538b"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u6570\u636e\u79ef\u538b\u6307\u7684\u662f\u6d88\u8d39\u8005\u56e0\u4e3a\u6709\u4e00\u4e9b\u5916\u90e8\u7684IO\u3001\u4e00\u4e9b\u6bd4\u8f83\u8017\u65f6\u7684\u64cd\u4f5c\uff08Full GC\u2014\u2014Stop the world\uff09\uff0c\u5c31\u4f1a\u9020\u6210\u6d88\u606f\u5728partition\u4e2d\u4e00\u76f4\u5b58\u5728\u5f97\u4e0d\u5230\u6d88\u8d39\uff0c\u5c31\u4f1a\u4ea7\u751f\u6570\u636e\u79ef\u538b"),(0,r.kt)("li",{parentName:"ul"},"\u5728\u4f01\u4e1a\u4e2d\uff0c\u6211\u4eec\u8981\u6709\u76d1\u63a7\u7cfb\u7edf\uff0c\u5982\u679c\u51fa\u73b0\u8fd9\u79cd\u60c5\u51b5\uff0c\u9700\u8981\u5c3d\u5feb\u5904\u7406\u3002\u867d\u7136\u540e\u7eed\u7684Spark Streaming/Flink\u53ef\u4ee5\u5b9e\u73b0\u80cc\u538b\u673a\u5236\uff0c\u4f46\u662f\u6570\u636e\u7d2f\u79ef\u592a\u591a\u4e00\u5b9a\u5bf9\u5b9e\u65f6\u7cfb\u7edf\u5b83\u7684\u5b9e\u65f6\u6027\u662f\u6709\u8bf4\u5f71\u54cd\u7684")),(0,r.kt)("h4",{id:"\u6570\u636e\u6e05\u7406\u914d\u989d\u9650\u901f"},"\u6570\u636e\u6e05\u7406&\u914d\u989d\u9650\u901f"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"\u6570\u636e\u6e05\u7406",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"Log Deletion\uff08\u65e5\u5fd7\u5220\u9664\uff09\uff1a\u5982\u679c\u6d88\u606f\u8fbe\u5230\u4e00\u5b9a\u7684\u6761\u4ef6\uff08\u65f6\u95f4\u3001\u65e5\u5fd7\u5927\u5c0f\u3001offset\u5927\u5c0f\uff09\uff0cKafka\u5c31\u4f1a\u81ea\u52a8\u5c06\u65e5\u5fd7\u8bbe\u7f6e\u4e3a\u5f85\u5220\u9664\uff08segment\u7aef\u7684\u540e\u7f00\u540d\u4f1a\u4ee5 .delete\u7ed3\u5c3e\uff09\uff0c\u65e5\u5fd7\u7ba1\u7406\u7a0b\u5e8f\u4f1a\u5b9a\u671f\u6e05\u7406\u8fd9\u4e9b\u65e5\u5fd7",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u9ed8\u8ba4\u662f7\u5929\u8fc7\u671f"))),(0,r.kt)("li",{parentName:"ul"},"Log Compaction\uff08\u65e5\u5fd7\u5408\u5e76\uff09",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u5982\u679c\u5728\u4e00\u4e9bkey-value\u6570\u636e\u4e2d\uff0c\u4e00\u4e2akey\u53ef\u4ee5\u5bf9\u5e94\u591a\u4e2a\u4e0d\u540c\u7248\u672c\u7684value"),(0,r.kt)("li",{parentName:"ul"},"\u7ecf\u8fc7\u65e5\u5fd7\u5408\u5e76\uff0c\u5c31\u4f1a\u53ea\u4fdd\u7559\u6700\u65b0\u7684\u4e00\u4e2a\u7248\u672c"))))),(0,r.kt)("li",{parentName:"ul"},"\u914d\u989d\u9650\u901f",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u53ef\u4ee5\u9650\u5236Producer\u3001Consumer\u7684\u901f\u7387"),(0,r.kt)("li",{parentName:"ul"},"\u9632\u6b62Kafka\u7684\u901f\u5ea6\u8fc7\u5feb\uff0c\u5360\u7528\u6574\u4e2a\u670d\u52a1\u5668\uff08broker\uff09\u7684\u6240\u6709IO\u8d44\u6e90")))),(0,r.kt)("h2",{id:"rabbitmq"},"RabbitMQ"),(0,r.kt)("p",null,"bitMQ"))}c.isMDXComponent=!0}}]);