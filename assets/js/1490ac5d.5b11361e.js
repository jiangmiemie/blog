"use strict";(self.webpackChunkjiangmiemie=self.webpackChunkjiangmiemie||[]).push([[2877],{2905:(i,t,e)=>{e.r(t),e.d(t,{SettingsContext:()=>b,default:()=>y,useSettings:()=>C});var h=e(2614),n=e(83),d=e(7372),a=e(7294),s=e(6249),l=(e(4886),e(5261)),g=e(3916),r=e(3685),o=e(5644),u=(e(7188),e(6886)),w=e(629),x=e(5929),c=e(6263),m=e(5729),p=e(3841),j=e(913),f=e(5893);const v=[{id:"2021071",width:1934,height:2579},{id:"2021072",width:1080,height:1077},{id:"2021073",width:4032,height:3024},{id:"2021074",width:4032,height:3024},{id:"2021075",width:3464,height:3464},{id:"2021076",width:4524,height:2112},{id:"2021077",width:1920,height:923},{id:"2021078",width:5792,height:4344},{id:"2021079",width:1440,height:1080},{id:"2022081",width:1422,height:799},{id:"2022082",width:2738,height:1280},{id:"2022083",width:1664,height:935},{id:"2022084",width:1664,height:935},{id:"2022085",width:1920,height:1080},{id:"20230705092828",width:4032,height:2268},{id:"20230705092938",width:1920,height:1080},{id:"20230705092949",width:3188,height:1792},{id:"20230705093600",width:2268,height:1168},{id:"20230705093711",width:4032,height:2268},{id:"20230705093721",width:4032,height:2268},{id:"20230705094040",width:3979,height:2236},{id:"20230705094046",width:2160,height:2430},{id:"20230705094050",width:1080,height:607},{id:"2023071",width:4032,height:2268},{id:"202308171",width:1664,height:935},{id:"202308172",width:1664,height:935},{id:"202308173",width:1664,height:935},{id:"202311291",width:2160,height:7014},{id:"202311292",width:2160,height:11824},{id:"ForestPark1",width:1080,height:1080},{id:"ForestPark2",width:1080,height:1860},{id:"ForestPark3",width:1920,height:1080},{id:"ForestPark4",width:1918,height:1080},{id:"ForestPark5",width:1706,height:960},{id:"ForestPark6",width:1920,height:1080},{id:"ForestPark7",width:1920,height:1080},{id:"nanxiangtown1",width:4032,height:2268},{id:"nanxiangtown2",width:4032,height:2268},{id:"nanxiangtown3",width:3676,height:2070},{id:"nanxiangtown4",width:4032,height:2268},{id:"Shanghai_Wildlife_Park1",width:2160,height:9712},{id:"Shanghai_Wildlife_Park2",width:2160,height:7284},{id:"Shanghai_Wildlife_Park3",width:2160,height:3641},{id:"Shanghai_Wildlife_Park4",width:2160,height:4855},{id:"Shanghai_Wildlife_Park5",width:2160,height:7285},{id:"Shanghai_Wildlife_Park6",width:2160,height:7284},{id:"Shanghai_Wildlife_Park7",width:2160,height:6069},{id:"Shanghai_Wildlife_Park8",width:2160,height:4856}].map((i=>{return{src:(t=i.id,e=i.width,h=i.height,`/gallery/${t}-${e}-${h}.jpg`),width:i.width,height:i.height};var t,e,h})),S=a.useEffect;function P(i){let{children:t}=i;return(0,f.jsx)(u.ZP,{item:!0,xs:12,sm:8,lg:6,children:t})}function k(i){let{name:t,min:e,max:h,step:n,value:d,onChange:s,disabled:l}=i;const[g,r]=(0,a.useState)(!1);return(0,f.jsxs)(j.Z,{margin:"none",fullWidth:!0,children:[(0,f.jsx)(p.Z,{shrink:!0,variant:"standard",focused:g,children:t}),(0,f.jsx)(x.ZP,{min:e,max:h,step:n,value:d,disabled:l,size:"small",valueLabelDisplay:"auto",marks:[{value:e,label:`${e}`},{value:h,label:`${h}`}],onChange:(i,t,e)=>s(i,"number"==typeof t?t:t[0],e),onFocus:()=>r(!0),onBlur:()=>r(!1),sx:{mt:2}})]})}const b=(0,a.createContext)(null);function C(){const i=(0,a.useContext)(b);if(!i)throw new Error("useSettings must be used within a SettingsContext");return i}function _(i){let{children:t}=i;const[e,h]=(0,a.useState)("masonry"),[n,d]=(0,a.useState)(v.length),[s,l]=(0,a.useState)(300),[g,r]=(0,a.useState)(5),[o,x]=(0,a.useState)(10),[p,j]=(0,a.useState)(5),[C,_]=(0,a.useState)(100);S((()=>{const i=window.innerWidth;r(i<480?2:i<900?3:5),x(i<480?10:i<900?20:30),j(i<480?10:i<900?20:30),l(i<480?100:i<900?150:200)}),[]);const Z=(0,a.useMemo)((()=>({photos:v.slice(0,n),layout:e,targetRowHeight:s,columns:g,spacing:o,padding:p,width:C})),[e,n,s,g,o,p,C]);return(0,f.jsxs)(b.Provider,{value:Z,children:[(0,f.jsx)(w.Z,{variant:"outlined",sx:{mb:4,p:2,textAlign:"left"},children:(0,f.jsxs)(u.ZP,{container:!0,columns:24,rowSpacing:2,columnSpacing:4,children:[(0,f.jsx)(P,{children:(0,f.jsx)(m.Z,{select:!0,fullWidth:!0,label:"Layout",variant:"standard",margin:"none",value:e,onChange:i=>h(i.target.value),children:[{value:"rows",title:"Rows"},{value:"columns",title:"Columns"},{value:"masonry",title:"Masonry"}].map((i=>{let{value:t,title:e}=i;return(0,f.jsx)(c.Z,{value:t,children:e},t)}))})}),(0,f.jsx)(P,{children:(0,f.jsx)(k,{name:"Photos",min:1,max:v.length,value:n,onChange:(i,t)=>d(t)})}),(0,f.jsx)(P,{children:(0,f.jsx)(k,{name:"Spacing",min:0,max:50,value:o,onChange:(i,t)=>x(t)})}),(0,f.jsx)(P,{children:(0,f.jsx)(k,{name:"Padding",min:0,max:50,value:p,onChange:(i,t)=>j(t)})}),(0,f.jsx)(P,{children:(0,f.jsx)(k,{name:"Row height",min:50,max:500,step:5,value:s,disabled:"rows"!==e,onChange:(i,t)=>l(t)})}),(0,f.jsx)(P,{children:(0,f.jsx)(k,{name:"Columns",min:1,max:10,value:g,disabled:"rows"===e,onChange:(i,t)=>r(t)})}),(0,f.jsx)(P,{children:(0,f.jsx)(k,{name:"Width (%)",min:10,max:100,step:5,value:C,onChange:(i,t)=>_(t)})})]})}),t]})}function Z(){const{photos:i,layout:t,columns:e,targetRowHeight:d,spacing:u,padding:w,width:x}=C(),[c,m]=(0,a.useState)(-1),p=a.useCallback((i=>{let{imageProps:{alt:t,style:e,...h}}=i;return(0,f.jsx)("img",{alt:t,style:{...e,borderRadius:w>2?"4px":0,boxShadow:u>0?"0px 3px 3px -2px rgb(0 0 0 / 20%), 0px 3px 4px 0px rgb(0 0 0 / 14%), 0px 1px 8px 0px rgb(0 0 0 / 12%)":"none",transition:"box-shadow 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms"},...h})}),[u,w]);return(0,f.jsxs)(h.Z,{sx:{width:`${x}%`,mx:"auto"},children:[(0,f.jsx)(n.H,{photos:i,layout:t,columns:e,spacing:u,padding:w,targetRowHeight:d,renderPhoto:p,onClick:i=>{let{index:t}=i;return m(t)}}),(0,f.jsx)(s.ZP,{slides:i,open:c>=0,index:c,close:()=>m(-1),plugins:[l.Z,g.Z,r.Z,o.Z]})]})}function y(){return(0,f.jsx)(d.Z,{children:(0,f.jsx)(_,{children:(0,f.jsx)(Z,{})})})}}}]);