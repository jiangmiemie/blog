"use strict";(self.webpackChunkjiangmiemie=self.webpackChunkjiangmiemie||[]).push([[5961],{74896:(n,e,s)=>{s.r(e),s.d(e,{assets:()=>a,contentTitle:()=>c,default:()=>h,frontMatter:()=>t,metadata:()=>i,toc:()=>o});const i=JSON.parse('{"id":"\u9009\u62e9\u7f16\u7a0b\u8bed\u8a00/Python/Python\u8fdb\u9636","title":"Python\u8fdb\u9636","description":"\u9762\u5411\u5bf9\u8c61\u7f16\u7a0b","source":"@site/docs/docs/\u9009\u62e9\u7f16\u7a0b\u8bed\u8a00/Python/Python\u8fdb\u9636.md","sourceDirName":"\u9009\u62e9\u7f16\u7a0b\u8bed\u8a00/Python","slug":"/\u9009\u62e9\u7f16\u7a0b\u8bed\u8a00/Python/Python\u8fdb\u9636","permalink":"/docs/\u9009\u62e9\u7f16\u7a0b\u8bed\u8a00/Python/Python\u8fdb\u9636","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_position":3,"title":"Python\u8fdb\u9636"},"sidebar":"tutorialSidebar","previous":{"title":"Python\u57fa\u7840","permalink":"/docs/\u9009\u62e9\u7f16\u7a0b\u8bed\u8a00/Python/Python\u57fa\u7840"},"next":{"title":"HTML\u5b66\u4e60","permalink":"/docs/\u9009\u62e9\u7f16\u7a0b\u8bed\u8a00/HTML/"}}');var r=s(74848),l=s(28453);const t={sidebar_position:3,title:"Python\u8fdb\u9636"},c=void 0,a={},o=[{value:"\u9762\u5411\u5bf9\u8c61\u7f16\u7a0b",id:"\u9762\u5411\u5bf9\u8c61\u7f16\u7a0b",level:3},{value:"\u521b\u5efa\u7c7b",id:"\u521b\u5efa\u7c7b",level:4},{value:"\u7c7b\u7684\u7279\u6b8a\u65b9\u6cd5",id:"\u7c7b\u7684\u7279\u6b8a\u65b9\u6cd5",level:5},{value:"\u7c7b\u7684\u5c5e\u6027",id:"\u7c7b\u7684\u5c5e\u6027",level:5},{value:"\u7ee7\u627f",id:"\u7ee7\u627f",level:4},{value:"super() \u51fd\u6570",id:"super-\u51fd\u6570",level:4},{value:"<strong>new</strong>() \u65b9\u6cd5",id:"new-\u65b9\u6cd5",level:4},{value:"\u63a5\u53e3",id:"\u63a5\u53e3",level:4},{value:"\u7c7b\u65b9\u6cd5",id:"\u7c7b\u65b9\u6cd5",level:4},{value:"\u6587\u4ef6",id:"\u6587\u4ef6",level:3},{value:"\u5199\u6587\u4ef6",id:"\u5199\u6587\u4ef6",level:4},{value:"\u8bfb\u6587\u4ef6",id:"\u8bfb\u6587\u4ef6",level:4},{value:"\u4e0a\u4e0b\u6587\u7ba1\u7406\u5668",id:"\u4e0a\u4e0b\u6587\u7ba1\u7406\u5668",level:4},{value:"\u81ea\u5b9a\u4e49\u4e0a\u4e0b\u6587\u7ba1\u7406\u5668",id:"\u81ea\u5b9a\u4e49\u4e0a\u4e0b\u6587\u7ba1\u7406\u5668",level:4},{value:"<strong>enter</strong> \u7684\u8fd4\u56de\u503c",id:"enter-\u7684\u8fd4\u56de\u503c",level:4},{value:"\u9519\u8bef\u5904\u7406",id:"\u9519\u8bef\u5904\u7406",level:4},{value:"\u4e8c\u8fdb\u5236\u6587\u4ef6",id:"\u4e8c\u8fdb\u5236\u6587\u4ef6",level:4},{value:"with \u65b9\u6cd5",id:"with-\u65b9\u6cd5",level:4},{value:"\u5f02\u5e38",id:"\u5f02\u5e38",level:3},{value:"try &amp; except \u5757",id:"try--except-\u5757",level:4},{value:"\u81ea\u5b9a\u4e49\u5f02\u5e38",id:"\u81ea\u5b9a\u4e49\u5f02\u5e38",level:4},{value:"finally",id:"finally",level:4},{value:"\u88c5\u9970\u5668",id:"\u88c5\u9970\u5668",level:3},{value:"\u4f8b\u5b50",id:"\u4f8b\u5b50",level:4},{value:"\u4fee\u9970\u5668\u5de5\u5382",id:"\u4fee\u9970\u5668\u5de5\u5382",level:4},{value:"@classmethod \u88c5\u9970\u5668",id:"classmethod-\u88c5\u9970\u5668",level:4},{value:"@property \u88c5\u9970\u5668",id:"property-\u88c5\u9970\u5668",level:4},{value:"\u5e94\u7528\uff1a\u5b9a\u65f6\u5668",id:"\u5e94\u7528\u5b9a\u65f6\u5668",level:4},{value:"\u8fed\u4ee3\u5668",id:"\u8fed\u4ee3\u5668",level:3},{value:"enumerate",id:"enumerate",level:4},{value:"\u81ea\u5b9a\u4e49\u8fed\u4ee3\u5668",id:"\u81ea\u5b9a\u4e49\u8fed\u4ee3\u5668",level:4},{value:"\u5b9e\u73b0 Collatz \u731c\u60f3",id:"\u5b9e\u73b0-collatz-\u731c\u60f3",level:4},{value:"\u8fed\u4ee3\u5668\u548c\u53ef\u8fed\u4ee3\u5bf9\u8c61\u5206\u5f00\u5904\u7406",id:"\u8fed\u4ee3\u5668\u548c\u53ef\u8fed\u4ee3\u5bf9\u8c61\u5206\u5f00\u5904\u7406",level:4},{value:"\u751f\u6210\u5668",id:"\u751f\u6210\u5668",level:3},{value:"return \u548c yield \u6709\u4ec0\u4e48\u533a\u522b\uff1f",id:"return-\u548c-yield-\u6709\u4ec0\u4e48\u533a\u522b",level:4},{value:"\u8fed\u4ee3\u5668\u548c\u751f\u6210\u5668\u6709\u4ec0\u4e48\u533a\u522b\uff1f",id:"\u8fed\u4ee3\u5668\u548c\u751f\u6210\u5668\u6709\u4ec0\u4e48\u533a\u522b",level:5},{value:"<strong>new</strong>\u548c <strong>init</strong>\u7684\u533a\u522b\uff1f",id:"new\u548c-init\u7684\u533a\u522b",level:5},{value:"\u95ed\u5305",id:"\u95ed\u5305",level:4},{value:"\u95ed\u5305\u539f\u7406\uff08\u547d\u540d\u7a7a\u95f4\u4e0e\u4f5c\u7528\u57df\uff09",id:"\u95ed\u5305\u539f\u7406\u547d\u540d\u7a7a\u95f4\u4e0e\u4f5c\u7528\u57df",level:4},{value:"\u547d\u540d\u7a7a\u95f4",id:"\u547d\u540d\u7a7a\u95f4",level:5},{value:"\u4f5c\u7528\u57df",id:"\u4f5c\u7528\u57df",level:5},{value:"\u95ed\u5305\u5931\u8d25\u793a\u4f8b",id:"\u95ed\u5305\u5931\u8d25\u793a\u4f8b",level:5},{value:"\u95ed\u5305\u6210\u529f\u793a\u4f8b",id:"\u95ed\u5305\u6210\u529f\u793a\u4f8b",level:5},{value:"\u5355\u4f8b\u6a21\u5f0f",id:"\u5355\u4f8b\u6a21\u5f0f",level:4},{value:"\u4f7f\u7528\u95ed\u5305\u51fd\u6570\u5b9e\u73b0\u5355\u4f8b\u6a21\u5f0f",id:"\u4f7f\u7528\u95ed\u5305\u51fd\u6570\u5b9e\u73b0\u5355\u4f8b\u6a21\u5f0f",level:4},{value:"\u4e5f\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528<strong>new</strong>\u65b9\u6cd5\u5b9e\u73b0\u7684\u5355\u4f8b\u6a21\u5f0f",id:"\u4e5f\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528new\u65b9\u6cd5\u5b9e\u73b0\u7684\u5355\u4f8b\u6a21\u5f0f",level:4},{value:"\u8fdb\u7a0b",id:"\u8fdb\u7a0b",level:3},{value:"\u591a\u8fdb\u7a0b",id:"\u591a\u8fdb\u7a0b",level:4},{value:"\u7ebf\u7a0b",id:"\u7ebf\u7a0b",level:3},{value:"\u591a\u7ebf\u7a0b",id:"\u591a\u7ebf\u7a0b",level:4},{value:"\u534f\u7a0b",id:"\u534f\u7a0b",level:3},{value:"Python \u5185\u7f6e\u5e93\u7684\u4f7f\u7528",id:"python-\u5185\u7f6e\u5e93\u7684\u4f7f\u7528",level:3},{value:"\u6587\u4ef6\u8def\u5f84\u64cd\u4f5c",id:"\u6587\u4ef6\u8def\u5f84\u64cd\u4f5c",level:4},{value:"\u7cfb\u7edf\u5e38\u91cf",id:"\u7cfb\u7edf\u5e38\u91cf",level:4},{value:"os.path \u6a21\u5757",id:"ospath-\u6a21\u5757",level:4},{value:"split \u548c join",id:"split-\u548c-join",level:4},{value:"Byte Code \u7f16\u8bd1",id:"byte-code-\u7f16\u8bd1",level:4},{value:"\u7b2c\u4e09\u65b9\u5e93",id:"\u7b2c\u4e09\u65b9\u5e93",level:3},{value:"\u7b2c\u4e09\u65b9\u6a21\u5757\u4f7f\u7528\u7684\u57fa\u672c\u6d41\u7a0b",id:"\u7b2c\u4e09\u65b9\u6a21\u5757\u4f7f\u7528\u7684\u57fa\u672c\u6d41\u7a0b",level:4},{value:"\u7b2c\u4e09\u65b9\u6a21\u5757\u7684\u7248\u672c\u95ee\u9898",id:"\u7b2c\u4e09\u65b9\u6a21\u5757\u7684\u7248\u672c\u95ee\u9898",level:4},{value:"\u7b2c\u4e09\u65b9\u6a21\u5757 OpenCV",id:"\u7b2c\u4e09\u65b9\u6a21\u5757-opencv",level:4},{value:"Python \u8c03\u7528 C",id:"python-\u8c03\u7528-c",level:3},{value:"Visual Studio Code \u548c Visual Studio \u7684\u8c03\u8bd5",id:"visual-studio-code-\u548c-visual-studio-\u7684\u8c03\u8bd5",level:4},{value:"Visual Studio Code",id:"visual-studio-code",level:5},{value:"Visual Studio",id:"visual-studio",level:5},{value:"\u4ee3\u7801\u7684\u4e92\u76f8\u8c03\u7528",id:"\u4ee3\u7801\u7684\u4e92\u76f8\u8c03\u7528",level:4},{value:"\u5728 Python \u4e2d\u8c03\u7528 C\uff08\u539f\u751f\u7684 Python.h\uff09",id:"\u5728-python-\u4e2d\u8c03\u7528-c\u539f\u751f\u7684-pythonh",level:5},{value:"\u73af\u5883\u8bbe\u7f6e",id:"\u73af\u5883\u8bbe\u7f6e",level:5},{value:"\u4ee3\u7801\u7f16\u5199",id:"\u4ee3\u7801\u7f16\u5199",level:5},{value:"Python \u53d1\u5e03\u5305",id:"python-\u53d1\u5e03\u5305",level:3},{value:"\u76ee\u5f55\u7ed3\u6784",id:"\u76ee\u5f55\u7ed3\u6784",level:4},{value:"pyproject.toml \u793a\u4f8b",id:"pyprojecttoml-\u793a\u4f8b",level:4},{value:"\u6253\u5305\u53d1\u5e03",id:"\u6253\u5305\u53d1\u5e03",level:4},{value:"\u901a\u8fc7git\u81ea\u52a8\u53d1\u5e03",id:"\u901a\u8fc7git\u81ea\u52a8\u53d1\u5e03",level:4},{value:"\u5c01\u88c5\u7a0b\u5e8f\u4e3a\u53ef\u6267\u884c\u6587\u4ef6",id:"\u5c01\u88c5\u7a0b\u5e8f\u4e3a\u53ef\u6267\u884c\u6587\u4ef6",level:4},{value:"Python \u865a\u62df\u73af\u5883",id:"python-\u865a\u62df\u73af\u5883",level:3},{value:"1. \u521b\u5efa\u865a\u62df\u73af\u5883",id:"1-\u521b\u5efa\u865a\u62df\u73af\u5883",level:4},{value:"2. \u8fdb\u5165\u865a\u62df\u73af\u5883",id:"2-\u8fdb\u5165\u865a\u62df\u73af\u5883",level:4},{value:"3. \u67e5\u770b\u865a\u62df\u73af\u5883",id:"3-\u67e5\u770b\u865a\u62df\u73af\u5883",level:4},{value:"4. \u5728\u865a\u62df\u73af\u5883\u4e2d\u5b89\u88c5\u548c\u8fd0\u884c\u4ee3\u7801",id:"4-\u5728\u865a\u62df\u73af\u5883\u4e2d\u5b89\u88c5\u548c\u8fd0\u884c\u4ee3\u7801",level:4},{value:"5. \u9000\u51fa\u865a\u62df\u73af\u5883",id:"5-\u9000\u51fa\u865a\u62df\u73af\u5883",level:4}];function d(n){const e={a:"a",blockquote:"blockquote",code:"code",h3:"h3",h4:"h4",h5:"h5",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...n.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(e.h3,{id:"\u9762\u5411\u5bf9\u8c61\u7f16\u7a0b",children:"\u9762\u5411\u5bf9\u8c61\u7f16\u7a0b"}),"\n",(0,r.jsx)(e.p,{children:"\u9762\u5411\u5bf9\u8c61\u7f16\u7a0b\u2014\u2014Object Oriented Programming\uff0c\u7b80\u79f0 OOP\uff0c\u662f\u4e00\u79cd\u7a0b\u5e8f\u8bbe\u8ba1\u601d\u60f3\u3002OOP \u628a\u5bf9\u8c61\u4f5c\u4e3a\u7a0b\u5e8f\u7684\u57fa\u672c\u5355\u5143\uff0c\u4e00\u4e2a\u5bf9\u8c61\u5305\u542b\u4e86\u6570\u636e\u548c\u64cd\u4f5c\u6570\u636e\u7684\u51fd\u6570\u3002"}),"\n",(0,r.jsx)(e.p,{children:"\u5728 Python \u4e2d\uff0c\u6240\u6709\u6570\u636e\u7c7b\u578b\u90fd\u53ef\u4ee5\u89c6\u4e3a\u5bf9\u8c61\uff0c\u5f53\u7136\u4e5f\u53ef\u4ee5\u81ea\u5b9a\u4e49\u5bf9\u8c61\u3002\u81ea\u5b9a\u4e49\u7684\u5bf9\u8c61\u6570\u636e\u7c7b\u578b\u5c31\u662f\u9762\u5411\u5bf9\u8c61\u4e2d\u7684\u7c7b\uff08Class\uff09\u7684\u6982\u5ff5\u3002"}),"\n",(0,r.jsx)(e.p,{children:"\u9762\u5411\u5bf9\u8c61\u7684\u8bbe\u8ba1\u601d\u60f3\u662f\u4ece\u81ea\u7136\u754c\u4e2d\u6765\u7684\uff0c\u56e0\u4e3a\u5728\u81ea\u7136\u754c\u4e2d\uff0c\u7c7b\uff08Class\uff09\u548c\u5b9e\u4f8b\uff08Instance\uff09\u7684\u6982\u5ff5\u662f\u5f88\u81ea\u7136\u7684\u3002Class \u662f\u4e00\u79cd\u62bd\u8c61\u6982\u5ff5\uff0c\u6bd4\u5982\u6211\u4eec\u5b9a\u4e49\u7684 Class\u2014\u2014Student\uff0c\u662f\u6307\u5b66\u751f\u8fd9\u4e2a\u6982\u5ff5\uff0c\u800c\u5b9e\u4f8b\uff08Instance\uff09\u5219\u662f\u4e00\u4e2a\u4e2a\u5177\u4f53\u7684 Student\uff0c\u6bd4\u5982\uff0c\u5f20\u4e09\u548c\u674e\u56db\u662f\u4e24\u4e2a\u5177\u4f53\u7684 Student\u3002"}),"\n",(0,r.jsx)(e.p,{children:"\u6240\u4ee5\uff0c\u9762\u5411\u5bf9\u8c61\u7684\u8bbe\u8ba1\u601d\u60f3\u662f\u62bd\u8c61\u51fa Class\uff0c\u6839\u636e Class \u521b\u5efa Instance\u3002"}),"\n",(0,r.jsx)(e.p,{children:"\u9762\u5411\u5bf9\u8c61\u7684\u62bd\u8c61\u7a0b\u5ea6\u53c8\u6bd4\u51fd\u6570\u8981\u9ad8\uff0c\u56e0\u4e3a\u4e00\u4e2a Class \u65e2\u5305\u542b\u6570\u636e\uff0c\u53c8\u5305\u542b\u64cd\u4f5c\u6570\u636e\u7684\u65b9\u6cd5\u3002"}),"\n",(0,r.jsx)(e.h4,{id:"\u521b\u5efa\u7c7b",children:"\u521b\u5efa\u7c7b"}),"\n",(0,r.jsx)(e.h5,{id:"\u7c7b\u7684\u7279\u6b8a\u65b9\u6cd5",children:"\u7c7b\u7684\u7279\u6b8a\u65b9\u6cd5"}),"\n",(0,r.jsx)(e.p,{children:"Python \u4f7f\u7528 __ \u5f00\u5934\u7684\u540d\u5b57\u6765\u5b9a\u4e49\u7279\u6b8a\u7684\u65b9\u6cd5\u548c\u5c5e\u6027\uff0c\u5b83\u4eec\u6709\uff1a"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{children:"__init__()\n__repr__()\n__str__()\n__call__()\n__iter__()\n__add__()\n__sub__()\n__mul__()\n__rmul__()\n__class__\n__name__\n"})}),"\n",(0,r.jsxs)(e.p,{children:["\u6784\u9020\u65b9\u6cd5 ",(0,r.jsx)(e.code,{children:"__init__()"})]}),"\n",(0,r.jsx)(e.p,{children:"\u5728\u4ea7\u751f\u5bf9\u8c61\u4e4b\u540e\uff0c\u6211\u4eec\u53ef\u4ee5\u5411\u5bf9\u8c61\u4e2d\u6dfb\u52a0\u5c5e\u6027\u3002\n\u4e8b\u5b9e\u4e0a\uff0c\u8fd8\u53ef\u4ee5\u901a\u8fc7\u6784\u9020\u65b9\u6cd5\uff0c\u5728\u6784\u9020\u5bf9\u8c61\u7684\u65f6\u5019\u76f4\u63a5\u6dfb\u52a0\u5c5e\u6027\uff1a"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:'class Clothes(object):\n    """\n    init_demo\n    """\n\n    def __init__(self, color="green"):\n        self.color = color\n\n\nmy_clothes = Clothes()\nmy_clothes.color\n'})}),"\n",(0,r.jsx)(e.p,{children:"\u4f20\u5165\u6709\u53c2\u6570\u7684\u503c\uff1a"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:"your_clothes = Clothes('orange')\nyour_clothes.color\n"})}),"\n",(0,r.jsxs)(e.p,{children:["\u8868\u793a\u65b9\u6cd5 ",(0,r.jsx)(e.code,{children:"__repr__() \u548c __str__()"}),":"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:'class Clothes(object):\n    """\n    repr and str demo\n    """\n\n    def __init__(self, color="green"):\n        self.color = color\n\n    def __str__(self):\n        "This is a string to print."\n        return ("a {} clothes".format(self.color))\n\n    def __repr__(self):\n        "This string recreates the object."\n        return ("{}(color=\'{}\')".format(self.__class__.__name__, self.color))\n'})}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.code,{children:"__str__()"})," \u662f\u4f7f\u7528 print \u51fd\u6570\u663e\u793a\u7684\u7ed3\u679c,\u7c7b\u4f3c java \u4e2d\u7684 toString\uff1a"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:"my_clothes = Clothes()\nprint(my_clothes)\n"})}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.code,{children:"__repr__()"})," \u8fd4\u56de\u7684\u662f\u4e0d\u4f7f\u7528 print \u65b9\u6cd5\u7684\u7ed3\u679c:"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:"my_clothes\n"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:"print(my_clothes.__class__, my_clothes.__class__.__name__, my_clothes.color)\n"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:"my_clothes.__class__, my_clothes.__class__.__name__, my_clothes.color\n"})}),"\n",(0,r.jsx)(e.h5,{id:"\u7c7b\u7684\u5c5e\u6027",children:"\u7c7b\u7684\u5c5e\u6027"}),"\n",(0,r.jsx)(e.p,{children:"\u53ea\u8bfb\u5c5e\u6027\uff1a"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:"class Clothes(object):\n    def __init__(self, price):\n        self.price = price\n\n    # \u8fd9\u6837 discount_price \u5c31\u53d8\u6210\u5c5e\u6027\u4e86\n    @property\n    def discount_price(self):\n        return self.price * 0.8\n"})}),"\n",(0,r.jsx)(e.p,{children:"\u8fd9\u91cc discount_price \u5c31\u662f\u4e00\u4e2a\u53ea\u8bfb\u4e0d\u5199\u7684\u5c5e\u6027\u4e86\uff08\u6ce8\u610f\u662f\u5c5e\u6027\u4e0d\u662f\u65b9\u6cd5\uff09,\n\u800c price \u662f\u53ef\u8bfb\u5199\u7684\u5c5e\u6027\uff1a"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:"my_clothes = Clothes(100)\nprint(my_clothes.discount_price)  # 80.0\n"})}),"\n",(0,r.jsx)(e.p,{children:"\u53ef\u4ee5\u4fee\u6539 price \u5c5e\u6027\u6765\u6539\u53d8 discount_price\uff1a"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:"my_clothes.price = 200\nprint(my_clothes.discount_price)  # 160.0\n"})}),"\n",(0,r.jsx)(e.p,{children:"my_clothes.discount_price()\u4f1a\u62a5\u9519\uff0c\u56e0\u4e3a my_clothes.discount_price \u662f\u5c5e\u6027\uff0c\u4e0d\u662f\u65b9\u6cd5\uff1b"}),"\n",(0,r.jsx)(e.p,{children:"my_clothes.discount_price=100 \u4e5f\u4f1a\u62a5\u9519\uff0c\u56e0\u4e3a\u53ea\u8bfb\u3002"}),"\n",(0,r.jsx)(e.p,{children:"\u5bf9\u4e8e @property \u751f\u6210\u7684\u53ea\u8bfb\u5c5e\u6027\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u76f8\u5e94\u7684 @attr.setter \u4fee\u9970\u7b26\u6765\u4f7f\u5f97\u8fd9\u4e2a\u5c5e\u6027\u53d8\u6210\u53ef\u5199\u7684\uff1a"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:"class Clothes(object):\n    def __init__(self, price):\n        self.price = price\n\n    # \u8fd9\u6837\u5c31\u53d8\u6210\u5c5e\u6027\u4e86\n    @property\n    def discount_price(self):\n        return self.price * 0.8\n\n    @discount_price.setter\n    def discount_price(self, new_price):\n        self.price = new_price * 1.25\n"})}),"\n",(0,r.jsx)(e.p,{children:"\u6d4b\u8bd5\u4e00\u4e0b\uff1a"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:"my_clothes = Clothes(100)\nprint(my_clothes.discount_price)\n\nmy_clothes.price = 200\nprint(my_clothes.discount_price)\n"})}),"\n",(0,r.jsx)(e.p,{children:"\u4fee\u6539 discount_price \u5c5e\u6027\uff1a"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:"my_clothes.discount_price = 180\nprint(my_clothes.price)\nprint(my_clothes.discount_price)\n"})}),"\n",(0,r.jsx)(e.p,{children:"\u4e00\u4e2a\u7b49\u4ef7\u7684\u66ff\u4ee3\u5982\u4e0b\uff0c\u7528\u65b9\u6cd5\uff1a"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:"class Clothes(object):\n    def __init__(self, price):\n        self.price = price\n\n    def get_discount_price(self):\n        return self.price * 0.8\n\n    def set_discount_price(self, new_price):\n        self.price = new_price * 1.25\n\n    discount_price = property(get_discount_price, set_discount_price)\n\n"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:"my_clothes = Clothes(100)\nprint(my_clothes.discount_price)\n\nmy_clothes.price = 200\nprint(my_clothes.discount_price)\n\nmy_clothes.discount_price = 180\nprint(my_clothes.price)\nprint(my_clothes.discount_price)\n"})}),"\n",(0,r.jsx)(e.h4,{id:"\u7ee7\u627f",children:"\u7ee7\u627f"}),"\n",(0,r.jsx)(e.p,{children:"\u7c7b\u5b9a\u4e49\u7684\u57fa\u672c\u5f62\u5f0f\uff1a"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:'class ClassName(ParentClass):\n    """class docstring"""\n    def method(self):\n        return\n'})}),"\n",(0,r.jsx)(e.p,{children:"\u91cc\u9762\u7684 ParentClass \u5c31\u662f\u7528\u6765\u7ee7\u627f\u7684\u3002"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:'class Clothes(object):\n    def __init__(self, color="green"):\n        self.color = color\n\n    def out_print(self):\n        return self.__class__.__name__, self.color\n'})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:"my_clothes = Clothes()\nmy_clothes.color\n"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:"my_clothes.out_print()\n"})}),"\n",(0,r.jsx)(e.p,{children:"\u5b9a\u4e49\u4e00\u4e2a\u5b50\u7c7b\uff0c\u7ee7\u627f\u7236\u7c7b\u7684\u6240\u6709\u65b9\u6cd5:"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:'class NikeClothes(Clothes):\n    def change_color(self):\n        if self.color == "green":\n            self.color = "red"\n'})}),"\n",(0,r.jsx)(e.p,{children:"\u7ee7\u627f\u7236\u7c7b\u7684\u6240\u6709\u65b9\u6cd5\uff1a"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:"your_clothes = NikeClothes()\nyour_clothes.color\n"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:"your_clothes.out_print()\n"})}),"\n",(0,r.jsx)(e.p,{children:"\u4f46\u6709\u81ea\u5df1\u7684\u65b9\u6cd5\uff1a"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:"your_clothes.change_color()\nyour_clothes.color\n"})}),"\n",(0,r.jsx)(e.p,{children:"\u5982\u679c\u60f3\u5bf9\u7236\u7c7b\u7684\u65b9\u6cd5\u8fdb\u884c\u4fee\u6539\uff0c\u53ea\u9700\u8981\u5728\u5b50\u7c7b\u4e2d\u91cd\u5b9a\u4e49\u8fd9\u4e2a\u7c7b\u5373\u53ef\uff1a"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:'class AdidasClothes(Clothes):\n    def change_color(self):\n        if self.color == "green":\n            self.color = "black"\n\n    def out_print(self):\n        self.change_color()\n        return self.__class__.__name__, self.color\n\n\nhim_clothes = AdidasClothes()\nprint(him_clothes.color)\n\nhim_clothes.change_color()\nprint(him_clothes.color)\nprint(him_clothes.out_print())\n'})}),"\n",(0,r.jsx)(e.h4,{id:"super-\u51fd\u6570",children:"super() \u51fd\u6570"}),"\n",(0,r.jsx)(e.p,{children:"super(CurrentClassName, instance)"}),"\n",(0,r.jsx)(e.p,{children:"\u8fd4\u56de\u8be5\u7c7b\u5b9e\u4f8b\u5bf9\u5e94\u7684\u7236\u7c7b\u5bf9\u8c61\u3002"}),"\n",(0,r.jsx)(e.p,{children:"\u521a\u624d AdidasClothes \u53ef\u4ee5\u6539\u5199\u4e3a\uff1a"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:'class NewAdidasClothes(Clothes):\n    def change_color(self):\n        if self.color == "green":\n            self.color = "black"\n\n    def out_print(self):\n        self.change_color()\n        print(super(NewAdidasClothes, self).out_print())\n\nher_clothes = NewAdidasClothes()\nprint(her_clothes.color)\n\nher_clothes.out_print()\n'})}),"\n",(0,r.jsxs)(e.h4,{id:"new-\u65b9\u6cd5",children:[(0,r.jsx)(e.strong,{children:"new"}),"() \u65b9\u6cd5"]}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"new"}),"()\u7528\u6765\u521b\u5efa\u4e00\u4e2a\u5b9e\u4f8b\uff0c\u5b83\u81f3\u5c11\u6709\u4e00\u4e2a\u53c2\u6570 cls\uff0c\u4ee3\u8868\u5f53\u524d\u7c7b\u3002\u9ed8\u8ba4\u60c5\u51b5\u4e0b",(0,r.jsx)(e.strong,{children:"new"}),"()\u4f1a\u521b\u5efa\u5f53\u524d\u7c7b\u7684\u5b9e\u4f8b\uff0c\u8be5\u65b9\u6cd5\u4e5f\u53ef\u4ee5\u88ab\u91cd\u8f7d\uff0c\u91cd\u8f7d\u540e\u4e5f\u53ef\u4ee5\u521b\u5efa\u5176\u4ed6\u7c7b\u7684\u5b9e\u4f8b\u3002"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:"class Fun(object):\n    def __init__(self, fun):\n        self.fun = fun\n\n    def __new__(cls, *args, **kwargs):\n        return object.__new__(Fun)\n\nif __name__ == '__main__':\n    f = Fun.__new__(Fun)\n    print(type(f))\n"})}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"new"}),"()\u65b9\u6cd5\u53ea\u662f\u521b\u5efa\u5b9e\u4f8b\uff0c\u6b64\u65f6\u62ff\u5230\u7684\u5b9e\u4f8b\u5e76\u4e0d\u80fd\u6b63\u5e38\u4f7f\u7528\u3002\u4e00\u4e2a\u5b9e\u4f8b\u9700\u8981\u88ab",(0,r.jsx)(e.strong,{children:"init"}),"()\u65b9\u6cd5\u521d\u59cb\u5316\u540e\u624d\u53ef\u4ee5\u88ab\u6b63\u5e38\u4f7f\u7528\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u6b63\u5e38\u573a\u666f\u4e0b\uff0c\u6211\u4eec\u751f\u6210\u4e00\u4e2a\u7c7b\u7684\u5b9e\u4f8b\uff0cPython \u5148\u8c03\u7528\u8be5\u7c7b\u7684",(0,r.jsx)(e.strong,{children:"new()**\u65b9\u6cd5\u521b\u5efa\u4e00\u4e2a\u5b9e\u4f8b\uff0c\u7136\u540e\u518d\u8c03\u7528"}),"init**()\u65b9\u6cd5\u521d\u59cb\u5316\u8be5\u5b9e\u4f8b\u3002**new()**\u65b9\u6cd5\u5b58\u5728\u4e8e object \u65b9\u6cd5\u4e2d\uff0c\u901a\u5e38\u60c5\u51b5\u4e0b\u4e0d\u9700\u8981\u88ab\u91cd\u8f7d\u3002"]}),"\n",(0,r.jsxs)(e.p,{children:["\u53ef\u4ee5\u4f7f\u7528",(0,r.jsx)(e.strong,{children:"new"}),"\u65b9\u6cd5\u521b\u5efa\u51fa\u5176\u5b83\u7c7b\u7684\u5b9e\u4f8b\u3002\u5728\u8fd9\u79cd\u573a\u666f\u4e0b\uff0c",(0,r.jsx)(e.strong,{children:"new"}),"\u65b9\u6cd5\u521b\u5efa\u540e\u4f1a\u8c03\u7528\u5bf9\u5e94\u7c7b\u7684",(0,r.jsx)(e.strong,{children:"init"}),"\u65b9\u6cd5\u5b8c\u6210\u521d\u59cb\u5316\uff1a"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:'class Fun(object):\n    def __init__(self, fun):\n        self.fun = fun\n\n    def __new__(cls, *args, **kwargs):\n        return Demo(*args, **kwargs)\n\n\nclass Demo(object):\n    def __init__(self, d):\n        self.demo = d\n\n\nif __name__ == \'__main__\':\n    f = Fun(1)\n    print("type f:", type(f))\n    print("f.demo:", f.demo)\n'})}),"\n",(0,r.jsxs)(e.p,{children:["\u53ef\u4ee5\u770b\u51fa\uff0cf \u4e0d\u662f Fun \u7c7b\u7684\u4e00\u4e2a\u5b9e\u4f8b\uff0c\u800c\u662f Demo \u7c7b\u7684\u4e00\u4e2a\u5b9e\u4f8b\uff0c\u62e5\u6709 Demo \u7c7b\u7684\u5b57\u6bb5\u3002\u56e0\u4e3a Fun \u7c7b\u7684",(0,r.jsx)(e.strong,{children:"new"}),"\u65b9\u6cd5\u521b\u5efa\u7684\u662f\u4e00\u4e2a Demo \u7c7b\u5b9e\u4f8b\uff0c\u800c\u975e Fun \u7c7b\u672c\u8eab\u3002\u56e0\u6b64 Fun.",(0,r.jsx)(e.strong,{children:"new"}),"\u65b9\u6cd5\u5728 return \u540e\u8c03\u7528\u4e86 Demo.",(0,r.jsx)(e.strong,{children:"init"}),"\u65b9\u6cd5\uff0c\u4ee5\u5b8c\u6210\u8be5\u5b9e\u4f8b\u7684\u521d\u59cb\u5316\u3002"]}),"\n",(0,r.jsx)(e.h4,{id:"\u63a5\u53e3",children:"\u63a5\u53e3"}),"\n",(0,r.jsx)(e.p,{children:"\u63a5\u53e3\u7684\u8c03\u7528\uff1a"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:'class Clothes(object):\n    def __init__(self, color="green"):\n        self.color = color\n\n    def out(self):\n        print("father.")\n\n\nclass NikeClothes(Clothes):\n    def out(self):\n        self.color = "brown"\n        super(NikeClothes, self).out()\n\n\nclass AdidasClothes(object):\n    def out(self):\n        print("adidas.")\n\n'})}),"\n",(0,r.jsx)(e.p,{children:"\u56e0\u4e3a\u4e09\u4e2a\u7c7b\u90fd\u5b9e\u73b0\u4e86 out() \u65b9\u6cd5\uff0c\u56e0\u6b64\u53ef\u4ee5\u8fd9\u6837\u4f7f\u7528\uff1a"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:"objects = [Clothes(), NikeClothes(), AdidasClothes()]\nfor obj in objects:\n    obj.out()\n"})}),"\n",(0,r.jsx)(e.h4,{id:"\u7c7b\u65b9\u6cd5",children:"\u7c7b\u65b9\u6cd5"}),"\n",(0,r.jsx)(e.p,{children:"\u7c7b\u65b9\u6cd5\u5305\u62ec\u4ee5\u4e0b\u51e0\u79cd\uff1a"}),"\n",(0,r.jsxs)(e.ol,{children:["\n",(0,r.jsx)(e.li,{children:"special \u65b9\u6cd5\u548c\u5c5e\u6027\uff0c\u5373\u4ee5 __ \u5f00\u5934\u548c\u7ed3\u5c3e\u7684\u65b9\u6cd5\u548c\u5c5e\u6027"}),"\n",(0,r.jsx)(e.li,{children:"\u79c1\u6709\u65b9\u6cd5\u548c\u5c5e\u6027\uff0c\u4ee5 _ \u5f00\u5934\uff0c\u4e0d\u8fc7\u4e0d\u662f\u771f\u6b63\u79c1\u6709\uff0c\u800c\u662f\u53ef\u4ee5\u8c03\u7528\u7684\uff0c\n\u4f46\u662f\u4e0d\u4f1a\u88ab\u4ee3\u7801\u81ea\u52a8\u5b8c\u6210\u6240\u8bb0\u5f55\uff08\u5373 Tab \u952e\u4e4b\u540e\u4e0d\u4f1a\u663e\u793a\uff09"}),"\n",(0,r.jsx)(e.li,{children:"\u5171\u6709\u7684\u65b9\u6cd5\u548c\u5c5e\u6027"}),"\n"]}),"\n",(0,r.jsxs)(e.p,{children:["\u4ee5 ",(0,r.jsx)(e.code,{children:"__"})," \u5f00\u5934\u4e0d\u4ee5 ",(0,r.jsx)(e.code,{children:"__"})," \u7ed3\u5c3e\u7684\u5c5e\u6027\u662f\u66f4\u52a0\u7279\u6b8a\u7684\u65b9\u6cd5\uff0c\u8c03\u7528\u65b9\u5f0f\u4e5f\u4e0d\u540c\uff1a"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:'class MyDemoClass(object):\n    def __init__(self):\n        print("special.")\n\n    def _get_name(self):\n        print("_get_name is private method.")\n\n    def get_value(self):\n        print("get_value is public method.")\n\n    def __get_type(self):\n        print("__get_type is really special method.")\n'})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:"demo = MyDemoClass()\n\n"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:"demo.get_value()\ndemo._get_name()\ndemo._MyDemoClass__get_type()\n"})}),"\n",(0,r.jsx)(e.h3,{id:"\u6587\u4ef6",children:"\u6587\u4ef6"}),"\n",(0,r.jsx)(e.h4,{id:"\u5199\u6587\u4ef6",children:"\u5199\u6587\u4ef6"}),"\n",(0,r.jsx)(e.p,{children:"\u6211\u4eec\u4f7f\u7528 open \u51fd\u6570\u7684\u5199\u5165\u6a21\u5f0f\u6765\u5199\u6587\u4ef6\uff1a"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:"f = open('test.txt', 'w')\nf.write('hello world.')\nf.close()\n"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:"print(open('test.txt').read())\n"})}),"\n",(0,r.jsx)(e.p,{children:"\u4f7f\u7528 w \u6a21\u5f0f\u65f6\uff0c\u5982\u679c\u6587\u4ef6\u4e0d\u5b58\u5728\u4f1a\u88ab\u521b\u5efa"}),"\n",(0,r.jsx)(e.p,{children:"\u9664\u4e86\u5199\u5165\u6a21\u5f0f\uff0c\u8fd8\u6709\u8ffd\u52a0\u6a21\u5f0f a"}),"\n",(0,r.jsx)(e.p,{children:"\u8bfb\u5199\u6a21\u5f0f w+"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:"f = open('test.txt', 'w+')\nf.write('hello world. morning.')\nf.seek(3)\nprint(f.read())  # hello world.\nf.close()\n"})}),"\n",(0,r.jsx)(e.h4,{id:"\u8bfb\u6587\u4ef6",children:"\u8bfb\u6587\u4ef6"}),"\n",(0,r.jsx)(e.p,{children:"\u4f7f\u7528 open \u51fd\u6570 \u6765\u8bfb\u6587\u4ef6\uff0c\u4f7f\u7528\u6587\u4ef6\u540d\u7684\u5b57\u7b26\u4e32\u4f5c\u4e3a\u8f93\u5165\u53c2\u6570\uff1a"}),"\n",(0,r.jsx)(e.p,{children:"\u9ed8\u8ba4\u6253\u5f00\u6587\u4ef6\u662f \u2018r\u2019 \u8bfb\u6a21\u5f0f"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:'f = open("test.txt")\n\n# \u9ed8\u8ba4\u4ee5\u8bfb\u7684\u65b9\u5f0f\u6253\u5f00\u6587\u4ef6\uff0c\u5982\u679c\u6587\u4ef6\u4e0d\u5b58\u5728\u4f1a\u62a5\u9519\u3002\n# \u53ef\u4ee5\u4f7f\u7528 read \u65b9\u6cd5\u6765\u8bfb\u5165\u6587\u4ef6\u4e2d\u7684\u6240\u6709\u5185\u5bb9\uff1a\ntext = f.read()\nprint(text)\n'})}),"\n",(0,r.jsx)(e.p,{children:"\u6309\u7167\u884c\u8bfb\u5165\u5185\u5bb9\uff0creadlines \u65b9\u6cd5\u8fd4\u56de\u4e00\u4e2a\u5217\u8868\uff0c\u6bcf\u4e2a\u5143\u7d20\u4ee3\u8868\u6587\u4ef6\u4e2d\u6bcf\u4e00\u884c\u7684\u5185\u5bb9\uff1a"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:'f = open("test.txt")\nlines = f.readlines()\nprint(lines)\nf.close()\n'})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:"# \u4e8b\u5b9e\u4e0a\uff0c\u6211\u4eec\u53ef\u4ee5\u5c06 f \u653e\u5728\u4e00\u4e2a\u5faa\u73af\u4e2d\uff0c\u5f97\u5230\u5b83\u6bcf\u4e00\u884c\u7684\u5185\u5bb9\uff1a\nf = open('test.txt')\nfor line in f:\n    print(line)\nf.close()\n"})}),"\n",(0,r.jsx)(e.h4,{id:"\u4e0a\u4e0b\u6587\u7ba1\u7406\u5668",children:"\u4e0a\u4e0b\u6587\u7ba1\u7406\u5668"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:"with open('my_file.txt', 'w') as fp:\n    data = fp.write(\"Hello world\")\n"})}),"\n",(0,r.jsx)(e.p,{children:"\u8fd9\u7b49\u6548\u4e8e\u4e0b\u9762\u7684\u4ee3\u7801\uff0c\u4f46\u662f\u8981\u66f4\u7b80\u4fbf\uff1a"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:"fp = open('my_file.txt', 'w')\ntry:\n    # do stuff with f\n    data = fp.write(\"Hello world\")\nfinally:\n    fp.close()\n"})}),"\n",(0,r.jsx)(e.h4,{id:"\u81ea\u5b9a\u4e49\u4e0a\u4e0b\u6587\u7ba1\u7406\u5668",children:"\u81ea\u5b9a\u4e49\u4e0a\u4e0b\u6587\u7ba1\u7406\u5668"}),"\n",(0,r.jsx)(e.p,{children:"\u6bd4\u5982\u53ef\u4ee5\u8fd9\u6837\u5b9a\u4e49\u4e00\u4e2a\u7b80\u5355\u7684\u4e0a\u4e0b\u6587\u7ba1\u7406\u5668\uff1a"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:'class ContextManager(object):\n    def __enter__(self):\n        print("Entering")\n\n    def __exit__(self, exc_type, exc_value, traceback):\n        print("Exiting")\n\n\nwith ContextManager():\n    print("inside operate")\n'})}),"\n",(0,r.jsxs)(e.h4,{id:"enter-\u7684\u8fd4\u56de\u503c",children:[(0,r.jsx)(e.strong,{children:"enter"})," \u7684\u8fd4\u56de\u503c"]}),"\n",(0,r.jsxs)(e.p,{children:["\u5982\u679c\u5728 ",(0,r.jsx)(e.strong,{children:"enter"})," \u65b9\u6cd5\u4e0b\u6dfb\u52a0\u4e86\u8fd4\u56de\u503c\uff0c"]}),"\n",(0,r.jsx)(e.p,{children:"\u90a3\u4e48\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528 as \u628a\u8fd9\u4e2a\u8fd4\u56de\u503c\u4f20\u7ed9\u67d0\u4e2a\u53c2\u6570\uff1a"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:'class ContextManager2(object):\n    def __enter__(self):\n        print("Entering")\n        return "my value"\n\n    def __exit__(self, exc_type, exc_value, traceback):\n        print("Exiting")\n\n\nwith ContextManager2() as val:\n    print(val)\n\n'})}),"\n",(0,r.jsxs)(e.p,{children:["\u4e00\u4e2a\u901a\u5e38\u7684\u505a\u6cd5\u662f\u5c06 ",(0,r.jsx)(e.strong,{children:"enter"})," \u7684\u8fd4\u56de\u503c\u8bbe\u4e3a\u8fd9\u4e2a\u4e0a\u4e0b\u6587\u7ba1\u7406\u5668\u5bf9\u8c61\u672c\u8eab\uff0c\n\u6587\u4ef6\u5bf9\u8c61\u5c31\u662f\u8fd9\u6837\u505a\u7684."]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:'class ContextManager3(object):\n    def __enter__(self):\n        print("Entering")\n        return self\n\n    def __exit__(self, exc_type, exc_value, traceback):\n        print("Exiting")\n\n'})}),"\n",(0,r.jsx)(e.h4,{id:"\u9519\u8bef\u5904\u7406",children:"\u9519\u8bef\u5904\u7406"}),"\n",(0,r.jsxs)(e.p,{children:["\u4e0a\u4e0b\u6587\u7ba1\u7406\u5668\u5bf9\u8c61\u5c06\u9519\u8bef\u5904\u7406\u4ea4\u7ed9 ",(0,r.jsx)(e.strong,{children:"exit"})," \u8fdb\u884c\uff0c\u53ef\u4ee5\u5c06\u9519\u8bef\u7c7b\u578b\uff0c\n\u9519\u8bef\u503c\u548c traceback \u7b49\u5185\u5bb9\u4f5c\u4e3a\u53c2\u6570\u4f20\u9012\u7ed9 ",(0,r.jsx)(e.strong,{children:"exit"})," \u51fd\u6570\uff1a"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:'class ContextManager4(object):\n    def __enter__(self):\n        print("Entering")\n\n    def __exit__(self, exc_type, exc_value, traceback):\n        print("Exiting")\n        if exc_type is not None:\n            print("  Exception:", exc_value)\n            return True  # \u4e0d\u60f3\u8ba9\u9519\u8bef\u629b\u51fa\uff0c\u53ea\u9700\u8981\u5c06 __exit__ \u7684\u8fd4\u56de\u503c\u8bbe\u4e3a True\n\n\nwith ContextManager4():\n    print(1 / 0)\n\n'})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:"import os\nos.remove('my_file.txt')\n"})}),"\n",(0,r.jsx)(e.h4,{id:"\u4e8c\u8fdb\u5236\u6587\u4ef6",children:"\u4e8c\u8fdb\u5236\u6587\u4ef6"}),"\n",(0,r.jsx)(e.p,{children:"\u4e8c\u8fdb\u5236\u8bfb\u5199\u6a21\u5f0f b\uff1a"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:"import os\n\nf = open('binary.bin', 'wb')\nf.write(os.urandom(10))\nf.close()\n"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:"f = open('binary.bin', 'rb')\nprint(repr(f.read()))\nf.close()\n"})}),"\n",(0,r.jsx)(e.h4,{id:"with-\u65b9\u6cd5",children:"with \u65b9\u6cd5"}),"\n",(0,r.jsx)(e.p,{children:"\u4e8b\u5b9e\u4e0a\uff0cPython \u63d0\u4f9b\u4e86\u66f4\u5b89\u5168\u7684\u65b9\u6cd5\uff0c\u5f53 with \u5757\u7684\u5185\u5bb9\u7ed3\u675f\u540e\uff0c\nPython \u4f1a\u81ea\u52a8\u8c03\u7528\u5b83\u7684 close \u65b9\u6cd5\uff0c\u786e\u4fdd\u8bfb\u5199\u7684\u5b89\u5168\uff1a"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:"with open('new_file.txt', 'w') as f:\n    for i in range(3000):\n        x = 1.0 / (i - 1000)\n        f.write('hello world: ' + str(i) + '\\n')\n"})}),"\n",(0,r.jsx)(e.p,{children:"\u4e0e try/exception/finally \u6548\u679c\u76f8\u540c\uff0c\u4f46\u66f4\u7b80\u5355\u3002"}),"\n",(0,r.jsx)(e.p,{children:"\u67e5\u770b\u6587\u4ef6\u5199\u7684\u7ed3\u679c\uff0c\u867d\u7136\u89e6\u53d1 error\uff0c\u4f46\u5df2\u7ecf\u5199\u7684\u5185\u5bb9\u662f\u6210\u529f\u7684\u3002"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:"!tail new_file.txt\n"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:"!wc -l new_file.txt\n"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:"# \u5220\u9664\u6587\u4ef6\uff1a\nimport os\nos.remove('test.txt')\nos.remove('binary.bin')\nos.remove('new_file.txt')\n"})}),"\n",(0,r.jsx)(e.h3,{id:"\u5f02\u5e38",children:"\u5f02\u5e38"}),"\n",(0,r.jsx)(e.h4,{id:"try--except-\u5757",children:"try & except \u5757"}),"\n",(0,r.jsx)(e.p,{children:"\u6355\u6349\u4e0d\u540c\u7684\u9519\u8bef\u7c7b\u578b\uff0c\u5c1d\u8bd5\u5728\u4e0b\u9762\u8f93\u5165\u6846\u8f93\u5165\uff1a-1\uff0c1\uff0c2\uff0cq"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:'import math\n\nwhile True:\n    try:\n        text = input(\'>\')\n        if text[0] == \'q\':\n            break\n        x = float(text)\n        y = 1 / math.log10(x)\n        print("1/log10({0}) = {1}".format(x, y))\n    except ValueError:\n        print("value must bigger than 0")\n    except ZeroDivisionError:\n        print("the value must not be 1")\n\n'})}),"\n",(0,r.jsx)(e.h4,{id:"\u81ea\u5b9a\u4e49\u5f02\u5e38",children:"\u81ea\u5b9a\u4e49\u5f02\u5e38"}),"\n",(0,r.jsx)(e.p,{children:"\u5f02\u5e38\u662f\u6807\u51c6\u5e93\u4e2d\u7684\u7c7b\uff0c\u8fd9\u610f\u5473\u7740\u6211\u4eec\u53ef\u4ee5\u81ea\u5b9a\u4e49\u5f02\u5e38\u7c7b\uff1a"}),"\n",(0,r.jsx)(e.p,{children:"\u5c1d\u8bd5\u5728\u6587\u672c\u8f93\u5165\u6846\u8f93\u5165\uff1ak\uff0cstart\uff0cq"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:"class CommandError(ValueError):\n    print(\"bad command operation. must input 'start', 'stop', 'pause'\")\n\n\n\nvalid_commands = {'start', 'stop', 'pause'}\nwhile True:\n    command = input('>')\n    if command == 'q':\n        break\n    try:\n        if command.lower() not in valid_commands:\n            raise CommandError('Invalid command: %s' % command)\n        print('input command:', command)\n    except CommandError:\n        print(\"bad command string: %s\" % command)\n\n"})}),"\n",(0,r.jsx)(e.h4,{id:"finally",children:"finally"}),"\n",(0,r.jsx)(e.p,{children:"try/catch \u5757\u8fd8\u6709\u4e00\u4e2a\u53ef\u9009\u7684\u5173\u952e\u8bcd finally\u3002"}),"\n",(0,r.jsx)(e.p,{children:"\u4e0d\u7ba1 try \u5757\u6709\u6ca1\u6709\u5f02\u5e38\uff0c finally \u5757\u7684\u5185\u5bb9\u603b\u662f\u4f1a\u88ab\u6267\u884c\uff0c\n\u800c\u4e14\u4f1a\u5728\u629b\u51fa\u5f02\u5e38\u524d\u6267\u884c\uff0c\u56e0\u6b64\u53ef\u4ee5\u7528\u6765\u4f5c\u4e3a\u5b89\u5168\u4fdd\u8bc1\uff0c"}),"\n",(0,r.jsx)(e.p,{children:"\u6bd4\u5982\u6587\u4ef6\u64cd\u4f5c\u65f6\uff0c\u5e38\u5728 finally \u5173\u95ed\u6587\u4ef6\u3002"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:"try:\n    print(1 / 0)\nexcept ZeroDivisionError:\n    print('divide by 0.')\nfinally:\n    print('finally was called.')\n"})}),"\n",(0,r.jsx)(e.h3,{id:"\u88c5\u9970\u5668",children:"\u88c5\u9970\u5668"}),"\n",(0,r.jsx)(e.p,{children:"\u5982\u679c\u4f60\u6709\u4e00\u6279\u53d8\u91cf\u60f3\u7edf\u4e00\u6309\u4e00\u4e2a\u89c4\u5219\u5904\u7406\uff0c\u5e76\u4e14\u9700\u8981\u7f29\u51cf\u4ee3\u7801\uff0c\u4f60\u9700\u8981\u51fd\u6570\u3002"}),"\n",(0,r.jsx)(e.p,{children:"\u5982\u679c\u4f60\u6709\u4e00\u6279\u51fd\u6570\u60f3\u7edf\u4e00\u6309\u4e00\u4e2a\u89c4\u5219\u5904\u7406\uff0c\u5e76\u4e14\u9700\u8981\u7f29\u51cf\u4ee3\u7801\uff0c\u4f60\u9700\u8981\u88c5\u9970\u5668\uff08Decorator\uff09"}),"\n",(0,r.jsx)(e.p,{children:"\u7406\u6e05\u4e0b\u9762 2 \u70b9\uff1a"}),"\n",(0,r.jsx)(e.p,{children:"\u51fd\u6570"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u63a5\u53d7\u53c2\u6570"}),"\n",(0,r.jsx)(e.li,{children:"\u505a\u70b9\u4e8b\u60c5"}),"\n",(0,r.jsx)(e.li,{children:"\u8fd4\u56de\u7ed3\u679c"}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:"\u88c5\u9970\u5668"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u63a5\u53d7\u51fd\u6570\u4f5c\u4e3a\u53c2\u6570"}),"\n",(0,r.jsx)(e.li,{children:"\u505a\u70b9\u4e8b\u60c5"}),"\n",(0,r.jsx)(e.li,{children:"\u8fd4\u56de\u4e00\u4e2a\u51fd\u6570"}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:"\u7528 @ \u6765\u4f7f\u7528\u88c5\u9970\u5668"}),"\n",(0,r.jsx)(e.p,{children:"\u4f7f\u7528 @ \u7b26\u53f7\u6765\u5c06\u67d0\u4e2a\u51fd\u6570\u66ff\u6362\u4e3a\u88c5\u9970\u7b26\u4e4b\u540e\u7684\u51fd\u6570\uff1a"}),"\n",(0,r.jsx)(e.p,{children:"\u4f8b\u5982\u8fd9\u4e2a\u51fd\u6570\uff1a"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:"def dec(f):\n    print('I am decorating function', id(f))\n    return f\n"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:"def foo(x):\n    print(x)  # I am decorating function 45206384\n"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:"foo = dec(foo)\n"})}),"\n",(0,r.jsx)(e.p,{children:"\u53ef\u4ee5\u66ff\u6362\u4e3a\uff1a"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:"@dec\ndef foo(x):\n    print(x)\n"})}),"\n",(0,r.jsx)(e.p,{children:"\u90a3\u4e48\u4ed6\u6709\u4ec0\u4e48\u5b9e\u9645\u4f5c\u7528\uff1f\u6545\u4e8b\u7684\u5f00\u59cb\u662f\u8fd9\u6837\u7684\uff0c\u4f60\u5199\u597d\u4e86 2 \u4e2a\u51fd\u6570\uff1a"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:"def test1():\n  print('test1 ..')\n\ndef test2():\n  print('test2 ..')\n\ntest1()\ntest2()\n"})}),"\n",(0,r.jsx)(e.p,{children:"\u5f53\u4f60\u51c6\u5907\u628a\u5b83\u653e\u5230\u670d\u52a1\u5668\u4e0a\uff0c\u8fd9\u4e2a\u65f6\u5019\u9886\u5bfc\u63d0\u9192\u4f60\u8981\u8f93\u51fa\u65e5\u5fd7\uff0c\u4e0d\u7136\u67e5\u9519\u8dd1\u65ad\u817f\u3002\n\u8f93\u51fa\u8981\u6c42\u662f\uff1a\u5728\u6bcf\u6b21\u51fd\u6570\u8c03\u7528\u7684\u524d\u540e\u52a0\u4e0a\u65f6\u95f4\u3002\n\u4e8e\u662f\u4f60\u5199\u6210\u4e86\u4e0b\u9762\u8fd9\u4e2a\u6837\u5b50"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:"import time\ndef test1():\n    print('\u6d4b\u8bd5\u5f00\u59cb\uff1a\u73b0\u5728\u65f6\u95f4\u662f',time.time())\n    print('test1 ..')\n    print('\u6d4b\u8bd5\u7ed3\u675f\uff1a\u73b0\u5728\u65f6\u95f4\u662f',time.time())\n\ndef test2():\n    print('\u6d4b\u8bd5\u5f00\u59cb\uff1a\u73b0\u5728\u65f6\u95f4\u662f',time.time())\n    print('test2 ..')\n    print('\u6d4b\u8bd5\u7ed3\u675f\uff1a\u73b0\u5728\u65f6\u95f4\u662f',time.time())\n\ntest1()\ntest2()\n"})}),"\n",(0,r.jsx)(e.p,{children:"\u9886\u5bfc\u8bf4\uff0c\u4ed6\u6709 3 \u4e2a\u95ee\u9898\uff1a"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u9996\u5148\u4ee3\u7801 1 \u548c\u4ee3\u7801 2 \u662f\u4e00\u6837\u7684\uff0c\u4e5f\u5c31\u662f\u8bf4\u628a\u540c\u6837\u7684\u4ee3\u7801\u5199\u4e86 2 \u904d\uff0c\u8fd9\u4e00\u70b9\u4e5f\u4e0d\u7a0b\u5e8f\u5458\uff01"}),"\n",(0,r.jsx)(e.li,{children:"\u800c\u4e14\uff0c\u4f60\u4fee\u6539\u4e86\u4f60\u7684\u6838\u5fc3\u4ee3\u7801\uff0c\u4f7f\u5f97\u5b83\u53d8\u5f97\u5f88\u957f\u3002\u540e\u9762\u8981\u518d\u5220\u4e5f\u5f88\u9ebb\u70e6\uff0c\u4e07\u4e00\u624b\u6296\u5220\u9519\u4e86\u5c31\u5b8c\u4e86\u3002"}),"\n",(0,r.jsx)(e.li,{children:"\u6700\u540e\uff0c\u5728\u5927\u9879\u76ee\u5408\u4f5c\u4e2d\uff0c\u53ef\u80fd test \u4ee3\u7801\u662f A \u540c\u4e8b\u5199\u7684\uff0c\u8f93\u51fa\u65e5\u5fd7\u4ee3\u7801\u662f B \u540c\u4e8b\u5199\u7684\uff0c\u4ee3\u7801\u4fdd\u5bc6\uff0c\u6bcf\u4e2a\u7a0b\u5e8f\u5458\u53ea\u80fd\u62ff\u5230\u90e8\u5206\u7247\u6bb5\uff0c\u6240\u4ee5\u4f60\u6839\u672c\u4e0d\u77e5\u9053\u5bf9\u65b9\u7684\u4ee3\u7801\uff0c\u8981\u63d0\u4f9b\u4e00\u4e2a\u901a\u7528\u7684\u6253\u5370\u65e5\u5fd7\u7684\u65b9\u5f0f\u3002"}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:"\u601d\u8003\u4e0b\uff0c\u53ef\u4ee5\u600e\u4e48\u4fee\u6539\u80fd\u65e2\u4e0d\u4fee\u6539\u6e90\u4ee3\u7801\uff0c\u53c8\u5bf9\u4ee3\u7801\u7ed3\u6784\u5f71\u54cd\u6700\u5c0f\u5462\uff1f"}),"\n",(0,r.jsx)(e.p,{children:"\u6211\u8bf4\uff0c\u8fd9\u6837\u5b50\uff0c\u90a3\u6211\u53ef\u4ee5\u5199\u6210\u8fd9\u6837\uff1f"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:"import time\n\ndef a_decorator(func):\n    print('\u6d4b\u8bd5\u5f00\u59cb\uff1a\u73b0\u5728\u65f6\u95f4\u662f',time.time())\n    func()\n    print('\u6d4b\u8bd5\u7ed3\u675f\uff1a\u73b0\u5728\u65f6\u95f4\u662f',time.time())\n\ndef test1():\n    print('test1 ..')\n\ndef test2():\n    print('test2 ..')\n\na_decorator(test1)\na_decorator(test2)\n"})}),"\n",(0,r.jsx)(e.p,{children:"\u9886\u5bfc\u8bf4\uff1a\u6709\u8fdb\u6b65\uff0c\u4f46\u662f\u539f\u672c\u8c03\u7528 test1()\u7684\u8bed\u6cd5\u88ab\u4f60\u6539\u6210\u4e86 a_decorator(test1)\uff0c\u8fd9\u8981\u662f\u518d\u591a\u51e0\u4e2a\u529f\u80fd\u4e0d\u5f97\u628a\u6211\u7ed5\u6655\u4e86\u554a\u3002"}),"\n",(0,r.jsx)(e.p,{children:"\u770b\u6765\u51fd\u6570\u5d4c\u5957\u638c\u63e1\u7684\u4e0d\u719f\u554a\uff0c\u7ed9\u4f60\u70b9\u63d0\u793a\uff0c\u6211\u5e26\u4f60\u900f\u8fc7\u73b0\u8c61\u770b\u672c\u8d28"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u53d8\u91cf\u7684\u672c\u8d28\uff1a\u5c31\u662f\u53d8\u91cf\u6307\u5411\u7684\u5185\u5b58\u5730\u5740"}),"\n",(0,r.jsx)(e.li,{children:"\u51fd\u6570\u540d\u7684\u672c\u8d28\uff1a\u5c31\u662f\u51fd\u6570\u7684\u5185\u5b58\u5730\u5740"}),"\n",(0,r.jsx)(e.li,{children:"\u53d8\u91cf\u53ef\u4ee5\u4f5c\u4e3a\u51fd\u6570\u7684\u53c2\u6570\uff0c\u56e0\u6b64\u51fd\u6570\u540d\u53ef\u4ee5\u7528\u505a\u51fd\u6570\u7684\u53c2\u6570"}),"\n",(0,r.jsx)(e.li,{children:"\u53d8\u91cf\u53ef\u4ee5\u4f5c\u4e3a\u51fd\u6570\u7684\u8fd4\u56de\u503c\uff0c\u540c\u7406\uff0c\u51fd\u6570\u540d\u4e5f\u53ef\u4ee5\u4f5c\u4e3a\u51fd\u6570\u7684\u8fd4\u56de\u503c"}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:"\u6211\u8bf4\uff0c\u90a3\u5c31\u5199\u6210\u8fd9\u6837\uff1f"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:"import time\n\ndef a_decorator(func):\n    def wrap_the_func():\n        print('\u6d4b\u8bd5\u5f00\u59cb\uff1a\u73b0\u5728\u65f6\u95f4\u662f',time.time())\n        func()\n        print('\u6d4b\u8bd5\u7ed3\u675f\uff1a\u73b0\u5728\u65f6\u95f4\u662f',time.time())\n    return wrap_the_func\n\ndef test1():\n    print('test1 ..')\n\ndef test2():\n    print('test2 ..')\n\ntest1 = a_decorator(test1) #\u8fd9\u91cca_decorator(test1) \u4ee3\u6307wrap_the_func()\uff0c\u628a\u8fd9\u4e2awrap_the_func()\u51fd\u6570\u7684\u5730\u5740\u8d4b\u503c\u7ed9test1\uff0c\u7531\u4e8e\u4ee3\u7801\u4ece\u4e0a\u800c\u4e0b\u6267\u884c\uff0c\u4ece\u800c\u66ff\u6362\u6389\u539f\u672ctest1\u7684\u6307\u5411\u3002\ntest2 = a_decorator(test2)\n\ntest1()\ntest1()\n"})}),"\n",(0,r.jsx)(e.p,{children:"\u9886\u5bfc\u8bf4\uff1a\u8fd9\u5012\u6570 3\u30014 \u884c\u770b\u7740\u5f88\u788d\u773c\uff0c\u4e14\u4f1a\u5360\u636e\u547d\u540d\u7a7a\u95f4\uff0c\u4f60\u4e0d\u4f1a\u4fee\u9970\u7b26\u5417\uff1f\u6211\u6559\u4f60\u554a\u3002"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u6211\u4eec\u5148\u5b9a\u4e49\u4e00\u4e2a\u51fd\u6570\uff08\u540d\u5b57\u968f\u4fbf\u8d77\uff0c\u8fd9\u91cc\u53ea\u662f\u7528 a_decorator \u505a\u793a\u4f8b\uff09"}),"\n",(0,r.jsx)(e.li,{children:"\u7136\u540e\u7b80\u5355\u7684\u8bbe\u7f6e\u4e0b\u8fd9\u4e2a\u51fd\u6570\u8fd0\u884c\u903b\u8f91\uff0c"}),"\n",(0,r.jsx)(e.li,{children:"\u6700\u540e\u5728\u539f\u6709\u7684\u51fd\u6570\u7684\u5934\u4e0a\u52a0@\u51fd\u6570\u540d\u5c31\u884c\u5566"}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:"\u76f4\u63a5\u4f7f\u7528@\u51fd\u6570\u4fee\u9970\u7b26\u662f\u5f88\u65b9\u4fbf\u7684\uff0c\u4f60\u4e5f\u770b\u51fa\u6765\u6240\u8c13\u3010@\u51fd\u6570\u4fee\u9970\u7b26\u3011\u5176\u5b9e\u5c31\u662f\u3010\u51fd\u6570\u3011\u5d4c\u5165\u3002"}),"\n",(0,r.jsx)(e.p,{children:"\u8fd9\u91cc\u6211\u518d\u5047\u8bbe\u4f60\u7684\u51fd\u6570\u662f\u5e26\u53c2\u6570\u7684\u3002\u6211\u4e5f\u7528\u4fee\u9970\u7b26\u5199\u4e00\u4e0b\u5427\u3002\u597d\u597d\u770b\uff0c\u597d\u597d\u5b66\u3002"}),"\n",(0,r.jsx)(e.p,{children:"\u6838\u5fc3\u4ee3\u7801\uff08\u4e0b\u65b9\u7684 test \u51fd\u6570\uff09\u65e0\u9700\u77e5\u9053\u6211\uff08\u4e0b\u65b9\u7684 log \u51fd\u6570\uff09\u662f\u600e\u4e48\u5199\u7684\uff0c\u6211\u4e5f\u65e0\u9700\u77e5\u9053\u6838\u5fc3\u4ee3\u7801\u662f\u600e\u4e48\u5199\u7684\uff0c\u6211\u4eec\u5c31\u80fd\u5feb\u901f\u5b8c\u6210\u534f\u4f5c\u3002"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:"import time\n\n#args \u662f arguments \u7684\u7f29\u5199\uff0c\u8868\u793a\u4f4d\u7f6e\u53c2\u6570\uff1b\n#kwargs \u662f keyword arguments \u7684\u7f29\u5199\uff0c\u8868\u793a\u5173\u952e\u5b57\u53c2\u6570\u3002\n#\u8fd9\u5176\u5b9e\u5c31\u662f Python \u4e2d\u53ef\u53d8\u53c2\u6570\u7684\u4e24\u79cd\u5f62\u5f0f\uff0c\n#\u5e76\u4e14 *args \u5fc5\u987b\u653e\u5728 **kwargs \u7684\u524d\u9762\uff0c\u56e0\u4e3a\u4f4d\u7f6e\u53c2\u6570\u5728\u5173\u952e\u5b57\u53c2\u6570\u7684\u524d\u9762\u3002\n\ndef log(func):\n  def wrapper(*args,**kwargs):\n    print('\u6d4b\u8bd5\u5f00\u59cb\uff1a\u73b0\u5728\u65f6\u95f4\u662f',time.time())\n    ret = func(*args,**kwargs)\n    print('\u6d4b\u8bd5\u7ed3\u675f\uff1a\u73b0\u5728\u65f6\u95f4\u662f',time.time())\n    return ret\n  return wrapper\n\n@log\ndef test1(s):\n  print('test1 ..', s)\n  return s\n@log\ndef test2(s1, s2):\n  print('test2 ..', s1, s2)\n  return s1 + s2\n\ntest1(1)\ntest2(1,2)\n"})}),"\n",(0,r.jsx)(e.p,{children:"\u4e8e\u662f\u4f60\u56de\u60f3\u8d77\u4e4b\u524d Python \u4e5f\u63d0\u4f9b\u4e86\u4e00\u4e9b\u81ea\u5e26\u51fd\u6570\uff0c\u4f8b\u5982\uff1aprint()\u3001input()"}),"\n",(0,r.jsx)(e.p,{children:"\u90a3\u4f1a\u4e0d\u4f1a\u4e5f\u6709\u4e00\u4e9b\u81ea\u5e26\u7684\u3010@\u51fd\u6570\u4fee\u9970\u7b26\u3011\u5462\uff1f\u8fd8\u771f\u6709\uff0c\u5e38\u89c1\u7684\u5305\u62ec\uff1a@property\u3001@classmethod\u3001@staticmethod \u8fd8\u6709 typing \u91cc\u9762\u5404\u79cd\u7528\u4e8e\u6d4b\u8bd5\u7684\u51fd\u6570\u3002"}),"\n",(0,r.jsx)(e.p,{children:"\u9ed8\u8ba4\u7684self\u7ed3\u6784\uff0c\u53ef\u4ee5\u901a\u8fc7self\u8bbf\u95ee\u7c7b\u7684\u5c5e\u6027\u3001\u65b9\u6cd5\u3002\u4f46\u662f\u9700\u8981\u5148\u5b9e\u4f8b\u5316\u3002"}),"\n",(0,r.jsx)(e.p,{children:"@staticmethod (\u9759\u6001\u65b9\u6cd5)\u4e0d\u9700\u8981 self \u53c2\u6570\uff0c\u4e5f\u4e0d\u9700\u8981 cls \u53c2\u6570\u3002\u5b83\u4eec\u4e0e\u7c7b\u6216\u5b9e\u4f8b\u6ca1\u6709\u4efb\u4f55\u7ed1\u5b9a\uff0c\u53ea\u662f\u7c7b\u4e2d\u7684\u4e00\u4e2a\u666e\u901a\u51fd\u6570\u3002\u9759\u6001\u65b9\u6cd5\u901a\u5e38\u7528\u4e8e\u4e0e\u7c7b\u76f8\u5173\uff0c\u4f46\u4e0d\u4f9d\u8d56\u4e8e\u5b9e\u4f8b\u6216\u7c7b\u5c5e\u6027\u7684\u64cd\u4f5c\u3002\u8c03\u7528\u65f6\u4e0d\u9700\u8981\u5b9e\u4f8b\u5316\u7c7b\u3002"}),"\n",(0,r.jsx)(e.p,{children:"@classmethod (\u7c7b\u65b9\u6cd5)\u4f7f\u7528 cls \u4f5c\u4e3a\u7b2c\u4e00\u4e2a\u53c2\u6570\uff0c\u8868\u793a\u8c03\u7528\u8be5\u65b9\u6cd5\u7684\u7c7b\u672c\u8eab\uff0c\u800c\u4e0d\u662f\u5b9e\u4f8b\u3002\u5b83\u53ef\u4ee5\u8bbf\u95ee\u7c7b\u7ea7\u522b\u7684\u5c5e\u6027\u548c\u65b9\u6cd5\u3002\u8c03\u7528\u65f6\u53ef\u4ee5\u5b9e\u4f8b\u5316\u7c7b\uff0c\u4e5f\u53ef\u4ee5\u4e0d\u5b9e\u4f8b\u5316\u7c7b\u3002"}),"\n",(0,r.jsx)(e.p,{children:"\u4e0d\u8fc7\u8fd9\u4e9b\u7ed3\u6784\u76f8\u5bf9\u590d\u6742\uff0c\u5f53\u4f60\u7406\u89e3\u666e\u901a\u7684@\u4fee\u9970\u7b26\u4e4b\u540e\uff0c\u8fd9\u4e9b\u81ea\u5e26\u7684\u4f60\u53ea\u9700\u8981\u8bb0\u5f97\u7528\u6cd5\u5373\u53ef\uff0c\u539f\u7406\u90fd\u662f\u4e00\u6837\u7684\u3002"}),"\n",(0,r.jsx)(e.h4,{id:"\u4f8b\u5b50",children:"\u4f8b\u5b50"}),"\n",(0,r.jsx)(e.p,{children:"\u5b9a\u4e49\u4e24\u4e2a\u88c5\u9970\u5668\u51fd\u6570\uff0c\u4e00\u4e2a\u5c06\u539f\u6765\u7684\u51fd\u6570\u503c\u52a0\u4e00\uff0c\u53e6\u4e00\u4e2a\u4e58\u4e8c\uff1a"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:"def plus_one(f):\n    def new_func(x):\n        return f(x) + 1\n\n    return new_func\n"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:"def times_two(f):\n    def new_func(x):\n        return f(x) * 2\n\n    return new_func\n"})}),"\n",(0,r.jsx)(e.p,{children:"\u5b9a\u4e49\u51fd\u6570\uff0c\u5148\u4e58\u4e8c\u518d\u52a0\u4e00\uff1a"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:"@plus_one\n@times_two\ndef foo(x):\n    return int(x)\n"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:"b = foo(2)\nb  # 5\n"})}),"\n",(0,r.jsx)(e.h4,{id:"\u4fee\u9970\u5668\u5de5\u5382",children:"\u4fee\u9970\u5668\u5de5\u5382"}),"\n",(0,r.jsx)(e.p,{children:"decorators factories \u662f\u8fd4\u56de\u4fee\u9970\u5668\u7684\u51fd\u6570"}),"\n",(0,r.jsx)(e.p,{children:"\u5b83\u7684\u4f5c\u7528\u5728\u4e8e\u4ea7\u751f\u4e00\u4e2a\u53ef\u4ee5\u63a5\u53d7\u53c2\u6570\u7684\u4fee\u9970\u5668\uff0c"}),"\n",(0,r.jsx)(e.p,{children:"\u4f8b\u5982\u6211\u4eec\u60f3\u5c06 \u51fd\u6570 \u8f93\u51fa\u7684\u5185\u5bb9\u5199\u5165\u4e00\u4e2a\u6587\u4ef6\u53bb\uff0c\u53ef\u4ee5\u8fd9\u6837\u505a\uff1a"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:"def super_loud(filename):\n    fp = open(filename, 'w')\n\n    def loud(f):\n        def new_func(*args, **kw):\n            fp.write(str(args))\n            fp.writelines('\\n')\n            fp.write('calling with' + str(args) + str(kw))\n            # \u786e\u4fdd\u5185\u5bb9\u88ab\u5199\u5165\n            fp.flush()\n            fp.close()\n            rtn = f(*args, **kw)\n            return rtn\n\n        return new_func\n\n    return loud\n"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:"@super_loud('test.txt')\ndef foo(x):\n    print(x)\n\n\n# \u8c03\u7528 foo \u5c31\u4f1a\u5728\u6587\u4ef6\u4e2d\u5199\u5165\u5185\u5bb9\uff1a\nfoo(100)\n"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:"import os\nos.remove('test.txt')\n"})}),"\n",(0,r.jsx)(e.h4,{id:"classmethod-\u88c5\u9970\u5668",children:"@classmethod \u88c5\u9970\u5668"}),"\n",(0,r.jsx)(e.p,{children:"\u5728 Python \u6807\u51c6\u5e93\u4e2d\uff0c\u6709\u5f88\u591a\u81ea\u5e26\u7684\u88c5\u9970\u5668\uff0c"}),"\n",(0,r.jsx)(e.p,{children:"\u4f8b\u5982 classmethod \u5c06\u4e00\u4e2a\u5bf9\u8c61\u65b9\u6cd5\u8f6c\u6362\u4e86\u7c7b\u65b9\u6cd5\uff1a"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:"class Foo(object):\n    @classmethod\n    def bar(cls, x):\n        print('the input is', x)\n\n    def __init__(self):\n        pass\n"})}),"\n",(0,r.jsx)(e.p,{children:"\u7c7b\u65b9\u6cd5\u53ef\u4ee5\u901a\u8fc7 \u7c7b\u540d.\u65b9\u6cd5 \u6765\u8c03\u7528\uff1a"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:"Foo.bar(10)\n"})}),"\n",(0,r.jsx)(e.h4,{id:"property-\u88c5\u9970\u5668",children:"@property \u88c5\u9970\u5668"}),"\n",(0,r.jsx)(e.p,{children:"\u6709\u65f6\u5019\uff0c\u6211\u4eec\u5e0c\u671b\u50cf Java \u4e00\u6837\u652f\u6301 getters \u548c setters \u7684\u65b9\u6cd5\uff0c"}),"\n",(0,r.jsx)(e.p,{children:"\u8fd9\u65f6\u5019\u5c31\u53ef\u4ee5\u4f7f\u7528 property \u88c5\u9970\u5668\uff1a"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:"class Foo(object):\n    def __init__(self, data):\n        self.data = data\n\n    @property\n    def x(self):\n        return self.data\n\n"})}),"\n",(0,r.jsx)(e.p,{children:"\u6b64\u65f6\u53ef\u4ee5\u4f7f\u7528 .x \u8fd9\u4e2a\u5c5e\u6027\u67e5\u770b\u6570\u636e\uff08\u4e0d\u9700\u8981\u52a0\u4e0a\u62ec\u53f7\uff09\uff1a"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:"foo = Foo(22)\nprint(foo.x)\n"})}),"\n",(0,r.jsx)(e.p,{children:"\u8fd9\u6837\u505a\u7684\u597d\u5904\u5728\u4e8e\uff0c\u8fd9\u4e2a\u5c5e\u6027\u662f\u53ea\u8bfb\u7684\uff1a"}),"\n",(0,r.jsx)(e.p,{children:"foo.x = 1 \u4f1a\u62a5\u9519"}),"\n",(0,r.jsx)(e.p,{children:"\u5982\u679c\u60f3\u8ba9\u5b83\u53d8\u6210\u53ef\u8bfb\u5199\uff0c\u53ef\u4ee5\u52a0\u4e0a\u4e00\u4e2a\u88c5\u9970\u7b26 @x.setter\uff1a"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:"class Foo(object):\n    def __init__(self, data):\n        self.data = data\n\n    @property\n    def x(self):\n        return self.data\n\n    @x.setter\n    def x(self, value):\n        self.data = value\n"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:"foo = Foo(1000)\nfoo.x\n"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:"foo.x = 2222\nfoo.x\n"})}),"\n",(0,r.jsx)(e.h4,{id:"\u5e94\u7528\u5b9a\u65f6\u5668",children:"\u5e94\u7528\uff1a\u5b9a\u65f6\u5668"}),"\n",(0,r.jsx)(e.p,{children:"\u8981\u6c42\uff1a\u5199\u4e00\u4e2a\u5b9a\u65f6\u5668\u529f\u80fd\uff0c\u8981\u6c42\u76d1\u63a7\u4e00\u4e2a\u6267\u884c\u7a0b\u5e8f\uff0c\u8d85\u65f6\u5219\u62a5\u8b66\u3002"}),"\n",(0,r.jsx)(e.p,{children:"\u5982\u4f55\u5b8c\u6210\uff1f"}),"\n",(0,r.jsx)(e.p,{children:"\u4e0b\u65b9\u4ee3\u7801\u5728 mac \u4e0b\u53ef\u7528"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:'\nimport signal\nimport time\n\n\ndef set_timeout(num, callback):\n    def wrap(func):\n        def handle(signum, frame):  # \u6536\u5230\u4fe1\u53f7 SIGALRM \u540e\u7684\u56de\u8c03\u51fd\u6570\uff0c\u53c2\u65701\u662f\u4fe1\u53f7\u7684\u6570\u5b57\uff0c\u53c2\u65702\u662fthe interrupted stack frame.\n            raise RuntimeError\n\n        def to_do(*args, **kwargs):\n            try:\n                signal.signal(signal.SIGALRM, handle)  # \u8bbe\u7f6e\u4fe1\u53f7\u548c\u56de\u8c03\u51fd\u6570\n                signal.alarm(num)  # \u8bbe\u7f6e num \u79d2\u7684\u95f9\u949f\n                print(\'start alarm signal.\')\n                r = func(*args, **kwargs)\n                print(\'close alarm signal.\')\n                signal.alarm(0)  # \u5173\u95ed\u95f9\u949f\n                return r\n            except RuntimeError as e:\n                callback()\n\n        return to_do\n\n    return wrap\n\n\ndef after_timeout():  # \u8d85\u65f6\u540e\u7684\u5904\u7406\u51fd\u6570\n    print("do something after timeout.")\n    raise RuntimeError\n\n\n@set_timeout(2, after_timeout)  # \u9650\u65f6 2 \u79d2\u8d85\u65f6\ndef connect():  # \u8981\u6267\u884c\u7684\u51fd\u6570\n    time.sleep(2.4)  # \u51fd\u6570\u6267\u884c\u65f6\u95f4\uff0c\u5199\u5927\u4e8e2\u7684\u503c\uff0c\u53ef\u6d4b\u8bd5\u8d85\u65f6\n    return "\u5b8c\u6210"\n\nclass Demo:\n    @set_timeout(2, after_timeout)\n    def conn(self):\n        time.sleep(3)\n        return "ok"\n'})}),"\n",(0,r.jsx)(e.p,{children:"\u8bd5\u4e00\u4e0b\uff1a"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:"try:\n    a = connect()\n    print(a)\nexcept Exception as e:\n    a = 'err'\n    print(a)\n\n"})}),"\n",(0,r.jsx)(e.p,{children:"\u5982\u679c\u4e0d\u8d85\u65f6\uff1a"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:"b = Demo()\ntry:\n    c = b.conn()\n    print(c)\nexcept RuntimeError as e:\n    print('run time err.')\n\nclass Demo:\n    @set_timeout(2, after_timeout)\n    def conn(self):\n        time.sleep(1)\n        return \"ok\"\n\nb = Demo()\ntry:\n    c = b.conn()\n    print(c)\nexcept RuntimeError as e:\n    print('run time err.')\n"})}),"\n",(0,r.jsx)(e.h3,{id:"\u8fed\u4ee3\u5668",children:"\u8fed\u4ee3\u5668"}),"\n",(0,r.jsx)(e.p,{children:"\u8fed\u4ee3\u662f Python \u6700\u5f3a\u5927\u7684\u529f\u80fd\u4e4b\u4e00\uff0c\u662f\u8bbf\u95ee\u96c6\u5408\u5143\u7d20\u7684\u4e00\u79cd\u65b9\u5f0f\u3002"}),"\n",(0,r.jsx)(e.p,{children:"\u8fed\u4ee3\u5668\u662f\u4e00\u4e2a\u53ef\u4ee5\u8bb0\u4f4f\u904d\u5386\u7684\u4f4d\u7f6e\u7684\u5bf9\u8c61\u3002"}),"\n",(0,r.jsx)(e.p,{children:"\u8fed\u4ee3\u5668\u5bf9\u8c61\u4ece\u96c6\u5408\u7684\u7b2c\u4e00\u4e2a\u5143\u7d20\u5f00\u59cb\u8bbf\u95ee\uff0c\u76f4\u5230\u6240\u6709\u7684\u5143\u7d20\u88ab\u8bbf\u95ee\u5b8c\u7ed3\u675f\u3002\u8fed\u4ee3\u5668\u53ea\u80fd\u5f80\u524d\u4e0d\u4f1a\u540e\u9000\u3002"}),"\n",(0,r.jsx)(e.p,{children:"\u8fed\u4ee3\u5668\u6709\u4e24\u4e2a\u57fa\u672c\u7684\u65b9\u6cd5\uff1aiter() \u548c next()\u3002"}),"\n",(0,r.jsx)(e.p,{children:"\u5b57\u7b26\u4e32\uff0c\u5217\u8868\u6216\u5143\u7ec4\u5bf9\u8c61\u90fd\u53ef\u7528\u4e8e\u521b\u5efa\u8fed\u4ee3\u5668\uff1a"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:"list=[1,2,3,4]\nit = iter(list)    # \u521b\u5efa\u8fed\u4ee3\u5668\u5bf9\u8c61\n"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:"next(it) # \u8f93\u51fa\u8fed\u4ee3\u5668\u7684\u4e0b\u4e00\u4e2a\u5143\u7d20\n"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:"next(it) # \u518d\u8f93\u51fa\u4e0b\u4e00\u4e2a\u5143\u7d20\n"})}),"\n",(0,r.jsx)(e.h4,{id:"enumerate",children:"enumerate"}),"\n",(0,r.jsx)(e.p,{children:"\u5217\u8868\u597d\u5904\u662f\u4e0d\u9700\u8981\u5bf9\u4e0b\u6807\u8fdb\u884c\u8fed\u4ee3\uff0c\u76f4\u63a5\u8f93\u51fa\u5217\u8868\u7684\u503c\uff1a"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:"x = [2, 4, 6]\n\nfor i in x:\n    print(i)\n"})}),"\n",(0,r.jsx)(e.p,{children:"\u4f46\u662f\u6709\u4e9b\u60c5\u51b5\u4e0b\uff0c\u6211\u4eec\u65e2\u5e0c\u671b\u83b7\u5f97\u4e0b\u6807\uff0c\n\u4e5f\u5e0c\u671b\u83b7\u5f97\u5bf9\u5e94\u7684\u503c\uff0c\u90a3\u4e48\uff1a"}),"\n",(0,r.jsx)(e.p,{children:"\u53ef\u4ee5\u5c06\u8fed\u4ee3\u5668\u4f20\u7ed9 enumerate \u51fd\u6570\uff0c\n\u8fd9\u6837\u6bcf\u6b21\u8fed\u4ee3\u90fd\u4f1a\u8fd4\u56de\u4e00\u7ec4 (index, value) \u7ec4\u6210\u7684\u5143\u7ec4\uff1a"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:"x = [2, 4, 6]\nfor i, n in enumerate(x):\n    print(i, 'is', n)\n"})}),"\n",(0,r.jsx)(e.h4,{id:"\u81ea\u5b9a\u4e49\u8fed\u4ee3\u5668",children:"\u81ea\u5b9a\u4e49\u8fed\u4ee3\u5668"}),"\n",(0,r.jsxs)(e.p,{children:["\u4e00\u4e2a\u8fed\u4ee3\u5668\u90fd\u6709 ",(0,r.jsx)(e.code,{children:"__iter__()"})," \u4e0e ",(0,r.jsx)(e.code,{children:"__next__()"})]}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.code,{children:"__iter__()"})," \u65b9\u6cd5\u8fd4\u56de\u4e00\u4e2a\u7279\u6b8a\u7684\u8fed\u4ee3\u5668\u5bf9\u8c61\uff0c \u8fd9\u4e2a\u8fed\u4ee3\u5668\u5bf9\u8c61\u5b9e\u73b0\u4e86 ",(0,r.jsx)(e.code,{children:"__next__()"})," \u65b9\u6cd5\u5e76\u901a\u8fc7 StopIteration \u5f02\u5e38\u6807\u8bc6\u8fed\u4ee3\u7684\u5b8c\u6210\u3002"]}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.code,{children:"__next__()"})," \u65b9\u6cd5\uff08Python 2 \u91cc\u662f next()\uff09\u4f1a\u8fd4\u56de\u4e0b\u4e00\u4e2a\u8fed\u4ee3\u5668\u5bf9\u8c61\u3002"]}),"\n",(0,r.jsx)(e.p,{children:"\u81ea\u5b9a\u4e49\u4e00\u4e2a list \u7684\u53d6\u53cd\u8fed\u4ee3\u5668\uff1a"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:"class ReverseListIterator(object):\n    def __init__(self, lst):\n        self.list = lst\n        self.index = len(lst)\n\n    def __iter__(self):\n        return self\n\n    def __next__(self):\n        self.index -= 1\n        if self.index >= 0:\n            return self.list[self.index]\n        else:\n            raise StopIteration\n"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:"x = range(10)\nfor i in ReverseListIterator(x):\n    print(i)\n"})}),"\n",(0,r.jsxs)(e.p,{children:["\u53ea\u8981\u6211\u4eec\u5b9a\u4e49\u4e86\u8fd9\u4e09\u4e2a\u65b9\u6cd5(",(0,r.jsx)(e.code,{children:"__init__, __iter__, __next__"}),")\uff0c\u6211\u4eec\u53ef\u4ee5\u8fd4\u56de\u4efb\u610f\u8fed\u4ee3\u503c\uff1a"]}),"\n",(0,r.jsx)(e.h4,{id:"\u5b9e\u73b0-collatz-\u731c\u60f3",children:"\u5b9e\u73b0 Collatz \u731c\u60f3"}),"\n",(0,r.jsx)(e.p,{children:"\u8fd9\u91cc\u6211\u4eec\u5b9e\u73b0 Collatz \u731c\u60f3\uff1a"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u5947\u6570 n\uff1a\u8fd4\u56de 3n + 1"}),"\n",(0,r.jsx)(e.li,{children:"\u5076\u6570 n\uff1a\u8fd4\u56de n / 2"}),"\n",(0,r.jsx)(e.li,{children:"\u76f4\u5230 n \u4e3a 1 \u4e3a\u6b62\uff1a"}),"\n"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:"class Collatz(object):\n    def __init__(self, start):\n        self.value = start\n\n    def __iter__(self):\n        return self\n\n    def __next__(self):\n        if self.value == 1:\n            raise StopIteration\n        elif self.value % 2 == 0:\n            self.value = self.value / 2\n        else:\n            self.value = 3 * self.value + 1\n        return self.value\n\n\nfor x in Collatz(5):\n    print(x)\n\n"})}),"\n",(0,r.jsxs)(e.p,{children:["\u4e0d\u8fc7\u8fed\u4ee3\u5668\u5bf9\u8c61\u5b58\u5728\u72b6\u6001\uff0c",(0,r.jsx)(e.strong,{children:"\u6709\u95ee\u9898"}),"\uff1a"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:"i = Collatz(5)\n# zip() \u51fd\u6570\u7528\u4e8e\u5c06\u53ef\u8fed\u4ee3\u7684\u5bf9\u8c61\u4f5c\u4e3a\u53c2\u6570\uff0c\u5c06\u5bf9\u8c61\u4e2d\u5bf9\u5e94\u7684\u5143\u7d20\u6253\u5305\u6210\u4e00\u4e2a\u4e2a\u5143\u7ec4\uff0c\u7136\u540e\u8fd4\u56de\u7531\u8fd9\u4e9b\u5143\u7ec4\u7ec4\u6210\u7684\u8fed\u4ee3\u5668\u3002\nfor x, y in zip(i, i):\n    print(x, y)\n\n# \u4e0b\u65b9\u4ee3\u7801\u7b49\u4ef7\u4e8e\u4e0a\u65b9\u4ee3\u7801\ni = Collatz(5)\n# *zipped \u53ef\u7406\u89e3\u4e3a\u89e3\u538b\uff0c\u8fd4\u56de\u4e8c\u7ef4\u77e9\u9635\u5f0f\nzipped = zip(i, i)\n#<zip object at 0x00000200CFC1F400> #\u8fd4\u56de\u7684\u662f\u4e00\u4e2a\u5bf9\u8c61\nx, y = zip(*zipped)\nprint(x, y)\n"})}),"\n",(0,r.jsx)(e.p,{children:"\u89e3\u51b3\u65b9\u6cd5\u662f\u5c06\u8fed\u4ee3\u5668\u548c\u53ef\u8fed\u4ee3\u5bf9\u8c61\u5206\u5f00\u5904\u7406\u3002"}),"\n",(0,r.jsx)(e.h4,{id:"\u8fed\u4ee3\u5668\u548c\u53ef\u8fed\u4ee3\u5bf9\u8c61\u5206\u5f00\u5904\u7406",children:"\u8fed\u4ee3\u5668\u548c\u53ef\u8fed\u4ee3\u5bf9\u8c61\u5206\u5f00\u5904\u7406"}),"\n",(0,r.jsx)(e.p,{children:"\u8fd9\u91cc\u63d0\u4f9b\u4e86\u4e00\u4e2a\u4e8c\u5206\u6811\u7684\u4e2d\u5e8f\u904d\u5386\u5b9e\u73b0\uff1a"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:"class BinaryTree(object):\n    def __init__(self, value, left=None, right=None):\n        self.value = value\n        self.left = left\n        self.right = right\n\n    def __iter__(self):\n        return InorderIterator(self)\n\nclass InorderIterator(object):\n    def __init__(self, node):\n        self.node = node\n        self.stack = []\n\n    def __next__(self):\n        if len(self.stack) > 0 or self.node is not None:\n            while self.node is not None:\n                self.stack.append(self.node)\n                self.node = self.node.left\n            node = self.stack.pop()\n            self.node = node.right\n            return node.value\n        else:\n            raise StopIteration()\n"})}),"\n",(0,r.jsx)(e.p,{children:"\u6d4b\u8bd5\uff1a"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:"tree = BinaryTree(\n    left=BinaryTree(\n        left=BinaryTree(1),\n        value=2,\n        right=BinaryTree(\n            left=BinaryTree(3),\n            value=4,\n            right=BinaryTree(5)\n        ),\n    ),\n    value=6,\n    right=BinaryTree(\n        value=7,\n        right=BinaryTree(8)\n    )\n)\n"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:"for value in tree:\n    print(value)\n"})}),"\n",(0,r.jsx)(e.p,{children:"\u4e0d\u4f1a\u51fa\u73b0\u4e4b\u524d\u7684\u95ee\u9898\uff1a"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:"\nfor x, y in zip(tree, tree):\n    print(x, y)\n\n"})}),"\n",(0,r.jsx)(e.h3,{id:"\u751f\u6210\u5668",children:"\u751f\u6210\u5668"}),"\n",(0,r.jsx)(e.p,{children:"\u5728 Python \u4e2d\uff0c\u4f7f\u7528\u4e86 yield \u7684\u51fd\u6570\u88ab\u79f0\u4e3a\u751f\u6210\u5668\uff08generator\uff09\u3002"}),"\n",(0,r.jsx)(e.p,{children:"\u8ddf\u666e\u901a\u51fd\u6570\u4e0d\u540c\u7684\u662f\uff0c\u751f\u6210\u5668\u662f\u4e00\u4e2a\u8fd4\u56de\u8fed\u4ee3\u5668\u7684\u51fd\u6570\uff0c\u53ea\u80fd\u7528\u4e8e\u8fed\u4ee3\u64cd\u4f5c\uff0c\u66f4\u7b80\u5355\u70b9\u7406\u89e3\u751f\u6210\u5668\u5c31\u662f\u4e00\u4e2a\u8fed\u4ee3\u5668\u3002"}),"\n",(0,r.jsxs)(e.ol,{children:["\n",(0,r.jsx)(e.li,{children:"\u8fed\u4ee3\u5668\u5219\u901a\u8fc7 next \u7684 return \u5c06\u503c\u8fd4\u56de\uff1b"}),"\n",(0,r.jsx)(e.li,{children:"\u4e0e\u8fed\u4ee3\u5668\u4e0d\u540c\u7684\u662f\uff0c\u751f\u6210\u5668\u4f1a\u81ea\u52a8\u8bb0\u5f55\u5f53\u524d\u7684\u72b6\u6001\uff0c\n\u800c\u8fed\u4ee3\u5668\u5219\u9700\u8981\u8fdb\u884c\u989d\u5916\u7684\u64cd\u4f5c\u6765\u8bb0\u5f55\u5f53\u524d\u7684\u72b6\u6001\u3002"}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:"\u4e4b\u524d\u7684 collatz \u731c\u60f3\uff0c\u7b80\u5355\u5faa\u73af\u7684\u5b9e\u73b0\u5982\u4e0b\uff1a"}),"\n",(0,r.jsx)(e.p,{children:"collatz:"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u5947\u6570 n\uff1a\u8fd4\u56de 3n + 1"}),"\n",(0,r.jsx)(e.li,{children:"\u5076\u6570 n\uff1a\u8fd4\u56de n / 2"}),"\n",(0,r.jsx)(e.li,{children:"\u76f4\u5230 n \u4e3a 1 \u4e3a\u6b62\uff1a"}),"\n"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:"def collatz(n):\n    sequence = []\n    while n != 1:\n        if n % 2 == 0:\n            n /= 2\n        else:\n            n = 3 * n + 1\n        sequence.append(n)\n    return sequence\n\n\nfor x in collatz(5):\n    print(x)\n"})}),"\n",(0,r.jsx)(e.p,{children:"\u751f\u6210\u5668\u7684\u7248\u672c\u5982\u4e0b\uff1a"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:"def collatz(n):\n    while n != 1:\n        if n % 2 == 0:\n            n /= 2\n        else:\n            n = 3 * n + 1\n        yield n\n\n\nfor x in collatz(5):\n    print(x)\n"})}),"\n",(0,r.jsx)(e.p,{children:"\u8fed\u4ee3\u5668\u7684\u7248\u672c\u5982\u4e0b\uff1a"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:"class Collatz(object):\n    def __init__(self, start):\n        self.value = start\n\n    def __iter__(self):\n        return self\n\n    def next(self):\n        if self.value == 1:\n            raise StopIteration\n        elif self.value % 2 == 0:\n            self.value = self.value / 2\n        else:\n            self.value = 3 * self.value + 1\n        return self.value\n\nfor x in collatz(5):\n    print(x)\n"})}),"\n",(0,r.jsx)(e.p,{children:"\u4e8b\u5b9e\u4e0a\uff0c\u751f\u6210\u5668\u4e5f\u662f\u4e00\u79cd\u8fed\u4ee3\u5668\uff1a"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:"x = collatz(5)\nx\n"})}),"\n",(0,r.jsx)(e.p,{children:"\u5b83\u652f\u6301 next \u65b9\u6cd5\uff0c\u8fd4\u56de\u4e0b\u4e00\u4e2a yield \u7684\u503c\uff1a"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:"next(x)\n"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:"next(x)\n"})}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.code,{children:"__iter__"})," \u65b9\u6cd5\u8fd4\u56de\u7684\u662f\u5b83\u672c\u8eab\uff1a"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:"x.__iter__()\n"})}),"\n",(0,r.jsx)(e.h4,{id:"return-\u548c-yield-\u6709\u4ec0\u4e48\u533a\u522b",children:"return \u548c yield \u6709\u4ec0\u4e48\u533a\u522b\uff1f"}),"\n",(0,r.jsx)(e.p,{children:"yield \u662f\u6682\u505c\u7684\u610f\u601d(\u5b83\u6709\u7a0b\u5e8f\u4e2d\u8d77\u7740\u7c7b\u4f3c\u7ea2\u7eff\u706f\u4e2d\u7b49\u7ea2\u706f\u7684\u4f5c\u7528)\uff1byield \u662f\u521b\u5efa\u8fed\u4ee3\u5668\uff0c\u53ef\u4ee5\u7528 for \u6765\u904d\u5386\uff0c\u6709\u70b9\u4e8b\u4ef6\u89e6\u53d1\u7684\u610f\u601d"}),"\n",(0,r.jsx)(e.p,{children:"return \u5728\u65b9\u6cd5\u4e2d\u76f4\u63a5\u8fd4\u56de\u503c\uff1b\u662f\u51fd\u6570\u8fd4\u56de\u503c\uff0c\u5f53\u6267\u884c\u5230 return\uff0c\u540e\u7eed\u7684\u903b\u8f91\u4ee3\u7801\u4e0d\u5728\u6267\u884c"}),"\n",(0,r.jsx)(e.p,{children:"\u76f8\u540c\u70b9\uff1a \u90fd\u662f\u5b9a\u4e49\u51fd\u6570\u8fc7\u7a0b\u4e2d\u8fd4\u56de\u503c"}),"\n",(0,r.jsx)(e.p,{children:"\u4e0d\u540c\u70b9\uff1ayield \u662f\u6682\u505c\u51fd\u6570\uff0creturn \u662f\u7ed3\u675f\u51fd\u6570\uff1b \u5373 yield \u8fd4\u56de\u503c\u540e\u7ee7\u7eed\u6267\u884c\u51fd\u6570\u4f53\u5185\u4ee3\u7801\uff0creturn \u8fd4\u56de\u503c\u540e\u4e0d\u518d\u6267\u884c\u51fd\u6570\u4f53\u5185\u4ee3\u7801\u3002"}),"\n",(0,r.jsx)(e.p,{children:"yield \u8fd4\u56de\u7684\u662f\u4e00\u4e2a\u8fed\u4ee3\u5668\uff08yield \u672c\u8eab\u662f\u751f\u6210\u5668-\u751f\u6210\u5668\u662f\u7528\u6765\u751f\u6210\u8fed\u4ee3\u5668\u7684\uff09\uff1breturn \u8fd4\u56de\u7684\u662f\u6b63\u5e38\u53ef\u8fed\u4ee3\u5bf9\u8c61\uff08list,set,dict \u7b49\u5177\u6709\u5b9e\u9645\u5185\u5b58\u5730\u5740\u7684\u5b58\u50a8\u5bf9\u8c61\uff09"}),"\n",(0,r.jsx)(e.p,{children:"\u5982\u679c\u8981\u8fd4\u56de\u7684\u6570\u636e\u662f\u901a\u8fc7 for \u7b49\u5faa\u73af\u751f\u6210\u7684\u8fed\u4ee3\u5668\u7c7b\u578b\u6570\u636e\uff08\u5982\u5217\u8868\u3001\u5143\u7ec4\uff09\uff0creturn \u53ea\u80fd\u5728\u5faa\u73af\u5916\u90e8\u4e00\u6b21\u6027\u5730\u8fd4\u56de\uff0cyeild \u5219\u53ef\u4ee5\u5728\u5faa\u73af\u5185\u90e8\u9010\u4e2a\u5143\u7d20\u8fd4\u56de\u3002"}),"\n",(0,r.jsx)(e.p,{children:"yiled from \u8fd8\u53ef\u4ee5\u4f7f\u4e00\u4e2a\u751f\u6210\u5668\u53ef\u4ee5\u59d4\u6d3e\u5b50\u751f\u6210\u5668\uff0c\u5efa\u7acb\u53cc\u5411\u901a\u9053"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:"\ndef g1(x):\n   yield range(x, 0, -1)\n   yield range(x)\nprint(list(g1(5)))\n#[range(5, 0, -1), range(0, 5)]\n\ndef g2(x):\n   yield from range(x, 0, -1)\n   yield from range(x)\nprint(list(g2(5)))\n#[5, 4, 3, 2, 1, 0, 1, 2, 3, 4]\n"})}),"\n",(0,r.jsx)(e.h5,{id:"\u8fed\u4ee3\u5668\u548c\u751f\u6210\u5668\u6709\u4ec0\u4e48\u533a\u522b",children:"\u8fed\u4ee3\u5668\u548c\u751f\u6210\u5668\u6709\u4ec0\u4e48\u533a\u522b\uff1f"}),"\n",(0,r.jsx)(e.p,{children:"\u5728 Python \u4e2d\uff0c\u4f7f\u7528\u4e86 yield \u7684\u51fd\u6570\u88ab\u79f0\u4e3a\u751f\u6210\u5668\uff08generator\uff09\u3002\u8ddf\u666e\u901a\u51fd\u6570\u4e0d\u540c\u7684\u662f\uff0c\u751f\u6210\u5668\u662f\u4e00\u4e2a\u8fd4\u56de\u8fed\u4ee3\u5668\u7684\u51fd\u6570\uff0c\u53ea\u80fd\u7528\u4e8e\u8fed\u4ee3\u64cd\u4f5c\uff0c\u66f4\u7b80\u5355\u70b9\u7406\u89e3\u751f\u6210\u5668\u5c31\u662f\u4e00\u4e2a\u8fed\u4ee3\u5668\u3002\u5728\u8c03\u7528\u751f\u6210\u5668\u8fd0\u884c\u7684\u8fc7\u7a0b\u4e2d\uff0c\u6bcf\u6b21\u9047\u5230 yield \u65f6\u51fd\u6570\u4f1a\u6682\u505c\u5e76\u4fdd\u5b58\u5f53\u524d\u6240\u6709\u7684\u8fd0\u884c\u4fe1\u606f\uff0c\u8fd4\u56de yield \u7684\u503c, \u5e76\u5728\u4e0b\u4e00\u6b21\u6267\u884c next() \u65b9\u6cd5\u65f6\u4ece\u5f53\u524d\u4f4d\u7f6e\u7ee7\u7eed\u8fd0\u884c\u3002"}),"\n",(0,r.jsx)(e.p,{children:"\u8c03\u7528\u4e00\u4e2a\u751f\u6210\u5668\u51fd\u6570\uff0c\u8fd4\u56de\u7684\u662f\u4e00\u4e2a\u8fed\u4ee3\u5668\u5bf9\u8c61\uff1a\u8fed\u4ee3\u662f Python \u6700\u5f3a\u5927\u7684\u529f\u80fd\u4e4b\u4e00\uff0c\u662f\u8bbf\u95ee\u96c6\u5408\u5143\u7d20\u7684\u4e00\u79cd\u65b9\u5f0f\u3002\u8fed\u4ee3\u5668\u662f\u4e00\u4e2a\u53ef\u4ee5\u8bb0\u4f4f\u904d\u5386\u7684\u4f4d\u7f6e\u7684\u5bf9\u8c61\u3002\u8fed\u4ee3\u5668\u5bf9\u8c61\u4ece\u96c6\u5408\u7684\u7b2c\u4e00\u4e2a\u5143\u7d20\u5f00\u59cb\u8bbf\u95ee\uff0c\u76f4\u5230\u6240\u6709\u7684\u5143\u7d20\u88ab\u8bbf\u95ee\u5b8c\u7ed3\u675f\u3002\u8fed\u4ee3\u5668\u53ea\u80fd\u5f80\u524d\u4e0d\u4f1a\u540e\u9000\u3002\u8fed\u4ee3\u5668\u6709\u4e24\u4e2a\u57fa\u672c\u7684\u65b9\u6cd5\uff1aiter() \u548c next()"}),"\n",(0,r.jsxs)(e.h5,{id:"new\u548c-init\u7684\u533a\u522b",children:[(0,r.jsx)(e.strong,{children:"new"}),"\u548c ",(0,r.jsx)(e.strong,{children:"init"}),"\u7684\u533a\u522b\uff1f"]}),"\n",(0,r.jsxs)(e.p,{children:["\u6267\u884c\u987a\u5e8f\u7684\u4e0d\u540c\uff1a\u53ea\u6709\u5728",(0,r.jsx)(e.strong,{children:"new"}),"\u8fd4\u56de\u4e00\u4e2a cls \u7684\u5b9e\u4f8b\u65f6\u540e\u9762\u7684",(0,r.jsx)(e.strong,{children:"init"}),"\u624d\u80fd\u88ab\u8c03\u7528"]}),"\n",(0,r.jsxs)(e.p,{children:["\u529f\u80fd\u4e0a\u7684\u4e0d\u540c\uff1a\u5f53\u521b\u5efa\u4e00\u4e2a\u65b0\u5b9e\u4f8b\u65f6\u8c03\u7528",(0,r.jsx)(e.strong,{children:"new"}),",\u521d\u59cb\u5316\u4e00\u4e2a\u5b9e\u4f8b\u65f6\u7528",(0,r.jsx)(e.strong,{children:"init"})]}),"\n",(0,r.jsxs)(e.p,{children:["\u8fd4\u56de\u503c\u7684\u4e0d\u540c\uff1a",(0,r.jsx)(e.strong,{children:"new"}),"\u65b9\u6cd5\u4f1a\u8fd4\u56de\u4e00\u4e2a\u521b\u5efa\u7684\u5b9e\u4f8b,\u800c",(0,r.jsx)(e.strong,{children:"init"}),"\u4ec0\u4e48\u90fd\u4e0d\u8fd4\u56de"]}),"\n",(0,r.jsx)(e.h4,{id:"\u95ed\u5305",children:"\u95ed\u5305"}),"\n",(0,r.jsx)(e.p,{children:"\u95ed\u5305\u53ef\u4ee5\u7528\u5728\u8bb8\u591a\u5730\u65b9\u3002\u5b83\u7684\u6700\u5927\u7528\u5904\u6709\u4e24\u4e2a\uff1a"}),"\n",(0,r.jsx)(e.p,{children:"1.\u53ef\u4ee5\u8bfb\u53d6\u51fd\u6570\u5185\u90e8\u7684\u53d8\u91cf 2.\u8ba9\u8fd9\u4e9b\u53d8\u91cf\u7684\u503c\u59cb\u7ec8\u4fdd\u5b58\u5728\u5185\u5b58\u4e2d 3.\u5355\u5411\u8bbf\u95ee\uff0c\u51fd\u6570\u5185\u53ef\u4ee5\u8bbf\u95ee\uff0c\u4f46\u662f\u5168\u5c40\u4e0d\u80fd\u8bbf\u95ee"}),"\n",(0,r.jsx)(e.h4,{id:"\u95ed\u5305\u539f\u7406\u547d\u540d\u7a7a\u95f4\u4e0e\u4f5c\u7528\u57df",children:"\u95ed\u5305\u539f\u7406\uff08\u547d\u540d\u7a7a\u95f4\u4e0e\u4f5c\u7528\u57df\uff09"}),"\n",(0,r.jsx)(e.h5,{id:"\u547d\u540d\u7a7a\u95f4",children:"\u547d\u540d\u7a7a\u95f4"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u5168\u5c40\u547d\u540d\u7a7a\u95f4\uff1a\u521b\u5efa\u7684\u5b58\u50a8\u201c\u53d8\u91cf\u540d\u4e0e\u503c\u7684\u5173\u7cfb\u201d\u7684\u7a7a\u95f4\u53eb\u505a\u5168\u5c40\u547d\u540d\u7a7a\u95f4"}),"\n",(0,r.jsx)(e.li,{children:"\u5c40\u90e8\u547d\u540d\u7a7a\u95f4\uff1a\u5728\u51fd\u6570\u7684\u8fd0\u884c\u4e2d\u5f00\u8f9f\u7684\u4e34\u65f6\u7684\u7a7a\u95f4\u53eb\u505a\u5c40\u90e8\u547d\u540d\u7a7a\u95f4"}),"\n",(0,r.jsx)(e.li,{children:"\u5185\u7f6e\u547d\u540d\u7a7a\u95f4\uff1a\u5185\u7f6e\u547d\u540d\u7a7a\u95f4\u4e2d\u5b58\u653e\u4e86 python \u89e3\u91ca\u5668\u4e3a\u6211\u4eec\u63d0\u4f9b\u7684\u540d\u5b57\uff1ainput,print,str,list,tuple...\u5b83\u4eec\u90fd\u662f\u6211\u4eec\u719f\u6089\u7684\uff0c\u62ff\u8fc7\u6765\u5c31\u53ef\u4ee5\u7528\u7684\u65b9\u6cd5\u3002"}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:"\u4e09\u79cd\u547d\u540d\u7a7a\u95f4\u4e4b\u95f4\u7684\u52a0\u8f7d\u987a\u5e8f\u548c\u53d6\u503c\u987a\u5e8f\uff1a"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u52a0\u8f7d\u987a\u5e8f\uff1a\u5185\u7f6e\uff08\u7a0b\u5e8f\u8fd0\u884c\u524d\u52a0\u8f7d\uff09--\x3e\u5168\u5c40\uff08\u4ece\u4e0a\u5230\u4e0b\u987a\u5e8f\u52a0\u8f7d\u8fdb\u6765\u7684\uff09--\x3e\u5c40\u90e8\uff08\u8c03\u7528\u7684\u65f6\u5019\u52a0\u8f7d\uff09---\x3e\u5185\u7f6e"}),"\n",(0,r.jsx)(e.li,{children:"\u53d6\u503c\uff1a\u5728\u5c40\u90e8\u8c03\u7528\uff1a\u5c40\u90e8\u547d\u540d\u7a7a\u95f4---\x3e\u5168\u5c40\u547d\u540d\u7a7a\u95f4---\x3e\u5185\u7f6e\u547d\u540d\u7a7a\u95f4"}),"\n",(0,r.jsx)(e.li,{children:"\u5728\u5168\u5c40\u8303\u56f4\u627e\uff1a\u5168\u5c40----\u5185\u7f6e----\u5c40\u90e8\n\u4f7f\u7528\uff1a\n\u5168\u5c40\u4e0d\u80fd\u4f7f\u7528\u5c40\u90e8\u7684\uff0c\u5c40\u90e8\u7684\u53ef\u4ee5\u4f7f\u7528\u5168\u5c40\u7684"}),"\n"]}),"\n",(0,r.jsx)(e.h5,{id:"\u4f5c\u7528\u57df",children:"\u4f5c\u7528\u57df"}),"\n",(0,r.jsx)(e.p,{children:"\u4f5c\u7528\u57df\uff1a\u5c31\u662f\u4f5c\u7528\u8303\u56f4\uff0c\u4e3a\u4e86\u51fd\u6570\u5185\u7684\u53d8\u91cf\u4e0d\u4f1a\u5f71\u54cd\u5230\u5168\u5c40\u3002\u4f5c\u7528\u57df\u5206\u4e3a\u4e24\u79cd\uff1a"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u5168\u5c40\u4f5c\u7528\u57df\uff1a\u5168\u5c40\u547d\u540d\u7a7a\u95f4\u4e0e\u5185\u7f6e\u547d\u540d\u7a7a\u95f4\u7684\u540d\u5b57\u90fd\u5c5e\u4e8e\u5168\u5c40\u8303\u56f4\u5728\u6574\u4e2a\u6587\u4ef6\u7684\u4efb\u610f\u4f4d\u7f6e\u90fd\u80fd\u88ab\u5f15\u7528\uff0c\u5168\u5c40\u6709\u6548"}),"\n",(0,r.jsx)(e.li,{children:"\u5c40\u90e8\u4f5c\u7528\u57df\uff1a\u5c40\u90e8\u547d\u540d\u7a7a\u95f4\uff0c\u53ea\u80fd\u5728\u5c40\u90e8\u8303\u56f4\u5185\u751f\u6548\n\u7ad9\u5728\u5168\u5c40\u770b\uff1a\u4f7f\u7528\u540d\u5b57\u7684\u65f6\u5019\uff1a\u5982\u679c\u5168\u5c40\u6709\uff0c\u7528\u5168\u5c40\u7684\u3002\u5982\u679c\u5168\u5c40\u6ca1\u6709\uff0c\u7528\u5185\u7f6e\u7684\u3002"}),"\n",(0,r.jsx)(e.li,{children:"globals \u65b9\u6cd5\uff1a\u67e5\u770b\u5168\u5c40\u4f5c\u7528\u57df\u7684\u540d\u5b57\u3010print(globals())\u3011"}),"\n",(0,r.jsxs)(e.li,{children:["locals \u65b9\u6cd5\uff1a\u67e5\u770b\u5c40\u90e8\u4f5c\u7528\u57df\u7684\u540d\u5b57\u3010print(locals())\u3011\n",(0,r.jsx)(e.code,{children:"<br>"}),"\u4e0b\u9762\u770b 2 \u4e2a\u793a\u4f8b"]}),"\n"]}),"\n",(0,r.jsx)(e.h5,{id:"\u95ed\u5305\u5931\u8d25\u793a\u4f8b",children:"\u95ed\u5305\u5931\u8d25\u793a\u4f8b"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:"name = 1 #\u53d8\u91cf\u5728\u51fd\u6570\u5916\u90e8,inner\u53ef\u4ee5\u8bbf\u95ee\uff0c\u4f46\u662f\u5168\u5c40\u4e5f\u80fd\u8bbf\u95ee\u3002\u76f4\u63a5\u95ed\u5305\u5931\u8d25\ndef func():\n    def inner():\n        print(name)\n        print(inner.__closure__)\n        return name\n    return inner\n\np = func()\nprint(p())#\u8f93\u51fa\u7684__closure__\u4e3aNone \uff1a\u4e0d\u662f\u95ed\u5305\u51fd\u6570\nprint(name)\n"})}),"\n",(0,r.jsx)(e.h5,{id:"\u95ed\u5305\u6210\u529f\u793a\u4f8b",children:"\u95ed\u5305\u6210\u529f\u793a\u4f8b"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:"def func():\n    name = 1 #\u53d8\u91cf\u5728\u51fd\u6570\u5185\u90e8,inner\u53ef\u4ee5\u8bbf\u95ee,\u4f46\u662f\u5168\u5c40\u4e0d\u80fd\u8bbf\u95ee\u3002\u95ed\u5305\u6210\u529f\uff01\u6b64\u65f6\u52a0\u4e0anonlocal\n    def inner():\n        nonlocal name\n        # nonlocal\u975e\u5c40\u90e8\u58f0\u660e\u53d8\u91cf \u662fpython3.2\u7684\u8bed\u6cd5,\u7b80\u5355\u8bf4\u5c31\u662f\u8ba9\u5185\u90e8\u51fd\u6570\u4e2d\u7684\u53d8\u91cf\u5728\u4e0a\u4e00\u5c42\u51fd\u6570\u4e2d\u751f\u6548\n        # \u975e\u5c40\u90e8\u58f0\u660e\u53d8\u91cf\u6307\u4ee3\u7684\u5df2\u6709\u6807\u8bc6\u7b26\u662f\u6700\u8fd1\u5916\u9762\u51fd\u6570\u7684\u5df2\u58f0\u660e\u53d8\u91cf\uff0c\u4f46\u662f\u4e0d\u5305\u62ec\u5168\u5c40\u53d8\u91cf\u3002\u8fd9\u4e2a\u662f\u5f88\u91cd\u8981\u7684\uff0c\u56e0\u4e3a\u7ed1\u5b9a\u7684\u9ed8\u8ba4\u884c\u4e3a\u662f\u9996\u5148\u641c\u7d22\u672c\u5730\u547d\u540d\u7a7a\u95f4\u3002nonlocal\u58f0\u660e\u7684\u53d8\u91cf\u53ea\u5bf9\u5c40\u90e8\u8d77\u4f5c\u7528\uff0c\u79bb\u5f00\u5c01\u88c5\u51fd\u6570\uff0c\u90a3\u4e48\u8be5\u53d8\u91cf\u5c31\u65e0\u6548\u3002\n        name += 1\n        print(inner.__closure__)\n        return name\n    return inner\n\np = func()\nprint(p())\nprint(p())\nprint(p())\n\nprint(name)\n"})}),"\n",(0,r.jsx)(e.h4,{id:"\u5355\u4f8b\u6a21\u5f0f",children:"\u5355\u4f8b\u6a21\u5f0f"}),"\n",(0,r.jsx)(e.p,{children:"\u5355\u4f8b\u6a21\u5f0f\u5c31\u662f\u786e\u4fdd\u4e00\u4e2a\u7c7b\u53ea\u6709\u4e00\u4e2a\u5b9e\u4f8b.\u5f53\u4f60\u5e0c\u671b\u6574\u4e2a\u7cfb\u7edf\u4e2d,\u67d0\u4e2a\u7c7b\u53ea\u6709\u4e00\u4e2a\u5b9e\u4f8b\u65f6,\u5355\u4f8b\u6a21\u5f0f\u5c31\u6d3e\u4e0a\u4e86\u7528\u573a."}),"\n",(0,r.jsx)(e.p,{children:"\u6bd4\u5982,\u67d0\u4e2a\u670d\u52a1\u5668\u7684\u914d\u7f6e\u4fe1\u606f\u5b58\u5728\u5728\u4e00\u4e2a\u6587\u4ef6\u4e2d,\u5ba2\u6237\u7aef\u901a\u8fc7 AppConfig \u7c7b\u6765\u8bfb\u53d6\u914d\u7f6e\u6587\u4ef6\u7684\u4fe1\u606f.\u5982\u679c\u7a0b\u5e8f\u7684\u8fd0\u884c\u7684\u8fc7\u7a0b\u4e2d,\u5f88\u591a\u5730\u65b9\u90fd\u4f1a\u7528\u5230\u914d\u7f6e\u6587\u4ef6\u4fe1\u606f,\u5219\u5c31\u9700\u8981\u521b\u5efa\u5f88\u591a\u7684 AppConfig \u5b9e\u4f8b,\u8fd9\u6837\u5c31\u5bfc\u81f4\u5185\u5b58\u4e2d\u6709\u5f88\u591a AppConfig \u5bf9\u8c61\u7684\u5b9e\u4f8b,\u9020\u6210\u8d44\u6e90\u7684\u6d6a\u8d39.\u5176\u5b9e\u8fd9\u4e2a\u65f6\u5019 AppConfig \u6211\u4eec\u5e0c\u671b\u5b83\u53ea\u6709\u4e00\u4efd,\u5c31\u53ef\u4ee5\u4f7f\u7528\u5355\u4f8b\u6a21\u5f0f."}),"\n",(0,r.jsx)(e.h4,{id:"\u4f7f\u7528\u95ed\u5305\u51fd\u6570\u5b9e\u73b0\u5355\u4f8b\u6a21\u5f0f",children:"\u4f7f\u7528\u95ed\u5305\u51fd\u6570\u5b9e\u73b0\u5355\u4f8b\u6a21\u5f0f"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:"def single(cls, *args, **kwargs):\n    instance = {}\n\n    def get_instance():\n        if cls not in instance:\n            instance[cls] = cls(*args, **kwargs)\n        return instance[cls]\n    return get_instance\n\n\n@single\nclass Apple:\n    pass\n\n# \u6d4b\u8bd5\u65b0\u5efa2\u4e2a\u4e0d\u540c\u5b9e\u4f8b\uff0cid\u662f\u5426\u4e00\u81f4\na = Apple()\nprint(id(a))\nb = Apple()\nprint(id(b))\n"})}),"\n",(0,r.jsxs)(e.h4,{id:"\u4e5f\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528new\u65b9\u6cd5\u5b9e\u73b0\u7684\u5355\u4f8b\u6a21\u5f0f",children:["\u4e5f\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528",(0,r.jsx)(e.strong,{children:"new"}),"\u65b9\u6cd5\u5b9e\u73b0\u7684\u5355\u4f8b\u6a21\u5f0f"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:"class Single:\n    def __new__(cls, *args, **kwargs):\n        if not hasattr(cls, '_instance'):\n            cls._instance = super(Single, cls).__new__(cls)\n        return cls._instance\n\n\ns1 = Single()\ns2 = Single()\nprint(id(s1))\nprint(id(s2))\n"})}),"\n",(0,r.jsx)(e.h3,{id:"\u8fdb\u7a0b",children:"\u8fdb\u7a0b"}),"\n",(0,r.jsx)(e.p,{children:"\u8fdb\u7a0b\u662f\u7cfb\u7edf\u72ec\u7acb\u5b89\u6392\u548c\u5206\u914d\u7cfb\u7edf\u8d44\u6e90\uff08CPU\u3001\u5185\u5b58\uff09\u7684\u57fa\u672c\u5355\u4f4d\uff0c\u64cd\u4f5c\u7cfb\u7edf\u4ee5\u8fdb\u7a0b\u4e3a\u5355\u4f4d\u5206\u914d\u5b58\u50a8\u7a7a\u95f4\uff0c\u64cd\u4f5c\u7cfb\u7edf\u7ba1\u7406\u6240\u6709\u8fdb\u7a0b\u7684\u6267\u884c\uff0c\u4e3a\u5b83\u4eec\u5408\u7406\u7684\u5206\u914d\u8d44\u6e90\u3002"}),"\n",(0,r.jsx)(e.p,{children:"\u4e00\u4e2a\u8fdb\u7a0b\u5c31\u662f macOS \u4e2d\u7684\u201c\u6d3b\u52a8\u76d1\u89c6\u5668\u201d\u3001Windows \u4e2d\u7684\u201c\u4efb\u52a1\u7ba1\u7406\u5668\u201d\u7684\u4e00\u4e2a\u6267\u884c\u7a0b\u5e8f\u3002"}),"\n",(0,r.jsx)(e.p,{children:"Python \u65e2\u652f\u6301\u591a\u8fdb\u7a0b\u53c8\u652f\u6301\u591a\u7ebf\u7a0b\u3002"}),"\n",(0,r.jsx)(e.h4,{id:"\u591a\u8fdb\u7a0b",children:"\u591a\u8fdb\u7a0b"}),"\n",(0,r.jsx)(e.p,{children:"\u8fdb\u7a0b\u4e4b\u95f4\u662f\u76f8\u4e92\u72ec\u7acb\u7684\uff0cPython \u4e2d\u7684\u8fdb\u7a0b\u901a\u4fe1\u4e00\u822c\u7531\u8fdb\u7a0b\u5bf9 Queue \u5b8c\u6210\u3002"}),"\n",(0,r.jsx)(e.p,{children:"\u8fdb\u7a0b\u7ed5\u8fc7\u4e86\u5168\u5c40\u89e3\u91ca\u5668\u9501\u3002\u56e0\u6b64\uff0c\u591a\u8fdb\u7a0b\u6a21\u5757\u5141\u8bb8\u7a0b\u5e8f\u5458\u5145\u5206\u5229\u7528\u7279\u5b9a\u673a\u5668\u4e0a\u7684\u591a\u4e2a\u5904\u7406\u5668\u3002\u5b83\u5728 Unix \u548c Windows \u4e0a\u90fd\u80fd\u8fd0\u884c\u3002"}),"\n",(0,r.jsx)(e.p,{children:"\u8fdb\u7a0b\u7684\u6570\u91cf\u7b49\u4e8e CPU \u6838\u5fc3\u7684\u6570\u91cf\uff0c\u8fd9\u662f\u6700\u6709\u6548\u7684\u3002\u5982\u679c\u6838\u6570\u592a\u591a\uff0c\u5c31\u4e0d\u80fd\u5145\u5206\u5229\u7528\u6838\u6570\u3002\u5982\u679c\u592a\u5c11\uff0c\u4f1a\u9020\u6210\u8fdb\u7a0b\u5207\u6362\uff0c\u589e\u52a0\u7a0b\u5e8f\u7684\u8fd0\u884c\u65f6\u95f4\u3002"}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.a,{href:"https://docs.python.org/zh-cn/3.10/library/multiprocessing.html?highlight=multiprocessing#module-multiprocessing",children:"multiprocessing"}),":Multiprocessing"," Module Code Documentation"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:"from multiprocessing import Pool\n\ndef f(vaule):\n    x = vaule[0]\n    y = vaule[1]\n    return x*y\n\nif __name__ == '__main__':\n    p = Pool(16) # new 16 process pools \uff0c because i have 16 cpu\n    print(p.map(f, [(1,1), (2,2), (3,3)])) # take in data\n    p.close() # close pool\n\n# [1, 4, 9]\n"})}),"\n",(0,r.jsx)(e.p,{children:"\u6211\u4eec\u6765\u5b8c\u6210 1~100000000 \u6c42\u548c\u7684\u8ba1\u7b97\u5bc6\u96c6\u578b\u4efb\u52a1\uff0c\u5faa\u73af\u89e3\u51b3\uff0c\u6682\u65f6\u4e5f\u4e0d\u8003\u8651\u5217\u8868\u5207\u7247\u64cd\u4f5c\u82b1\u8d39\u7684\u65f6\u95f4\uff0c\u53ea\u662f\u628a\u505a\u8fd0\u7b97\u548c\u5408\u5e76\u8fd0\u7b97\u7ed3\u679c\u7684\u65f6\u95f4\u7edf\u8ba1\u51fa\u6765\u3002"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:"from time import time\n\n\ndef main():\n    total = 0\n    number_list = [x for x in range(1, 100000001)]\n    start = time()\n    for number in number_list:\n        total += number\n    print(total)\n    end = time()\n    print('Execution time: %.3fs' % (end - start))\n\n"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:"main()\n# 5000000050000000\n# Execution time: 6.798s\n"})}),"\n",(0,r.jsx)(e.p,{children:"\u5229\u7528\u591a\u8fdb\u7a0b\u201c\u5206\u800c\u6cbb\u4e4b\u201d\uff0c"}),"\n",(0,r.jsx)(e.p,{children:"\u5f53\u6211\u4eec\u5c06\u8fd9\u4e2a\u4efb\u52a1\u5206\u89e3\u5230 8 \u4e2a\u8fdb\u7a0b\u4e2d\u53bb\u6267\u884c\uff1a"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:"from multiprocessing import Process, Queue\nfrom time import time\n\ncore_num = 8\n\n\ndef task_handler(curr_list, result_queue):\n    total = 0\n    for number in curr_list:\n        total += number\n    result_queue.put(total)\n\n\ndef main():\n    processes = []\n    number_list = [x for x in range(1, 100000001)]\n    result_queue = Queue()\n    index = 0\n    # \u542f\u52a8core_num(8)\u4e2a\u8fdb\u7a0b\u5c06\u6570\u636e\u5207\u7247\u540e\u8fdb\u884c\u8fd0\u7b97\n    index_batch = int(100000000 / core_num)\n    for _ in range(core_num):\n        p = Process(target=task_handler,\n                    args=(number_list[index:index + index_batch], result_queue))\n        index += index_batch\n        processes.append(p)\n        p.start()\n    # \u5f00\u59cb\u8bb0\u5f55\u6240\u6709\u8fdb\u7a0b\u6267\u884c\u5b8c\u6210\u82b1\u8d39\u7684\u65f6\u95f4\n    start = time()\n    for p in processes:\n        p.join()\n    # \u5408\u5e76\u6267\u884c\u7ed3\u679c\n    total = 0\n    while not result_queue.empty():\n        total += result_queue.get()\n    print(total)\n    end = time()\n    print('Execution time: ', (end - start), 's', sep='')\n\n\nif __name__ == '__main__':\n    main()\n\n"})}),"\n",(0,r.jsx)(e.p,{children:"\u4ee5\u4e0a\u4ee3\u7801\u4fdd\u5b58\u4e3a multi_process.py"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:"!python multi_process.py\n"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:"# 5000000050000000\n# Execution time: 0.7936668395996094s\n"})}),"\n",(0,r.jsx)(e.p,{children:"\u660e\u663e\uff0c\u591a\u8fdb\u7a0b\u66f4\u5feb\u3002"}),"\n",(0,r.jsx)(e.p,{children:"\u4f7f\u7528\u591a\u8fdb\u7a0b\u540e\u7531\u4e8e\u83b7\u5f97\u4e86\u66f4\u591a\u7684 CPU \u6267\u884c\u65f6\u95f4\u4ee5\u53ca\u66f4\u597d\u7684\u5229\u7528\u4e86 CPU \u7684\u591a\u6838\u7279\u6027\uff0c\u660e\u663e\u7684\u51cf\u5c11\u4e86\u7a0b\u5e8f\u7684\u6267\u884c\u65f6\u95f4\uff0c\u800c\u4e14\u8ba1\u7b97\u91cf\u8d8a\u5927\u6548\u679c\u8d8a\u660e\u663e\u3002"}),"\n",(0,r.jsx)(e.h3,{id:"\u7ebf\u7a0b",children:"\u7ebf\u7a0b"}),"\n",(0,r.jsx)(e.p,{children:"\u7ebf\u7a0b\u662f\u7cfb\u7edf\u8c03\u5ea6\u8d44\u6e90\u7684\u6700\u5c0f\u5355\u4f4d\uff08CPU \u901a\u8fc7\u8ba1\u65f6\u5668\u6765\u5207\u6362\u7ebf\u7a0b\uff09"}),"\n",(0,r.jsx)(e.p,{children:"\u5728 Python \u4e2d\uff0c\u540c\u4e2a\u65f6\u95f4\u53ea\u6709\u4e00\u4e2a\u7ebf\u7a0b\u5728\u8fd0\u884c"}),"\n",(0,r.jsx)(e.p,{children:"\u5f53\u7136\uff0c\u5982\u679c\u4f60\u8fd0\u884c\u5927\u91cf\u7684 I/O \u4efb\u52a1\uff0c\u591a\u8fdb\u7a0b\u4f9d\u7136\u662f\u6700\u597d\u7684\u9009\u62e9"}),"\n",(0,r.jsx)(e.p,{children:"\u7ebf\u7a0b\u6570\u7b49\u4e8e CPU \u5185\u6838\u6570\u7684\u4e24\u500d\u662f\u6700\u9ad8\u6548\u7684\u3002"}),"\n",(0,r.jsx)(e.p,{children:"GIL \u662f\u4e00\u4e2a\u9632\u6b62\u591a\u4e2a\u7ebf\u7a0b\u540c\u65f6\u6267\u884c Python \u5b57\u8282\u7801\u7684\u4e92\u65a5\u9501\u3002\u4e4b\u6240\u4ee5\u9700\u8981\u8fd9\u79cd\u9501\uff0c\u4e3b\u8981\u662f\u56e0\u4e3a CPython \u7684\u5185\u5b58\u7ba1\u7406\u4e0d\u662f\u7ebf\u7a0b\u5b89\u5168\u7684"}),"\n",(0,r.jsx)(e.p,{children:"\u5728\u8fd9\u79cd\u73af\u5883\u4e0b\uff0cGIL \u9650\u5236\u89e3\u91ca\u5668\u672c\u8eab\u53ea\u80fd\u6709\u4e00\u4e2a\u7ebf\u7a0b\u8fd0\u884c\uff0c\u800c\u4e14\u4efb\u4f55 Python \u89e3\u91ca\u5668\u7ea7\u522b\u7684\u64cd\u4f5c\u90fd\u662f\u5e8f\u5217\u5316\u7684\uff0c\u56e0\u6b64\u4efb\u4f55\u65f6\u5019\u90fd\u53ea\u80fd\u6709\u4e00\u6761\u8bed\u53e5\u629b\u51fa\u5f02\u5e38\u3002\u4e0e\u5f02\u5e38\u76f8\u5173\u7684\u5171\u4eab\u53d8\u91cf\u4e5f\u56e0\u6b64\u53d7\u5230\u4fdd\u62a4\u3002"}),"\n",(0,r.jsx)(e.p,{children:"\u7ebf\u7a0b\u95f4\u901a\u4fe1\u7684\u76ee\u7684\u4e3b\u8981\u662f\u4e3a\u4e86\u7ebf\u7a0b\u540c\u6b65\uff0c\u56e0\u6b64\u7ebf\u7a0b\u6ca1\u6709\u50cf\u8fdb\u7a0b\u901a\u4fe1\u90a3\u6837\u7528\u4e8e\u6570\u636e\u4ea4\u6362\u7684\u901a\u4fe1\u673a\u5236\u3002"}),"\n",(0,r.jsx)(e.p,{children:"Python \u7684\u6807\u51c6\u5e93\u63d0\u4f9b\u4e86\u4e24\u4e2a\u6a21\u5757\uff1a_thread \u548c threading\uff0c_thread \u662f\u4f4e\u7ea7\u6a21\u5757\uff0cthreading \u662f\u9ad8\u7ea7\u6a21\u5757\uff0c\u5bf9_thread \u8fdb\u884c\u4e86\u5c01\u88c5\u3002\u7edd\u5927\u591a\u6570\u60c5\u51b5\u4e0b\uff0c\u6211\u4eec\u53ea\u9700\u8981\u4f7f\u7528 threading \u8fd9\u4e2a\u9ad8\u7ea7\u6a21\u5757\u3002"}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.a,{href:"https://docs.python.org/zh-cn/3.10/library/threading.html?highlight=threading#module-threading",children:"threading"}),":Threading"," Multiprocessing Module Code Documentation"]}),"\n",(0,r.jsx)(e.h4,{id:"\u591a\u7ebf\u7a0b",children:"\u591a\u7ebf\u7a0b"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:"\nimport time\nimport threading\n\n\ndef test_thread(para='hi', sleep=3):\n    time.sleep(sleep)\n    print(para)\n\n\ndef main():\n    # create thread\n    thread_hi = threading.Thread(target=test_thread)\n    thread_hello = threading.Thread(target=test_thread, args=('hello', 1))\n    # run thread\n    thread_hi.start()\n    thread_hello.start()\n    print('Main thread has ended!')\n\n\nif __name__ == '__main__':\n    main()\n\n"})}),"\n",(0,r.jsx)(e.p,{children:"\u5982\u4e0b\u6240\u793a\u7684\u754c\u9762\u4e2d\uff0c\u6709\u201c\u4e0b\u8f7d\u201d\u548c\u201c\u5173\u4e8e\u201d\u4e24\u4e2a\u6309\u94ae\uff0c\u7528\u4f11\u7720\u7684\u65b9\u5f0f\u6a21\u62df\u70b9\u51fb\u201c\u4e0b\u8f7d\u201d\u6309\u94ae\u4f1a\u8054\u7f51\u4e0b\u8f7d\u6587\u4ef6\u9700\u8981\u8017\u8d39 10 \u79d2\u7684\u65f6\u95f4\uff0c\u5f53\u70b9\u51fb\u201c\u4e0b\u8f7d\u201d\u6309\u94ae\u540e\uff0c\u6574\u4e2a\u4efb\u52a1\u963b\u585e\uff1a"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:"import time\nimport tkinter\nimport tkinter.messagebox\n\n\ndef download():\n    # \u6a21\u62df\u4e0b\u8f7d\u4efb\u52a1\u9700\u8981\u82b1\u8d395\u79d2\u949f\u65f6\u95f4\n    time.sleep(5)\n    tkinter.messagebox.showinfo('\u63d0\u793a', '\u4e0b\u8f7d\u5b8c\u6210!')\n\n\ndef show_about():\n    tkinter.messagebox.showinfo('\u5173\u4e8e', '\u4f5c\u8005: 123(v1.0)')\n\n\ndef main():\n    top = tkinter.Tk()\n    top.title('\u5355\u7ebf\u7a0b')\n    top.geometry('400x400')\n    top.wm_attributes('-topmost', True)\n\n    panel = tkinter.Frame(top)\n    button1 = tkinter.Button(panel, text='\u4e0b\u8f7d', command=download)\n    button1.pack(side='left')\n    button2 = tkinter.Button(panel, text='\u5173\u4e8e', command=show_about)\n    button2.pack(side='right')\n    panel.pack(side='bottom')\n\n    tkinter.mainloop()\n\n\nif __name__ == '__main__':\n    main()\n"})}),"\n",(0,r.jsx)(e.p,{children:"\u4f7f\u7528\u591a\u7ebf\u7a0b\u540e\uff0c\u4e0d\u4f1a\u963b\u585e\u4e86\u4e3b\u7ebf\u7a0b\uff1a"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:"import time\nimport tkinter\nimport tkinter.messagebox\nfrom threading import Thread\n\n\ndef main():\n\n    class DownloadTaskHandler(Thread):\n\n        def run(self):\n            time.sleep(5)\n            tkinter.messagebox.showinfo('\u63d0\u793a', '\u4e0b\u8f7d\u5b8c\u6210!')\n            # \u542f\u7528\u4e0b\u8f7d\u6309\u94ae\n            button1.config(state=tkinter.NORMAL)\n\n    def download():\n        # \u7981\u7528\u4e0b\u8f7d\u6309\u94ae\n        button1.config(state=tkinter.DISABLED)\n        # \u901a\u8fc7daemon\u53c2\u6570\u5c06\u7ebf\u7a0b\u8bbe\u7f6e\u4e3a\u5b88\u62a4\u7ebf\u7a0b(\u4e3b\u7a0b\u5e8f\u9000\u51fa\u5c31\u4e0d\u518d\u4fdd\u7559\u6267\u884c)\n        # \u5728\u7ebf\u7a0b\u4e2d\u5904\u7406\u8017\u65f6\u95f4\u7684\u4e0b\u8f7d\u4efb\u52a1\n        DownloadTaskHandler(daemon=True).start()\n\n    def show_about():\n        tkinter.messagebox.showinfo('\u5173\u4e8e', '\u4f5c\u8005: 123(v1.0)')\n\n    top = tkinter.Tk()\n    top.title('\u591a\u7ebf\u7a0b')\n    top.geometry('400x400')\n    top.wm_attributes('-topmost', 1)\n\n    panel = tkinter.Frame(top)\n    button1 = tkinter.Button(panel, text='\u4e0b\u8f7d', command=download)\n    button1.pack(side='left')\n    button2 = tkinter.Button(panel, text='\u5173\u4e8e', command=show_about)\n    button2.pack(side='right')\n    panel.pack(side='bottom')\n\n    tkinter.mainloop()\n\n\nif __name__ == '__main__':\n    main()\n"})}),"\n",(0,r.jsx)(e.p,{children:"\u4f1a\u770b\u5230\u5f39\u51fa\u7684\u7a97\u53e3\u662f\u591a\u6a21\u6001\u7684\uff0c\u70b9\u51fb\u4e0b\u8f7d\u6309\u94ae\u4e0d\u5f71\u54cd\u5176\u4ed6\u6309\u94ae\u64cd\u4f5c\u3002"}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"Python \u7684\u591a\u7ebf\u7a0b\u5e76\u4e0d\u80fd\u53d1\u6325 CPU \u7684\u591a\u6838\u7279\u6027"}),"\uff0c\u8fd9\u4e00\u70b9\u53ea\u8981\u542f\u52a8\u51e0\u4e2a\u6267\u884c\u6b7b\u5faa\u73af\u7684\u7ebf\u7a0b\u5c31\u53ef\u4ee5\u5f97\u5230\u8bc1\u5b9e\u4e86\u3002\u4e4b\u6240\u4ee5\u5982\u6b64\uff0c\u662f\u56e0\u4e3a Python \u7684\u89e3\u91ca\u5668\u6709\u4e00\u4e2a\u201c\u5168\u5c40\u89e3\u91ca\u5668\u9501\u201d\uff08GIL\uff09\u7684\u4e1c\u897f\uff0c\u4efb\u4f55\u7ebf\u7a0b\u6267\u884c\u524d\u5fc5\u987b\u5148\u83b7\u5f97 GIL \u9501\uff0c\u7136\u540e\u6bcf\u6267\u884c 100 \u6761\u5b57\u8282\u7801\uff0c\u89e3\u91ca\u5668\u5c31\u81ea\u52a8\u91ca\u653e GIL \u9501\uff0c\u8ba9\u522b\u7684\u7ebf\u7a0b\u6709\u673a\u4f1a\u6267\u884c\uff0c\u8fd9\u662f\u4e00\u4e2a\u5386\u53f2\u9057\u7559\u95ee\u9898\u3002"]}),"\n",(0,r.jsx)(e.p,{children:"Python \u89e3\u91ca\u5668\u7531\u4e8e\u8bbe\u8ba1\u65f6\u6709 GIL \u5168\u5c40\u9501\uff0c\u5bfc\u81f4\u4e86\u591a\u7ebf\u7a0b\u65e0\u6cd5\u5229\u7528\u591a\u6838\u3002\u591a\u7ebf\u7a0b\u7684\u5e76\u53d1\u5728 Python \u4e2d\u5c31\u662f\u4e00\u4e2a\u7f8e\u4e3d\u7684\u68a6\u3002"}),"\n",(0,r.jsx)(e.p,{children:"\u591a\u8fdb\u7a0b\u662f\u6709\u6548\u7684\u3002"}),"\n",(0,r.jsx)(e.h3,{id:"\u534f\u7a0b",children:"\u534f\u7a0b"}),"\n",(0,r.jsx)(e.p,{children:"\u534f\u7a0b\u662f\u7f16\u5199\u5e76\u53d1\u4ee3\u7801\u7684\u5e93\uff0c\u662f\u6784\u5efa IO \u5bc6\u96c6\u578b\u548c\u9ad8\u7ea7\u7ed3\u6784\u5316\u7f51\u7edc\u4ee3\u7801\u7684\u6700\u4f73\u9009\u62e9\u3002"}),"\n",(0,r.jsx)(e.p,{children:"\u4f8b\u7a0b\u7684\u8fd0\u884c\u65b9\u5f0f\u662f\u901a\u8fc7\u4ee3\u7801\u4e3b\u52a8\u5207\u6362\u72b6\u6001\u5e76\u7b49\u5f85\u5904\u7406\uff0c\u56e0\u6b64\u6548\u7387\u66f4\u9ad8\uff0c\u8bed\u6cd5\u4e5f\u66f4\u8be6\u7ec6\u3002\u5faa\u73af\u5bf9\u8c61\u9700\u8981\u5904\u4e8e\u6d3b\u52a8\u72b6\u6001\uff1a\u521b\u5efa\u3001\u8bbe\u7f6e\u3001\u63d0\u4ea4\u3001\u7b49\u5f85\u8fd0\u884c\u548c\u505c\u6b62\u3002"}),"\n",(0,r.jsx)(e.p,{children:"\u4f8b\u884c\u7a0b\u5e8f\u7684\u6700\u4f73\u6570\u91cf\u53d6\u51b3\u4e8e\u5185\u5b58\u4f7f\u7528\u60c5\u51b5\u3002"}),"\n",(0,r.jsx)(e.p,{children:"asyncio \u6a21\u5757\u5305\u542b\u4e86\u4e00\u4e9b\u5de5\u5177\uff0c\u7528\u4e8e\u7f16\u5199\u5f02\u6b65\u4ee3\u7801\u3002"}),"\n",(0,r.jsx)(e.p,{children:"\u534f\u7a0b\u7684\u5de5\u4f5c\u539f\u7406\u662f\u4e8b\u4ef6\u5faa\u73af\uff0c\u4e8b\u4ef6\u5faa\u73af\u662f\u4e00\u4e2a\u65e0\u9650\u5faa\u73af\uff0c\u5b83\u7b49\u5f85\u4e8b\u4ef6\u5e76\u6267\u884c\u5b83\u4eec\u3002"}),"\n",(0,r.jsx)(e.p,{children:"\u6bcf\u6b21\u4efb\u52a1\u4f1a\u88ab\u6302\u8d77\u81f3\u4e8b\u4ef6\u5faa\u73af\u961f\u5217\u4e2d\uff0c\u7136\u540e\u6309\u987a\u5e8f\u6267\u884c\u3002"}),"\n",(0,r.jsx)(e.p,{children:"await \u5173\u952e\u5b57\u7528\u4e8e\u6302\u8d77\u534f\u7a0b\uff0c\u76f4\u5230\u5b83\u88ab\u8c03\u7528\u3002"}),"\n",(0,r.jsx)(e.p,{children:"async \u5173\u952e\u5b57\u7528\u4e8e\u5b9a\u4e49\u534f\u7a0b\u3002"}),"\n",(0,r.jsx)(e.p,{children:"asyncio \u6a21\u5757\u7528\u4e8e\u5b9e\u73b0\u5f02\u6b65\u7f16\u7a0b\u3002"}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.a,{href:"https://docs.python.org/zh-cn/3.10/library/asyncio.html?highlight=asyncio#module-asyncio",children:"asyncio"}),":asyncio"," Multiprocessing Module Code Documentation"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:"import asyncio\n\nclass TestA:\n    def __init__(self,loop) -> None:\n        self.loop = loop\n        asyncio.set_event_loop(loop=self.loop) # step 3.1\n\n    async def run_page(self,tid): # step 7\n        print(tid)\n        # \u6b64\u5904\u7f16\u5199\u722c\u866b\u4ee3\u7801\n        return tid\n\n    async def close(self,):\n        for i in asyncio.all_tasks(): # step 9.1\n            i.cancel()\n        self.loop.stop() # step  9.2\n\n\ndef test():\n    get_async_loop = asyncio.new_event_loop() # step 1\n    asyncio.set_event_loop(get_async_loop) # step 2\n\n    async def spider(task_obj):\n        async_task =  [asyncio.ensure_future(task_obj.run_page(1)),\n                    asyncio.ensure_future(task_obj.run_page(2)),] # step  6\n        await asyncio.wait(async_task) # step  8\n\n        await task_obj.close() # step 9\n\n    task_obj = TestA(get_async_loop) #step 3\n    asyncio.run_coroutine_threadsafe(spider(task_obj), loop=get_async_loop) #step  4\n    get_async_loop.run_forever() # step 5\n\ntest()\n"})}),"\n",(0,r.jsx)(e.p,{children:"\u751f\u6210\u5668\u51fd\u6570\u4e0e\u534f\u7a0b\uff08\u6ce8\uff1a\u51fd\u6570\uff09\u975e\u5e38\u76f8\u4f3c\uff0c\u5b83\u4eec yield \u591a\u6b21\uff0c\u5b83\u4eec\u5177\u6709\u591a\u4e2a\u5165\u53e3\u70b9\uff0c\u5e76\u4e14\u5b83\u4eec\u7684\u6267\u884c\u53ef\u4ee5\u88ab\u6302\u8d77\u3002\u552f\u4e00\u7684\u533a\u522b\u662f\u751f\u6210\u5668\u51fd\u6570\u4e0d\u80fd\u63a7\u5236\u5728\u5b83\u5728 yield \u540e\u4ea4\u7ed9\u54ea\u91cc\u7ee7\u7eed\u6267\u884c\uff0c\u63a7\u5236\u6743\u603b\u662f\u8f6c\u79fb\u5230\u751f\u6210\u5668\u7684\u8c03\u7528\u8005"}),"\n",(0,r.jsx)(e.p,{children:"\u5728 Python \u521b\u5efa\u534f\u7a0b\u65f6\uff0ctask \u662f future \u7684\u5b50\u7c7b\uff0c\u6240\u4ee5 task \u7ee7\u627f\u4e86 future \u7684\u5c5e\u6027\u548c\u65b9\u6cd5\u3002\u51e0\u4e4e\u6ca1\u6709\u4e0d\u540c\u3002"}),"\n",(0,r.jsx)(e.h3,{id:"python-\u5185\u7f6e\u5e93\u7684\u4f7f\u7528",children:"Python \u5185\u7f6e\u5e93\u7684\u4f7f\u7528"}),"\n",(0,r.jsx)(e.p,{children:"\u5e93\u3001\u5305\u3001\u6a21\u5757\u7684\u5305\u542b\u5173\u7cfb\u4e3a\uff1a\u591a\u4e2a\u6a21\u5757\u7ec4\u6210\u4e3a\u5305\u3001\u591a\u4e2a\u5305\u7ec4\u6210\u4e3a\u5e93\u3002"}),"\n",(0,r.jsx)(e.p,{children:"\u5728\u5b9e\u9645\u5f00\u53d1\u4e2d\u4e0d\u505a\u4e25\u683c\u533a\u5206\u3002"}),"\n",(0,r.jsx)(e.p,{children:"Python \u6807\u51c6\u5e93\uff1aPython \u5185\u7f6e\u7684\u5e93\uff0c\u4e0d\u9700\u8981\u5b89\u88c5\uff0c\u76f4\u63a5\u5bfc\u5165\u5373\u53ef\u4f7f\u7528\u3002"}),"\n",(0,r.jsx)(e.p,{children:"\u4ee5 Python \u7684\u5185\u7f6e os \u6a21\u5757\u4e3a\u4f8b\uff0c\u662f\u4e0e\u64cd\u4f5c\u7cfb\u7edf\u8fdb\u884c\u4ea4\u4e92\u7684\u6a21\u5757\uff0c\u4e3b\u8981\u6709\u5982\u4e0b\u529f\u80fd\uff1a"}),"\n",(0,r.jsx)(e.h4,{id:"\u6587\u4ef6\u8def\u5f84\u64cd\u4f5c",children:"\u6587\u4ef6\u8def\u5f84\u64cd\u4f5c"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"os.remove(path) \u6216 os.unlink(path) \uff1a\u5220\u9664\u6307\u5b9a\u8def\u5f84\u7684\u6587\u4ef6\u3002\u8def\u5f84\u53ef\u4ee5\u662f\u5168\u540d\uff0c\u4e5f\u53ef\u4ee5\u662f\u5f53\u524d\u5de5\u4f5c\u76ee\u5f55\u4e0b\u7684\u8def\u5f84\u3002"}),"\n",(0,r.jsx)(e.li,{children:"os.removedirs\uff1a\u5220\u9664\u6587\u4ef6\uff0c\u5e76\u5220\u9664\u4e2d\u95f4\u8def\u5f84\u4e2d\u7684\u7a7a\u6587\u4ef6\u5939"}),"\n",(0,r.jsx)(e.li,{children:"os.chdir(path)\uff1a\u5c06\u5f53\u524d\u5de5\u4f5c\u76ee\u5f55\u6539\u53d8\u4e3a\u6307\u5b9a\u7684\u8def\u5f84"}),"\n",(0,r.jsx)(e.li,{children:"os.getcwd()\uff1a\u8fd4\u56de\u5f53\u524d\u7684\u5de5\u4f5c\u76ee\u5f55"}),"\n",(0,r.jsx)(e.li,{children:"os.curdir\uff1a\u8868\u793a\u5f53\u524d\u76ee\u5f55\u7684\u7b26\u53f7"}),"\n",(0,r.jsx)(e.li,{children:"os.rename(old, new)\uff1a\u91cd\u547d\u540d\u6587\u4ef6"}),"\n",(0,r.jsx)(e.li,{children:"os.renames(old, new)\uff1a\u91cd\u547d\u540d\u6587\u4ef6\uff0c\u5982\u679c\u4e2d\u95f4\u8def\u5f84\u7684\u6587\u4ef6\u5939\u4e0d\u5b58\u5728\uff0c\u5219\u521b\u5efa\u6587\u4ef6\u5939"}),"\n",(0,r.jsx)(e.li,{children:"os.listdir(path)\uff1a\u8fd4\u56de\u7ed9\u5b9a\u76ee\u5f55\u4e0b\u7684\u6240\u6709\u6587\u4ef6\u5939\u548c\u6587\u4ef6\u540d\uff0c\u4e0d\u5305\u62ec '.' \u548c '..' \u4ee5\u53ca\u5b50\u6587\u4ef6\u5939\u4e0b\u7684\u76ee\u5f55\u3002\uff08'.' \u548c '..' \u5206\u522b\u6307\u5f53\u524d\u76ee\u5f55\u548c\u7236\u76ee\u5f55\uff09"}),"\n",(0,r.jsx)(e.li,{children:"os.mkdir(name)\uff1a\u4ea7\u751f\u65b0\u6587\u4ef6\u5939"}),"\n",(0,r.jsx)(e.li,{children:"os.makedirs(name)\uff1a\u4ea7\u751f\u65b0\u6587\u4ef6\u5939\uff0c\u5982\u679c\u4e2d\u95f4\u8def\u5f84\u7684\u6587\u4ef6\u5939\u4e0d\u5b58\u5728\uff0c\u5219\u521b\u5efa\u6587\u4ef6\u5939"}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:"\u5bfc\u5165\u8be5\u6a21\u5757\uff1a"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:"import os\n"})}),"\n",(0,r.jsx)(e.p,{children:"\u4ea7\u751f\u6587\u4ef6\uff1a"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:"f = open('test.file', 'w')\nf.close()\nprint('test.file' in os.listdir(os.curdir))\n"})}),"\n",(0,r.jsx)(e.p,{children:"\u91cd\u547d\u540d\u6587\u4ef6:"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:'os.rename("test.file", "test.new.file")\nprint("test.file" in os.listdir(os.curdir))\nprint("test.new.file" in os.listdir(os.curdir))\n'})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:'# \u5220\u9664\u6587\u4ef6\nos.remove("test.new.file")\n'})}),"\n",(0,r.jsx)(e.h4,{id:"\u7cfb\u7edf\u5e38\u91cf",children:"\u7cfb\u7edf\u5e38\u91cf"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"windows \u4e3a \\r\\n"}),"\n",(0,r.jsx)(e.li,{children:"unix \u4e3a \\n"}),"\n"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:"os.linesep\n"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:"# \u5f53\u524d\u64cd\u4f5c\u7cfb\u7edf\u7684\u8def\u5f84\u5206\u9694\u7b26\uff1a\nos.sep\n"})}),"\n",(0,r.jsx)(e.p,{children:"\u5f53\u524d\u64cd\u4f5c\u7cfb\u7edf\u7684\u73af\u5883\u53d8\u91cf\u4e2d\u7684\u5206\u9694\u7b26\uff08';' \u6216 ':'\uff09\uff1a"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"windows \u4e3a ;"}),"\n",(0,r.jsx)(e.li,{children:"unix \u4e3a:"}),"\n"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:"os.pathsep\n"})}),"\n",(0,r.jsx)(e.p,{children:"os.environ \u662f\u4e00\u4e2a\u5b58\u50a8\u6240\u6709\u73af\u5883\u53d8\u91cf\u7684\u503c\u7684\u5b57\u5178\uff0c\u53ef\u4ee5\u4fee\u6539\u3002"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:"os.environ\n"})}),"\n",(0,r.jsx)(e.h4,{id:"ospath-\u6a21\u5757",children:"os.path \u6a21\u5757"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:"import os.path\n"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"os.path.isfile(path) \uff1a\u68c0\u6d4b\u4e00\u4e2a\u8def\u5f84\u662f\u5426\u4e3a\u666e\u901a\u6587\u4ef6"}),"\n",(0,r.jsx)(e.li,{children:"os.path.isdir(path)\uff1a\u68c0\u6d4b\u4e00\u4e2a\u8def\u5f84\u662f\u5426\u4e3a\u6587\u4ef6\u5939"}),"\n",(0,r.jsx)(e.li,{children:"os.path.exists(path)\uff1a\u68c0\u6d4b\u8def\u5f84\u662f\u5426\u5b58\u5728"}),"\n",(0,r.jsx)(e.li,{children:"os.path.isabs(path)\uff1a\u68c0\u6d4b\u8def\u5f84\u662f\u5426\u4e3a\u7edd\u5bf9\u8def\u5f84"}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:"windows \u7cfb\u7edf\uff1a"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:'print(os.path.isfile("C:/Windows"))\nprint(os.path.isdir("C:/Windows"))\nprint(os.path.exists("C:/Windows"))\nprint(os.path.isabs("C:/Windows"))\n'})}),"\n",(0,r.jsx)(e.p,{children:"unix \u7cfb\u7edf\uff1a"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:'print(os.path.isfile("/Users"))\nprint(os.path.isdir("/Users"))\nprint(os.path.exists("/Users"))\nprint(os.path.isabs("/Users"))\n'})}),"\n",(0,r.jsx)(e.h4,{id:"split-\u548c-join",children:"split \u548c join"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"os.path.split(path)\uff1a\u62c6\u5206\u4e00\u4e2a\u8def\u5f84\u4e3a (head, tail) \u4e24\u90e8\u5206"}),"\n",(0,r.jsx)(e.li,{children:"os.path.join(a, *p)\uff1a\u4f7f\u7528\u7cfb\u7edf\u7684\u8def\u5f84\u5206\u9694\u7b26\uff0c\u5c06\u5404\u4e2a\u90e8\u5206\u5408\u6210\u4e00\u4e2a\u8def\u5f84"}),"\n"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:'head, tail = os.path.split("c:/tem/b.txt")\nprint(head, tail)\n'})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:'a = "c:/tem"\nb = "b.txt"\nos.path.join(a, b)\n'})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:"def get_files(dir_path):\n    '''\n    \u5217\u51fa\u6587\u4ef6\u5939\u4e0b\u7684\u6240\u6709\u6587\u4ef6\n    :param dir_path: \u7236\u6587\u4ef6\u5939\u8def\u5f84\n    :return:\n    '''\n    for parent, dirname, filenames in os.walk(dir_path):\n        for filename in filenames:\n            print(\"parent is:\", parent)\n            print(\"filename is:\", filename)\n            print(\"full name of the file is:\", os.path.join(parent, filename))\n"})}),"\n",(0,r.jsx)(e.p,{children:"\u5217\u51fa\u5f53\u524d\u6587\u4ef6\u5939\u7684\u6240\u6709\u6587\u4ef6\uff1a"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:"dir = os.curdir\nget_files(dir)\n"})}),"\n",(0,r.jsx)(e.h4,{id:"byte-code-\u7f16\u8bd1",children:"Byte Code \u7f16\u8bd1"}),"\n",(0,r.jsx)(e.p,{children:"Python, Java \u7b49\u8bed\u8a00\u5148\u5c06\u4ee3\u7801\u7f16\u8bd1\u4e3a byte code\uff08\u4e0d\u662f\u673a\u5668\u7801\uff09\uff0c\u7136\u540e\u518d\u5904\u7406\uff1a"}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:".py -> .pyc -> interpreter"}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:"eval(statement, glob, local)"}),"\n",(0,r.jsx)(e.p,{children:"\u4f7f\u7528 eval \u51fd\u6570\u52a8\u6001\u6267\u884c\u4ee3\u7801\uff0c\u8fd4\u56de\u6267\u884c\u7684\u503c\u3002"}),"\n",(0,r.jsx)(e.p,{children:"exec(statement, glob, local)"}),"\n",(0,r.jsx)(e.p,{children:"\u4f7f\u7528 exec \u53ef\u4ee5\u6dfb\u52a0\u4fee\u6539\u539f\u6709\u7684\u53d8\u91cf:"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:"a = 1\nexec('b = a + 10')\nprint(b)\n"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:'local = dict(a=2)\nglob = {}\nexec("b = a+1", glob, local)\n\nprint(local)\n'})}),"\n",(0,r.jsx)(e.p,{children:"compile \u51fd\u6570\u751f\u6210 byte code\uff1a\ncompile(str, filename, mode)"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:"a = 1\nb = compile('a+2', '', 'eval')\nprint(eval(b))\n"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:'a = 1\nc = compile("b=a+4", "", \'exec\')\nexec(c)\nprint(b)\n'})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:"# abstract syntax trees\nimport ast\n\ntree = ast.parse('a+10', '', 'eval')\nast.dump(tree)\n"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:"a = 1\nc = compile(tree, '', 'eval')\nd = eval(c)\nprint(d)\n"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:"# \u5b89\u5168\u7684\u4f7f\u7528\u65b9\u6cd5 literal_eval \uff0c\u53ea\u652f\u6301\u57fa\u672c\u503c\u7684\u64cd\u4f5c\uff1a\nb = ast.literal_eval('[10.0, 2, True, \"foo\"]')\nprint(b)\n"})}),"\n",(0,r.jsx)(e.h3,{id:"\u7b2c\u4e09\u65b9\u5e93",children:"\u7b2c\u4e09\u65b9\u5e93"}),"\n",(0,r.jsx)(e.h4,{id:"\u7b2c\u4e09\u65b9\u6a21\u5757\u4f7f\u7528\u7684\u57fa\u672c\u6d41\u7a0b",children:"\u7b2c\u4e09\u65b9\u6a21\u5757\u4f7f\u7528\u7684\u57fa\u672c\u6d41\u7a0b"}),"\n",(0,r.jsx)(e.p,{children:"\u7b2c\u4e09\u65b9\u6a21\u5757\u4f7f\u7528\u7684\u57fa\u672c\u6d41\u7a0b \u4ee5 opencv \u4e3a\u4f8b"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u4e0b\u8f7d pip install opencv-python"}),"\n",(0,r.jsx)(e.li,{children:"\u5bfc\u5165 import cv2"}),"\n",(0,r.jsx)(e.li,{children:"\u4f7f\u7528 \u6a21\u5757\u540d.\u65b9\u6cd5\u540d \u793a\u4f8b \uff1a cv2.imread('./img/cat.jpg')"}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:"\u5bf9\u4e8e\u590d\u6742\u7684\u6a21\u5757\u6765\u8bf4\uff0c\u4f7f\u7528 help()\u65b9\u6cd5\u3001dir()\u65b9\u6cd5\u4e0d\u80fd\u5f88\u597d\u7684\u6ee1\u8db3\u6211\u4eec\u7684\u9700\u6c42\u3002\u5982\u679c\u662f\u65b0\u624b\u9700\u8981\u642d\u914d\u5b98\u65b9\u6587\u6863\uff0c\u67e5\u9605\u4f7f\u7528\u5b9e\u4f8b\u3002"}),"\n",(0,r.jsx)(e.p,{children:"\u8fd9\u91cc\u9700\u8981\u6ce8\u610f\u7684\u662f\uff1aopencv \u6a21\u5757\u7684\u4e0b\u8f7d\u540d\u3001\u5bfc\u5165\u540d\u5747\u4e0d\u662f opencv\u3002"}),"\n",(0,r.jsx)(e.p,{children:"\u4e8b\u5b9e\u4e0a\u6a21\u5757\u540d\u3001\u4e0b\u8f7d\u540d\u4e0e\u5bfc\u5165\u540d\u4e5f\u5e76\u975e\u4e00\u79cd\u5f3a\u5236\u7684\u89c4\u5219\u3002"}),"\n",(0,r.jsx)(e.p,{children:"\u5efa\u8bae\u5728\u4e0b\u8f7d\u6a21\u5757\u4e4b\u524d\u5148\u901a\u8fc7\u641c\u7d22\u5f15\u64ce\u641c\u7d22\u3002"}),"\n",(0,r.jsx)(e.p,{children:"\u66f4\u591a\u662f\u540e\u7eed\u7684\u5f00\u53d1\u8005\u51fa\u4e8e\u4e60\u60ef\u4f1a\u5c06\u540d\u79f0\u7edf\u4e00\u3002\u4f8b\u5b50\u662f pandas \u6a21\u5757\u3002"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u4e0b\u8f7d pip install pandas"}),"\n",(0,r.jsx)(e.li,{children:"\u5bfc\u5165 import pandas"}),"\n",(0,r.jsx)(e.li,{children:'\u4f7f\u7528 \u6a21\u5757\u540d.\u65b9\u6cd5\u540d \u793a\u4f8b \uff1a pandas.read_csv("./cat.csv")'}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:"\u5728\u56fd\u5185\u4e0b\u8f7d\u6a21\u5757\u5f80\u5f80\u8f83\u6162\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u8c46\u74e3\u3001\u6e05\u534e\u955c\u50cf\u7ad9\u4e0b\u8f7d\u7b2c\u4e09\u65b9\u6a21\u5757\u3002\u4ee5\u4e0b\u8f7d scikit-learn \u6a21\u5757\u4e3a\u4f8b"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["python -m pip install scikit-learn==1.3.0 -i ",(0,r.jsx)(e.a,{href:"https://pypi.tuna.tsinghua.edu.cn/simple",children:"https://pypi.tuna.tsinghua.edu.cn/simple"})]}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:"\u7c98\u8d34\u81f3\u7ec8\u7aef\uff0cwindows \u7535\u8111\u53ef\u4ee5\u901a\u8fc7 win+R \u8f93\u5165 CMD"}),"\n",(0,r.jsx)(e.p,{children:"MAC \u53ef\u4ee5\u76f4\u63a5\u641c\u7d22\u7ec8\u7aef\u6253\u5f00\u3002"}),"\n",(0,r.jsx)(e.h4,{id:"\u7b2c\u4e09\u65b9\u6a21\u5757\u7684\u7248\u672c\u95ee\u9898",children:"\u7b2c\u4e09\u65b9\u6a21\u5757\u7684\u7248\u672c\u95ee\u9898"}),"\n",(0,r.jsx)(e.p,{children:"\u7b2c\u4e09\u65b9\u6a21\u5757\u4e0e\u7cfb\u7edf\u6a21\u5757\u4e00\u6837\uff0c\u90fd\u662f\u81ea\u5b9a\u4e49\u597d\u7684\u4e00\u7cfb\u5217\u6a21\u5757\uff0c\u8fd9\u4e9b\u6a21\u5757\u4e5f\u81ea\u7136\u5b58\u5728\u4e00\u4e9b\u7248\u672c\u5dee\u5f02\u3002"}),"\n",(0,r.jsx)(e.p,{children:"\u5728\u4f7f\u7528\u7684\u8fc7\u7a0b\u4e4b\u4e2d\u5f88\u53ef\u80fd\u56e0\u4e3a\u7248\u672c\u7684\u4e0d\u5339\u914d\u3001\u65b9\u6cd5\u7684\u5f03\u7528\u5bfc\u81f4\u793a\u4f8b\u7684\u4ee3\u7801\u5931\u6548\u3002"}),"\n",(0,r.jsx)(e.p,{children:"\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7 3 \u4e2a\u65b9\u5f0f\u6765\u89e3\u51b3\uff1a"}),"\n",(0,r.jsx)(e.p,{children:"1.\u5347\u7ea7\u81f3\u6700\u65b0\u7248\u672c\u6216\u5b89\u88c5\u6307\u5b9a\u7684\u7248\u672c"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:"\u5b89\u88c5\u6307\u5b9a\u7684\u7248\u672c\u793a\u4f8b: pip install pandas==2.0.2"}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:"\u5347\u7ea7\u81f3\u6700\u65b0\u7248\u672c\u793a\u4f8b: pip install --upgrade pandas"}),"\n",(0,r.jsxs)(e.p,{children:["2.\u79ef\u6781\u7684\u67e5\u8be2\u5b98\u65b9\u6587\u6863\u3002\u53ef\u5728 ",(0,r.jsx)(e.a,{href:"https://pypi.org/",children:"https://pypi.org/"})," \u4e0a\u641c\u7d22\u5bf9\u5e94\u6a21\u5757\uff0c\u77e5\u540d\u5ea6\u8f83\u9ad8\u7684\u6a21\u5757\u90fd\u4f1a\u6709\u7cfb\u7edf\u7684\u5b98\u65b9\u6587\u6863\u3002"]}),"\n",(0,r.jsx)(e.p,{children:"3.\u66f4\u6362\u5176\u4ed6\u6a21\u5757"}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.h4,{id:"\u7b2c\u4e09\u65b9\u6a21\u5757-opencv",children:"\u7b2c\u4e09\u65b9\u6a21\u5757 OpenCV"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:"# \u5bfc\u5165\u5fc5\u8981\u7684\u5305\nimport numpy as np\nimport matplotlib.pyplot as plt\n%matplotlib inline\n# \u5bfc\u5165opencv\nimport cv2\n\n# \u4f7f\u7528opencv\u7684imread\u65b9\u6cd5\uff0c\u6253\u5f00\u56fe\u7247\nimg = cv2.imread('./img/cat.jpg')\n# \u68c0\u67e5\u7c7b\u578b\uff0c\u4f1a\u53d1\u73b0\u81ea\u52a8\u8f6c\u6210\u4e86Numpy \u6570\u7ec4\u7684\u5f62\u5f0f\ntype(img)\nimg\n\n# \u5982\u679c\u6253\u5f00\u4e00\u5f20\u4e0d\u5b58\u5728\u7684\u56fe\u7247\uff0c\u4e0d\u4f1a\u62a5\u9519\uff0c\u4f46\u662f\u4f1a\u8fd4\u56de\u7a7a\u7c7b\u578b\nimg_wrong = cv2.imread('./img/wrong.jpg')\ntype(img_wrong)\nimg_wrong\n\nplt.imshow(img)\n# \u4e3a\u4ec0\u4e48\u4f1a\u663e\u793a\u7684\u8fd9\u4e48\u5947\u602a\uff1f\n\n# \uff08OpenCV\u548cmatplotlib \u9ed8\u8ba4\u7684RBG\u987a\u5e8f\u4e0d\u4e00\u6837\uff09\n# matplotlib: R G B\n# opencv: B G R\n# \u9700\u8981\u8c03\u6574\u987a\u5e8f\n\n# \u5c06OpenCV BGR \u8f6c\u6362\u6210RGB\uff0ccv2.COLOR_\u53ef\u4ee5\u770b\u5230\u66f4\u591a\u8f6c\u6362\u5f62\u5f0f\nimg_fixed = cv2.cvtColor(img,cv2.COLOR_BGR2RGB)\n\n# \u7b97\u6cd5\u53c2\u8003\uff1aRGB\u53d6\u5747\u503c\u3001RGB\u6309\u9608\u503c\u53d6\u503c\u3001\u6309\u8272\u5f69\u5fc3\u7406\u5b66\u516c\u5f0f\u53d6\u503cR*0.299 + G*0.587 + B*0.114 = Gray\n\nplt.imshow(img_fixed)\n# \u663e\u793a\u6b63\u5e38\u4e86\n\n# \u53e6\u5916\uff0c\u6211\u4eec\u518d\u8bfb\u53d6\u56fe\u7247\u65f6\u4e5f\u53ef\u4ee5\u4ee5\u7070\u5ea6\u6a21\u5f0f\u8bfb\u53d6\nimg_gray = cv2.imread('./img/cat.jpg',cv2.IMREAD_GRAYSCALE)\n# \u663e\u793a\u8fd9\u4e2a\u7070\u5ea6\u56fe\nplt.imshow(img_gray,cmap=\"gray\")\n\n# \u4f7f\u7528resize\u7f29\u653e\uff08\u6253\u5f00\u51fd\u6570\u5e2e\u52a9\uff09\nimg_resize = cv2.resize(img_fixed,(1000,300))\n# \u663e\u793a\u7f29\u653e\u540e\u7684\u56fe\u7247\nplt.imshow(img_resize)\n\n# \u7ffb\u8f6c\u56fe\u7247\uff1a0\u8868\u793a\u5782\u76f4\u7ffb\u8f6c\u30011\u8868\u793a\u6c34\u5e73\u7ffb\u8f6c\uff0c-1\u8868\u793a\u6c34\u5e73\u5782\u76f4\u90fd\u7ffb\u8f6c\nimg_flip = cv2.flip(img_fixed,-1)\n\nplt.imshow(img_flip)\n"})}),"\n",(0,r.jsx)(e.h3,{id:"python-\u8c03\u7528-c",children:"Python \u8c03\u7528 C"}),"\n",(0,r.jsx)(e.p,{children:"Python \u7684\u5e95\u5c42\u662f C \u5199\u7684\uff08\u5b9e\u9645\u4e0a\u5927\u90e8\u5206\u9ad8\u7ea7\u7f16\u7a0b\u8bed\u8a00\u90fd\u662f C \u5199\u7684\uff09\u56e0\u6b64\u4e92\u76f8\u8c03\u7528\u7684\u903b\u8f91\u4e3b\u8981\u662f\uff1a\u6570\u636e\u7c7b\u578b\u8f6c\u6362\u3001\u7f16\u8bd1\u5e93\u7684\u94fe\u63a5\u3001\u63a5\u6536\u8fd4\u56de\u503c\u3002"}),"\n",(0,r.jsx)(e.p,{children:"\u8fd9\u4e2a\u8fc7\u7a0b\u6d89\u53ca\u5230\u53cd\u590d\u7684\u8c03\u8bd5\uff0c\u6240\u4ee5\u5148\u4ece\u8c03\u8bd5\u5f00\u59cb\u8bb2\u3002"}),"\n",(0,r.jsx)(e.h4,{id:"visual-studio-code-\u548c-visual-studio-\u7684\u8c03\u8bd5",children:"Visual Studio Code \u548c Visual Studio \u7684\u8c03\u8bd5"}),"\n",(0,r.jsx)(e.h5,{id:"visual-studio-code",children:"Visual Studio Code"}),"\n",(0,r.jsx)(e.p,{children:"\u5148\u770b\u6211\u4eec\u719f\u6089\u7684 Visual Studio Code \uff0c\u4ee5\u4e0b\u7b80\u79f0 VScode"}),"\n",(0,r.jsx)(e.p,{children:"\u70b9\u51fb\u201c\u884c\u53f7\u201d\u524d\u7684\u4f4d\u7f6e\uff0c\u5c31\u53ef\u4ee5\u7ed9\u4ee3\u7801\u884c\u6253\u4e0a\u7ea2\u8272\u7684\u201c\u65ad\u70b9\u201d\u3002"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",metastring:"showLineNumbers",children:"def mynameis(x):\n    print('my name is ',end='')\n    print(x,end='')# \u65ad\u70b9\n    print(\"!\")\n\n\nprint(1)# \u65ad\u70b9\nmynameis('a')\nprint(2)# \u65ad\u70b9\nmynameis('b')\nprint(3)\n"})}),"\n",(0,r.jsx)(e.p,{children:"\u63a5\u7740\u70b9\u51fb\u521a\u521a\u7684\u8c03\u8bd5\u6309\u94ae\uff0c\u70b9\u51fb\u8fd0\u884c\u548c\u8c03\u8bd5\uff0c\u63a5\u7740\u6839\u636e\u4f60\u7684\u6587\u4ef6\u7c7b\u578b\u9009\u62e9\uff0c\u8b6c\u5982 py \u6587\u4ef6\u5c31\u9009\u62e9 Python File. \u7136\u540e\u53ef\u4ee5\u770b\u5230\u4ee3\u7801\u4e0a\u65b9\u6709 6 \u4e2a\u6309\u94ae\u3002\u4ed6\u4eec\u5206\u522b\u662f\uff1a"}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:"1\u3001continue\uff08\u7ee7\u7eed\uff09\n\u6267\u884c\u5230\u4e0b\u4e00\u65ad\u70b9\uff0c\u5982\u679c\u51fd\u6570\u5185\u5bb9\u7684\u5b50\u51fd\u6570\u4e5f\u6709\u65ad\u70b9\uff0c\u4f1a\u8df3\u5230\u5b50\u51fd\u6570\u7684\u65ad\u70b9\u5904"}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:"2\u3001step over\uff08\u5355\u6b65\u8df3\u8fc7\uff09\n\u4e00\u884c\u4e00\u884c\u7684\u5f80\u4e0b\u8d70\uff0c\u628a\u6ca1\u6709\u65ad\u70b9\u7684\u5b50\u51fd\u6570\u5f53\u4f5c\u4e00\u6b65\uff0c\u5982\u679c\u5b50\u51fd\u6570\u5185\u6709\u65ad\u70b9\uff0c\u4f1a\u8df3\u5230\u5b50\u51fd\u6570\u7684\u65ad\u70b9\u5904\uff0c\u4ece\u65ad\u70b9\u5904\u5f00\u59cb\u4e00\u884c\u4e00\u884c\u6267\u884c"}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:"3\u3001step into\uff08\u5355\u6b65\u8c03\u8bd5/\u5355\u6b65\u6267\u884c\uff09\n\u4e00\u884c\u4e00\u884c\u5f80\u4e0b\u8d70\uff0c\u5982\u679c\u8fd9\u4e00\u884c\u4e0a\u6709\u5b50\u51fd\u6570\uff0c\u4e14\u65e0\u8bba\u5b50\u51fd\u6570\u5185\u6709\u65e0\u65ad\u70b9\uff0c\u90fd\u4f1a\u8df3\u5230\u5b50\u51fd\u6570\u7684\u7b2c\u4e00\u884c\uff0c\u4ece\u7b2c\u4e00\u884c\u5f00\u59cb\uff0c\u4e00\u884c\u4e00\u884c\u6267\u884c"}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:"4\u3001step out\uff08\u5355\u6b65\u8df3\u51fa\uff09\n\u6267\u884c\u5230\u4e0b\u4e00\u65ad\u70b9\uff0c\u5982\u679c\u9047\u5230\u5b50\u51fd\u6570\uff0c\u4e14\u5b50\u51fd\u6570\u5185\u6ca1\u6709\u65ad\u70b9\uff0c\u76f4\u63a5\u8df3\u51fa\u5b50\u51fd\u6570\u3002\u5982\u679c\u5b50\u51fd\u6570\u5185\u6709\u65ad\u70b9\uff0c\u4f1a\u5728\u6267\u884c\u5b8c\u65ad\u70b9\u540e\u518d\u8df3\u51fa\u5b50\u51fd\u6570"}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:"5\u3001Restart\uff08\u91cd\u542f\uff09\n\u4ece\u5934\u5f00\u59cb\uff0c\u91cd\u65b0\u8fd0\u884c\u8c03\u8bd5\u4ee3\u7801"}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:"6\u3001stop\uff08\u505c\u6b62\uff09\n\u505c\u6b62\u8fd0\u884c\u8c03\u8bd5\u4ee3\u7801"}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:"\u63a5\u7740\u6253\u4e0a\u65ad\u70b9\uff0c\u611f\u53d7\u4e00\u4e0b\u8fd9\u51e0\u4e2a\u6309\u94ae\u7684\u529f\u80fd\u5427\u3002"}),"\n",(0,r.jsx)(e.h5,{id:"visual-studio",children:"Visual Studio"}),"\n",(0,r.jsx)(e.p,{children:"\u90fd\u662f\u5fae\u8f6f\u5f00\u53d1\u7684\u8f6f\u4ef6\uff0c\u5927\u540c\u5c0f\u5f02\u3002"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-c",metastring:"showLineNumbers",children:'#define _CRT_SECURE_NO_WARNINGS\n#include <stdio.h>\n#include <windows.h>\nusing namespace std;\n\n#include "test.h"\n\n\n//\u5b9a\u4e49\u4e00\u4e2a\u5168\u5c40\u7ed3\u6784\u4f53,\u4f5c\u7528\u57df\u5230\u6587\u4ef6\u672b\u5c3e\nstruct Person {\n    int age;\n    char* name;\n};\n\nvoid test20() {\n    //\u4f7f\u7528\u5168\u5c40\u7684\u7ed3\u6784\u4f53\u5b9a\u4e49\u7ed3\u6784\u4f53\u53d8\u91cfp\n    char x[] = "\u6211\u662f\u8c01";\n    struct Person p = { 10 ,x };\n\n    printf("%d,%s\\n", p.age, p.name);\n}\n\nint main(int argc, const char* argv[])\n{\n    //\u5b9a\u4e49\u5c40\u90e8\u7ed3\u6784\u4f53\u540d\u4e3aPerson,\u4f1a\u5c4f\u853d\u5168\u5c40\u7ed3\u6784\u4f53\n    //\u5c40\u90e8\u7ed3\u6784\u4f53\u4f5c\u7528\u57df,\u4ece\u5b9a\u4e49\u5f00\u59cb\u5230\u201c}\u201d\u5757\u7ed3\u675f\n    struct Person {\n        int age;\n    };\n    // \u4f7f\u7528\u5c40\u90e8\u7ed3\u6784\u4f53\u7c7b\u578b\n    struct Person pp;\n    pp.age = 50;\n    //pp.name = "zbz"; \u4f1a\u62a5\u9519\uff0c\u6ca1\u6709name\n\n    test20(); // 10 , \u6211\u662f\u8c01\n\n    int a = 1;\n    return 0;\n}\n'})}),"\n",(0,r.jsx)(e.p,{children:"\u6211\u4eec\u5148\u5728\u7ea2\u8272\u533a\u57df\uff08\u6570\u5b57 1\uff09\u6253\u4e0a\u65ad\u70b9"}),"\n",(0,r.jsx)(e.p,{children:"\u518d\u5728\u7eff\u8272\u533a\u57df\uff08\u6570\u5b57 2\uff09\u70b9\u51fb\u8c03\u8bd5"}),"\n",(0,r.jsx)(e.p,{children:"\u6700\u540e\u84dd\u8272\u533a\u57df\u627e\u5230\u8fd9\u4e2a 6 \u4e2a\u6309\u94ae"}),"\n",(0,r.jsx)(e.p,{children:"\u524d\u9762 2 \u4e2a\u5206\u522b\u662f stop\uff08\u505c\u6b62\uff09\u548c Restart\uff08\u91cd\u542f\uff09"}),"\n",(0,r.jsx)(e.p,{children:"\u540e\u9762\u7684 1\u30012\u30013\u30014 \u5219\u4f9d\u6b21\u5bf9\u5e94\u7740\uff1acontinue\uff08\u7ee7\u7eed\uff09\u3001step over\uff08\u5355\u6b65\u8df3\u8fc7\uff09\u3001step into\uff08\u5355\u6b65\u8c03\u8bd5/\u5355\u6b65\u6267\u884c\uff09\u548c step out\uff08\u5355\u6b65\u8df3\u51fa\uff09"}),"\n",(0,r.jsx)(e.h4,{id:"\u4ee3\u7801\u7684\u4e92\u76f8\u8c03\u7528",children:"\u4ee3\u7801\u7684\u4e92\u76f8\u8c03\u7528"}),"\n",(0,r.jsx)(e.h5,{id:"\u5728-python-\u4e2d\u8c03\u7528-c\u539f\u751f\u7684-pythonh",children:"\u5728 Python \u4e2d\u8c03\u7528 C\uff08\u539f\u751f\u7684 Python.h\uff09"}),"\n",(0,r.jsx)(e.p,{children:"python+c/c++\u6df7\u5408\u7f16\u7a0b\u5982\uff1a"}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:"\u539f\u751f\u7684 Python.h"}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:"cython"}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:"pybind11\uff1apytorch \u4e5f\u91c7\u7528\u8be5\u65b9\u6cd5"}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:"ctypes\u3001cffi\u3001SWIG\u3001Boost.Pytho \u7b49"}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:"\u4f46\u4e0d\u8bba\u662f\u54ea\u4e2a\u65b9\u6cd5\uff0c\u5927\u81f4\u7684\u6d41\u7a0b\u90fd\u662f\uff1a\u8f6c\u6362\u6570\u636e\u7c7b\u578b->\u7f16\u8bd1\u4ee3\u7801->\u751f\u6210\u7f16\u8bd1\u540e\u7684\u6587\u4ef6\uff08.pyd .pyc .pyo .so .dll \u7b49\uff09"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",metastring:"showLineNumbers",children:"\u51b7\u77e5\u8bc6\uff1a\n\npython\u7684import\u4e0d\u6b62\u80fd\u5bfc\u5165.py\u540e\u7f00\u7ed3\u5c3e\u7684\u6587\u4ef6\n\npyc\u662f\u7531py\u6587\u4ef6\u7ecf\u8fc7\u7f16\u8bd1\u540e\u751f\u6210\u7684\u4e8c\u8fdb\u5236\u6587\u4ef6\uff0cpy\u6587\u4ef6\u53d8\u6210pyc\u6587\u4ef6\u540e\uff0c\u52a0\u8f7d\u7684\u901f\u5ea6\u6709\u6240\u63d0\u9ad8\uff0c\u5e76\u4e14\u53ef\u4ee5\u5b9e\u73b0\u6e90\u7801\u9690\u85cf\u3002\n\npyo\u662f\u4f18\u5316\u7f16\u8bd1\u540e\u7684\u7a0b\u5e8f\uff0c\u4e5f\u53ef\u4ee5\u63d0\u9ad8\u52a0\u8f7d\u901f\u5ea6\uff0c\u9488\u5bf9\u5d4c\u5165\u5f0f\u7cfb\u7edf\uff0c\u628a\u9700\u8981\u7684\u6a21\u5757\u7f16\u8bd1\u6210pyo\u6587\u4ef6\u53ef\u4ee5\u51cf\u5c11\u5bb9\u91cf\u3002\n\n.so\u548c.dll\u5206\u522b\u662fLinux\u548cwindow\u7684\u52a8\u6001\u5e93\n\n\u8fd9\u4e9b\u90fd\u53ef\u4ee5\u88abimport\u5bfc\u5165\uff0c\u6240\u4ee5\u6211\u4eec\u53ea\u9700\u8981\u7f16\u8bd1C\u4ee3\u7801\uff0c\u7136\u540eimport\u5bfc\u5165\u5373\u53ef\u3002\n\n"})}),"\n",(0,r.jsx)(e.h5,{id:"\u73af\u5883\u8bbe\u7f6e",children:"\u73af\u5883\u8bbe\u7f6e"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:"\u9996\u5148\u6211\u4eec\u627e\u5230 python \u7684\u5b89\u88c5\u8def\u5f84\uff0c\u901a\u8fc7\u6587\u4ef6\u641c\u7d22\u627e\u5230 Python.h \u7684\u6587\u4ef6\u5939\u8def\u5f84"}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:"\u3010\u8bbe\u6211\u7684 Python \u8def\u5f84\u4e3a C:\\Python\u3011"}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:"\u90a3\u4e48 Python.h \u7684\u6587\u4ef6\u4f4d\u7f6e\u5c31\u662f\uff1aC:\\Python\\include \u7b80\u79f0 H \u8def\u5f84"}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:"python310_d.lib \u7684\u4f4d\u7f6e\u5c31\u662f\uff1aC:\\Python\\libs \u7b80\u79f0 L \u8def\u5f84"}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:"\u63a5\u7740\u53f3\u51fb\u3010\u9879\u76ee\u3011\uff0c\u70b9\u51fb\u5c5e\u6027"}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:["\u6700\u540e\u5728\u4e0a\u65b9\u9009\u62e9\u6240\u6709\u914d\u7f6e\u3001\u6240\u6709\u5e73\u53f0\u3002\u70b9\u51fb VC++\u76ee\u5f55\uff0c\u9009\u62e9\u5305\u542b\u76ee\u5f55\u6700\u53f3\u8fb9\u7684\u4e0b\u62c9\u4e09\u89d2\uff0c\u8f93\u5165\u521a\u521a\u590d\u5236\u7684",(0,r.jsx)(e.strong,{children:"H \u8def\u5f84"}),"\u5373\u53ef"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:"\u63a5\u7740\u518d\u6765\u8f7d\u5165 python310_d.lib \u5e93\uff0c\u6253\u5f00 L \u8def\u5f84\u67e5\u770b\u91cc\u9762\u6709\u65e0 python310_d.lib \u8fd9\u4e2a\u6587\u4ef6\uff0c\u3010\u6ce8\u610f\uff0c310 \u662f python \u7248\u672c\u53f7\uff0c\u4e0d\u540c\u7248\u672c\u5bf9\u5e94\u4e0d\u540c\u6587\u4ef6\u540d\u3011\u5982\u679c\u6ca1\u6709\uff0c\u5219\u590d\u5236 python310.lib\uff0c\u7136\u540e\u91cd\u547d\u540d\u3002"}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:"\u8fd8\u662f\u6253\u5f00\u521a\u521a\u7684\u5c5e\u6027\uff0c\u4f9d\u6b21\u8bbe\u7f6e\u3002"}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:"\u5e93\u76ee\u5f55\u586b\u3010\u6587\u4ef6\u5939\u8def\u5f84\u3011"}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:"\u9644\u52a0\u4f9d\u8d56\u9879\u586b\u3010\u6587\u4ef6\u8def\u5f84\u3011"}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.h5,{id:"\u4ee3\u7801\u7f16\u5199",children:"\u4ee3\u7801\u7f16\u5199"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u65b0\u5efa\u4e00\u4e2a\u6587\u4ef6\u540d\uff0c\u6839\u636e\u5b98\u65b9\u6587\u6863\u7684\u8bf4\u6cd5\uff0c\u4ee5 C \u8bed\u8a00\u4e3a\u4f8b\uff0c\u5982\u679c\u4e00\u4e2a\u6a21\u5757\u53eb spam\uff0c\u5219\u5bf9\u5e94\u5b9e\u73b0\u5b83\u7684\u6587\u4ef6\u540d\u53eb spammodule.c\uff1b\u5982\u679c\u8fd9\u4e2a\u6a21\u5757\u540d\u5b57\u975e\u5e38\u957f\uff0c\u6bd4\u5982 spammify\uff0c\u5219\u8fd9\u4e2a\u6a21\u5757\u7684\u6587\u4ef6\u53ef\u4ee5\u76f4\u63a5\u53eb spammify.c"}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:"\u8fd9\u91cc\u6211\u8c03\u6574\u4e86\u4e00\u4e0b\u5b98\u65b9\u6587\u6863\u7ed9\u7684\u793a\u4f8b\uff0c\u6dfb\u52a0\u4e86\u4e00\u4e9b\u6ce8\u91ca\u3002\u8ba9\u65b0\u624b\u66f4\u6613\u8bfb\u3002"}),"\n",(0,r.jsx)(e.p,{children:"\u5f53\u7136\u539f\u751f\u7684\u65b9\u6cd5\u603b\u662f\u6700\u5e95\u5c42\u4f46\u662f\u6700\u9ebb\u70e6\u7684\u65b9\u6cd5\uff0c\u5982\u679c\u4f7f\u7528\u8bf8\u5982 Python \u4e2d\u7684 ctypes \u6a21\u5757\u5219\u6d41\u7a0b\u4f1a\u7b80\u5316\u3002\u6b64\u5904\u53ef\u4ee5\u67e5\u9605\u76f8\u5173\u6587\u6863\u3002"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-c",metastring:"showLineNumbers",children:'#define PY_SSIZE_T_CLEAN\n#include <Python.h>\n\nstatic PyObject* spam_system(PyObject* self, PyObject* args)\n{\n    /*\n     self \u53c2\u6570\u6307\u5411\u6a21\u5757\u5bf9\u8c61\uff1b\u5bf9\u4e8e\u65b9\u6cd5\u5219\u6307\u5411\u5bf9\u8c61\u5b9e\u4f8b\u3002\n\n     args \u53c2\u6570\u662f\u6307\u5411\u4e00\u4e2a Python \u7684 tuple \u5bf9\u8c61\u7684\u6307\u9488\uff0c\u5176\u4e2d\u5305\u542b\u53c2\u6570\u3002\n     \u6bcf\u4e2a tuple \u9879\u5bf9\u5e94\u4e00\u4e2a\u8c03\u7528\u53c2\u6570\u3002 \u8fd9\u4e9b\u53c2\u6570\u4e5f\u5168\u90fd\u662f Python \u5bf9\u8c61\n     \u8981\u5728\u6211\u4eec\u7684 C \u51fd\u6570\u4e2d\u4f7f\u7528\u5b83\u4eec\u5c31\u9700\u8981\u5148  \u5c06\u5176\u8f6c\u6362\u4e3a C \u503c\u3002\n    */\n\n    const char* command;\n    int sts;\n    //PyArg_ParseTuple() \u4f1a\u68c0\u67e5\u53c2\u6570\u7c7b\u578b\u5e76\u5c06\u5176\u8f6c\u6362\u4e3a C \u503c\u3002\n    //\u5b83\u4f7f\u7528\u6a21\u677f\u5b57\u7b26\u4e32\u786e\u5b9a\u9700\u8981\u7684\u53c2\u6570\u7c7b\u578b\u4ee5\u53ca\u5b58\u50a8\u88ab\u8f6c\u6362\u7684\u503c\u7684 C \u53d8\u91cf\u7c7b\u578b\u3002\n    //\u5728\u6240\u6709\u53c2\u6570\u90fd\u6709\u6b63\u786e\u7c7b\u578b\u4e14\u7ec4\u6210\u90e8\u5206\u6309\u987a\u5e8f\u653e\u5728\u4f20\u9012\u8fdb\u6765\u7684\u5730\u5740\u91cc\u65f6\uff0c\u8fd4\u56de\u771f(\u975e\u96f6)\u3002\n    //\u5176\u5728\u4f20\u5165\u65e0\u6548\u53c2\u6570\u65f6\u8fd4\u56de\u5047(\u96f6)\u3002\u5728\u540e\u7eed\u4f8b\u5b50\u91cc\uff0c\u8fd8\u4f1a\u629b\u51fa\u7279\u5b9a\u5f02\u5e38\uff0c\u4f7f\u5f97\u8c03\u7528\u7684\u51fd\u6570\u53ef\u4ee5\u7406\u89e3\u8fd4\u56de NULL(\u4e5f\u5c31\u662f\u4f8b\u5b50\u91cc\u6240\u89c1)\u3002\n    // "s" \u662f\u4e00\u4e2a\u53c2\u6570\uff0c\u5c06 Unicode \u5bf9\u8c61\u8f6c\u6362\u4e3a\u6307\u5411\u5b57\u7b26\u4e32\u7684 C \u6307\u9488\u3002\u5177\u4f53\u53ef\u4ee5\u53c2\u8003 https://docs.python.org/3/c-api/arg.html\n    if (PyArg_ParseTuple(args, "s", &command)) {\n\n        // system \u662fC\u7684\u5e93\u51fd\u6570\uff0c\u4ece\u5c5e\u4e8estdlib\u6807\u51c6\u5e93,\u3010\u7247\u9762\u3011\u7684\u8bf4\uff1a\n        // \u8fd4\u56de\u503c\u662f0\u8868\u793a\u6210\u529f\n        // \u8fd4\u56de\u503c\u662f\u5176\u4ed6\u8868\u793a\u6267\u884c\u5931\u8d25\n        // \u81f3\u4e8e\u4e3a\u4ec0\u4e48\u662f\u7247\u9762\u7684\uff0c\u539f\u56e0\u4f1a\u5728\u4e0b\u4e2a\u9636\u6bb5\u89e3\u91ca\u3002\n        sts = system(command);\n\n        //PyLong_FromLong\u8fd4\u56de\u4e00\u4e2a\u8868\u793a Python \u6574\u6570\u5bf9\u8c61\u7684 PyObject \u5b50\u7c7b\u578b\u3002\n        return PyLong_FromLong(sts);\n    }\n    else {\n        return NULL;\n    }\n}\n\n// \u6784\u9020\u65b9\u6cd5\nstatic PyMethodDef SpamMethods[] = {\n    {"system",  spam_system, METH_VARARGS,\n     "Execute a shell command."},\n    {NULL, NULL, 0, NULL}        /* Sentinel */\n};\n\n// \u8c03\u7528\u6784\u9020\u65b9\u6cd5\nstatic struct PyModuleDef spammodule = {\n    PyModuleDef_HEAD_INIT,\n    "spam",   /* name of module */\n    NULL, /* module documentation, may be NULL */\n    -1,       /* size of per-interpreter state of the module,\n                 or -1 if the module keeps state in global variables. */\n    SpamMethods\n};\n// \u521d\u59cb\u5316\nPyMODINIT_FUNC\nPyInit_spam(void)\n{\n    return PyModule_Create(&spammodule);\n}\n\nint\nmain(int argc, char* argv[])\n{\n    wchar_t* program = Py_DecodeLocale(argv[0], NULL);\n    if (program == NULL) {\n        fprintf(stderr, "Fatal error: cannot decode argv[0]\\n");\n        exit(1);\n    }\n    /* Add a built-in module, before Py_Initialize */\n    if (PyImport_AppendInittab("spam", PyInit_spam) == -1) {\n        fprintf(stderr, "Error: could not extend in-built modules table\\n");\n        exit(1);\n    }\n    /* Pass argv[0] to the Python interpreter */\n    Py_SetProgramName(program);\n    /* Initialize the Python interpreter.  Required.\n       If this step fails, it will be a fatal error. */\n    Py_Initialize();\n    /* Optionally import the module; alternatively,\n       import can be deferred until the embedded script\n       imports it. */\n    PyObject* pmodule = PyImport_ImportModule("spam");\n    if (!pmodule) {\n        PyErr_Print();\n        fprintf(stderr, "Error: could not import module \'spam\'\\n");\n    }\n\n    PyMem_RawFree(program);\n    return 0;\n}\n\n'})}),"\n",(0,r.jsx)(e.h3,{id:"python-\u53d1\u5e03\u5305",children:"Python \u53d1\u5e03\u5305"}),"\n",(0,r.jsx)(e.p,{children:"\u622a\u81f32024\u5e7410\u6708,\u6709\u4e86\u975e\u5e38\u591a\u6210\u719f\u7684\u5305\u7ba1\u7406\u5de5\u5177,\u5982 poetry\u3001rye\u7b49\u5de5\u5177\uff0c\u6211\u76f8\u4fe1\u672a\u6765\u8fd8\u4f1a\u6709\u66f4\u591a\u66f4\u597d\u7528\u7684\u4e00\u7ad9\u5f0f\u5305\u7ba1\u7406\u5de5\u5177\u51fa\u73b0\u3002"}),"\n",(0,r.jsx)(e.h4,{id:"\u76ee\u5f55\u7ed3\u6784",children:"\u76ee\u5f55\u7ed3\u6784"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",metastring:"showLineNumbers",children:"your_project/\n\u251c\u2500\u2500 .github/\uff08\u53ef\u9009\uff09\n\u2502  \u2514\u2500\u2500 workflows/\uff08\u53ef\u9009\uff09\n\u2502      \u2514\u2500\u2500 python-publish.yml\uff08\u53ef\u9009\uff09\n\u2502\n\u251c\u2500\u2500 your_package/\uff08\u5305\u540d\uff09\n\u2502   \u251c\u2500\u2500 __init__.py\n\u2502   \u2514\u2500\u2500 module.py\n\u2502\n\u251c\u2500\u2500 tests/\uff08\u53ef\u9009\uff09\n\u2502   \u2514\u2500\u2500 test_module.py\n\u2502\n\u251c\u2500\u2500 README.md\uff08\u53ef\u9009\uff09\n\u251c\u2500\u2500 LICENSE\uff08\u53ef\u9009\uff09\n\u2514\u2500\u2500 pyproject.toml\n"})}),"\n",(0,r.jsx)(e.h4,{id:"pyprojecttoml-\u793a\u4f8b",children:"pyproject.toml \u793a\u4f8b"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-showLineNumbers",metastring:'title="pyproject.toml"',children:'[build-system]\nrequires = ["setuptools>=61.0", "wheel"]\nbuild-backend = "setuptools.build_meta"\n\n[project]\nname = "pocwatchdog"\nversion = "1.1.6"\nauthors = [\n  { name="Allen", email="jiangyangcreate@gmail.com" },\n]\ndescription = "A pocwatchdog package for security monitoring"\nreadme = "README.md"\nrequires-python = ">=3.6"\nclassifiers = [\n    "Programming Language :: Python :: 3",\n    "License :: OSI Approved :: Apache Software License",\n    "Operating System :: OS Independent",\n]\ndependencies = [\n    "schedule>=1.1.0",\n]\n\n[project.urls]\nHomepage = "https://github.com/jiangyangcreate/pocwatchdog"\nIssues = "https://github.com/jiangyangcreate/pocwatchdog/issues"\n'})}),"\n",(0,r.jsx)(e.p,{children:"\u5176\u4e2d\uff1adependencies \u662f\u4f9d\u8d56\u7684\u5305\uff0c\u5728\u8fd9\u91cc\u6dfb\u52a0\u4f60\u9700\u8981\u7684\u4f9d\u8d56\u5305\u4e4b\u540e\uff0c\u5b89\u88c5\u6b64\u5305\u65f6\u4f1a\u81ea\u52a8\u5b89\u88c5\u8fd9\u4e9b\u4f9d\u8d56\u5305\u3002"}),"\n",(0,r.jsx)(e.h4,{id:"\u6253\u5305\u53d1\u5e03",children:"\u6253\u5305\u53d1\u5e03"}),"\n",(0,r.jsx)(e.p,{children:"\u5982\u679c\u6211\u4eec\u9700\u8981\u5305\u88ab\u5168\u4e16\u754c\u7684\u540c\u597d\u901a\u8fc7 pip install \u76f4\u63a5\u5b89\u88c5\u7684\u8bdd\uff0c\u9700\u8981\u5c06\u5305\u4e0a\u4f20\u5230 pypi \u7f51\u7ad9\u3002\u9996\u5148\u6ce8\u518c pypi\uff0c\u83b7\u5f97\u7528\u6237\u540d\u548c\u5bc6\u7801\u3002"}),"\n",(0,r.jsx)(e.p,{children:"\u5b89\u88c5\u4e86 build \u5de5\u5177\uff1a"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.code,{children:"pip install --upgrade build"})}),"\n",(0,r.jsx)(e.p,{children:"\u7136\u540e\uff0c\u5728\u9879\u76ee\u6839\u76ee\u5f55\u4e0b\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\u6765\u521b\u5efa\u5206\u53d1\u6587\u4ef6\uff1a"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.code,{children:"python -m build"})}),"\n",(0,r.jsx)(e.p,{children:"\u8be5\u547d\u4ee4\u5c06\u5728 dist/ \u76ee\u5f55\u4e0b\u751f\u6210 .tar.gz \u548c .whl \u6587\u4ef6\u3002"}),"\n",(0,r.jsx)(e.p,{children:"Twine \u662f\u4e00\u4e2a\u7528\u4e8e\u4e0a\u4f20 Python \u5305\u5230 PyPI \u7684\u5de5\u5177\u3002\u5b89\u88c5 Twine\uff1a"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.code,{children:"pip install --upgrade twine"})}),"\n",(0,r.jsx)(e.p,{children:"\u4e0a\u4f20\u6240\u6709\u5305"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.code,{children:"twine upload dist/*"})}),"\n",(0,r.jsx)(e.p,{children:"\u5982\u679c\u5acc\u6bcf\u6b21\u8f93\u5165\u7528\u6237\u540d\u548c\u5bc6\u7801\u9ebb\u70e6\u53ef\u4ee5\u914d\u7f6e\u5230\u6587\u4ef6\u4e2d\u3002"}),"\n",(0,r.jsx)(e.p,{children:"\u7f16\u8f91\u7528\u6237\u76ee\u5f55\u4e0b\u7684 .pypirc \u6587\u4ef6\uff0c\u8f93\u5165"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",metastring:"showLineNumbers",children:"[pypi]\nusername=your_username\npassword=your_password\n"})}),"\n",(0,r.jsx)(e.h4,{id:"\u901a\u8fc7git\u81ea\u52a8\u53d1\u5e03",children:"\u901a\u8fc7git\u81ea\u52a8\u53d1\u5e03"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-yaml",metastring:'showLineNumbers title=".github\\workflows\\python-publish.yml"',children:"name: Upload Python Package\n\non:\n  release:\n    types: [published]\n\npermissions:\n  contents: read\n\njobs:\n  deploy:\n\n    runs-on: ubuntu-latest\n\n    steps:\n    - uses: actions/checkout@v4\n    - name: Set up Python\n      uses: actions/setup-python@v3\n      with:\n        python-version: '3.x'\n    - name: Install dependencies\n      run: |\n        python -m pip install --upgrade pip\n        pip install build\n    - name: Build package\n      run: python -m build\n    - name: Publish package\n      uses: pypa/gh-action-pypi-publish@27b31702a0e7fc50959f5ad993c78deac1bdfc29\n      with:\n        user: __token__\n        password: ${{ secrets.PYPI_API_TOKEN }}\n"})}),"\n",(0,r.jsx)(e.p,{children:"\u8fd9\u4e2a\u8fc7\u7a0b\u9700\u8981\u6211\u4eec\u5728pypi\u4e2d\u83b7\u53d6\u5bc6\u94a5\uff0c\u7136\u540e\u5728github\u7684\u9879\u76ee\u8bbe\u7f6e\u4e2d\u6dfb\u52a0\u3002"}),"\n",(0,r.jsx)(e.p,{children:"\u5728pypi\u4e2d\u83b7\u53d6\u5bc6\u94a5:"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{children:"\u8bbf\u95ee\uff1ahttps://pypi.org/manage/account/token/\n\n\u9009\u62e9ADD API tokens\n\n\u540d\u79f0\u53ef\u4ee5\u968f\u4fbf\u586b\uff0c\u52fe\u9009\u4f60\u9700\u8981\u6388\u6743\u7684\u6743\u9650\uff0c\u7136\u540e\u521b\u5efa\n\n"})}),"\n",(0,r.jsx)(e.p,{children:"\u5728github\u7684\u9879\u76ee\u8bbe\u7f6e\u4e2d\u6dfb\u52a0:"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",metastring:"showLineNumbers",children:"Settings -> Secrets and variables-> Actions -> New repository secret\n\nName: PYPI_API_TOKEN\nValue: \u521a\u521a\u590d\u5236\u7684\u5bc6\u94a5\n"})}),"\n",(0,r.jsxs)(e.p,{children:["\u8fd9\u6837\u5f53\u6211\u4eec\u5728github\u4e0a",(0,r.jsx)(e.strong,{children:"\u521b\u5efarelease"}),"\u65f6\uff0c\u4f1a\u81ea\u52a8\u5c06\u5305\u4e0a\u4f20\u5230pypi\u3002\u6ce8\u610f\u4e0d\u662fpush\u4ee3\u7801\u81ea\u52a8\u4e0a\u4f20\u3002"]}),"\n",(0,r.jsx)(e.h4,{id:"\u5c01\u88c5\u7a0b\u5e8f\u4e3a\u53ef\u6267\u884c\u6587\u4ef6",children:"\u5c01\u88c5\u7a0b\u5e8f\u4e3a\u53ef\u6267\u884c\u6587\u4ef6"}),"\n",(0,r.jsxs)(e.p,{children:["\u5b98\u65b9\u6587\u6863\uff1a",(0,r.jsx)(e.a,{href:"https://www.pyinstaller.org/",children:"https://www.pyinstaller.org/"})]}),"\n",(0,r.jsx)(e.p,{children:"\u547d\u4ee4\u884c\uff1a"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",metastring:"showLineNumbers",children:'# \u76f4\u63a5\u5c01\u88c5\npyinstaller -F app.py\n# \u6307\u5b9a\u56fe\u6807\npyinstaller -F -i app.ico app.py\n# \u6307\u5b9a\u56fe\u6807 \u4e0d\u5c55\u793a\u7ec8\u7aef\u6846\npyinstaller -F -i app.ico app.py --noconsole\n# \u5c06\u6570\u636e\u6587\u4ef6\u6dfb\u52a0\u5230\u6346\u7ed1\u5305\u4e2d\uff0c\u4e2d\u95f4\u4f7f\u7528\u5206\u53f7\u5206\u9694\uff0c\u524d\u9762\u662f\u6e90\u76ee\u5f55\u5730\u5740\uff0c\u540e\u9762\u662f\u76ee\u7684\u76ee\u5f55\u5730\u5740\npyinstaller -F -i app.ico app.py --add-data="C:\\mediapipe\\modules;mediapipe/modules" --noconsole\n'})}),"\n",(0,r.jsx)(e.h3,{id:"python-\u865a\u62df\u73af\u5883",children:"Python \u865a\u62df\u73af\u5883"}),"\n",(0,r.jsx)(e.p,{children:"\u4f7f\u7528\u865a\u62df\u73af\u5883\u53ef\u4ee5\u5e2e\u52a9\u4f60\u9694\u79bb\u9879\u76ee\u4f9d\u8d56\uff0c\u4ece\u800c\u907f\u514d\u4e0d\u540c\u9879\u76ee\u4e4b\u95f4\u7684\u51b2\u7a81\u3002"}),"\n",(0,r.jsx)(e.h4,{id:"1-\u521b\u5efa\u865a\u62df\u73af\u5883",children:"1. \u521b\u5efa\u865a\u62df\u73af\u5883"}),"\n",(0,r.jsx)(e.p,{children:"\u5728\u4f60\u60f3\u521b\u5efa\u865a\u62df\u73af\u5883\u7684\u9879\u76ee\u76ee\u5f55\u4e0b\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\uff1a"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"python3 -m venv myenv\n"})}),"\n",(0,r.jsxs)(e.p,{children:["\u8fd9\u91cc\u7684 ",(0,r.jsx)(e.code,{children:"myenv"})," \u662f\u865a\u62df\u73af\u5883\u7684\u540d\u79f0\uff0c\u4f60\u53ef\u4ee5\u968f\u610f\u66ff\u6362\u6210\u4f60\u559c\u6b22\u7684\u540d\u5b57\u3002"]}),"\n",(0,r.jsx)(e.h4,{id:"2-\u8fdb\u5165\u865a\u62df\u73af\u5883",children:"2. \u8fdb\u5165\u865a\u62df\u73af\u5883"}),"\n",(0,r.jsx)(e.p,{children:"\u5728\u865a\u62df\u73af\u5883\u521b\u5efa\u6210\u529f\u540e\uff0c\u9700\u8981\u6fc0\u6d3b\u865a\u62df\u73af\u5883\u3002\u4e0d\u540c\u64cd\u4f5c\u7cfb\u7edf\u6fc0\u6d3b\u65b9\u5f0f\u4e0d\u540c\uff1a"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u5728 Windows \u4e0a\uff1a"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"myenv\\Scripts\\activate\n"})}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u5728 macOS \u548c Linux \u4e0a\uff1a"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"source myenv/bin/activate\n"})}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.p,{children:["\u6fc0\u6d3b\u6210\u529f\u540e\uff0c\u4f60\u4f1a\u770b\u5230\u547d\u4ee4\u63d0\u793a\u7b26\u524d\u9762\u51fa\u73b0\u4e86\u865a\u62df\u73af\u5883\u7684\u540d\u79f0\uff0c\u4f8b\u5982 ",(0,r.jsx)(e.code,{children:"(myenv)"}),"\u3002"]}),"\n",(0,r.jsx)(e.h4,{id:"3-\u67e5\u770b\u865a\u62df\u73af\u5883",children:"3. \u67e5\u770b\u865a\u62df\u73af\u5883"}),"\n",(0,r.jsxs)(e.p,{children:["\u4f60\u53ef\u4ee5\u4f7f\u7528 ",(0,r.jsx)(e.code,{children:"pip list"})," \u6216 ",(0,r.jsx)(e.code,{children:"pip freeze"})," \u547d\u4ee4\u6765\u67e5\u770b\u865a\u62df\u73af\u5883\u4e2d\u5df2\u5b89\u88c5\u7684\u5305\u3002"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"pip list\n"})}),"\n",(0,r.jsx)(e.p,{children:"\u6216\u8005"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"pip freeze\n"})}),"\n",(0,r.jsx)(e.h4,{id:"4-\u5728\u865a\u62df\u73af\u5883\u4e2d\u5b89\u88c5\u548c\u8fd0\u884c\u4ee3\u7801",children:"4. \u5728\u865a\u62df\u73af\u5883\u4e2d\u5b89\u88c5\u548c\u8fd0\u884c\u4ee3\u7801"}),"\n",(0,r.jsxs)(e.p,{children:["\u6fc0\u6d3b\u865a\u62df\u73af\u5883\u540e\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528 ",(0,r.jsx)(e.code,{children:"pip"})," \u5b89\u88c5\u6240\u9700\u7684\u4f9d\u8d56\u5305\u3002\u4f8b\u5982\uff0c\u5b89\u88c5 ",(0,r.jsx)(e.code,{children:"requests"})," \u5305\uff1a"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"pip install requests\n"})}),"\n",(0,r.jsxs)(e.p,{children:["\u7136\u540e\u4f60\u5c31\u53ef\u4ee5\u8fd0\u884c\u4f60\u7684 Python \u4ee3\u7801\u4e86\u3002\u6bd4\u5982\u4f60\u6709\u4e00\u4e2a ",(0,r.jsx)(e.code,{children:"script.py"})," \u6587\u4ef6\uff0c\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u8fd0\u884c\uff1a"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"python script.py\n"})}),"\n",(0,r.jsx)(e.h4,{id:"5-\u9000\u51fa\u865a\u62df\u73af\u5883",children:"5. \u9000\u51fa\u865a\u62df\u73af\u5883"}),"\n",(0,r.jsx)(e.p,{children:"\u5f53\u4f60\u5b8c\u6210\u5de5\u4f5c\u540e\uff0c\u53ef\u4ee5\u9000\u51fa\u865a\u62df\u73af\u5883\uff0c\u56de\u5230\u5168\u5c40\u73af\u5883\u3002\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\uff1a"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"deactivate\n"})})]})}function h(n={}){const{wrapper:e}={...(0,l.R)(),...n.components};return e?(0,r.jsx)(e,{...n,children:(0,r.jsx)(d,{...n})}):d(n)}},28453:(n,e,s)=>{s.d(e,{R:()=>t,x:()=>c});var i=s(96540);const r={},l=i.createContext(r);function t(n){const e=i.useContext(l);return i.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function c(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(r):n.components||r:t(n.components),i.createElement(l.Provider,{value:e},n.children)}}}]);